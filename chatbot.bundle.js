var ChatbotEmbed=function(or,H_){"use strict";function P_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Po={exports:{}},cr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function k_(){if(Zf)return cr;Zf=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:l,type:r,key:m,ref:c!==void 0?c:null,props:f}}return cr.Fragment=n,cr.jsx=a,cr.jsxs=a,cr}var Jf;function j_(){return Jf||(Jf=1,Po.exports=k_()),Po.exports}var Pt=j_(),ko={exports:{}},hr={},jo={exports:{}},Go={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function G_(){return $f||($f=1,function(l){function n(k,F){var et=k.length;k.push(F);t:for(;0<et;){var Vt=et-1>>>1,xt=k[Vt];if(0<c(xt,F))k[Vt]=F,k[et]=xt,et=Vt;else break t}}function a(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var F=k[0],et=k.pop();if(et!==F){k[0]=et;t:for(var Vt=0,xt=k.length,Re=xt>>>1;Vt<Re;){var bt=2*(Vt+1)-1,ut=k[bt],ae=bt+1,xe=k[ae];if(0>c(ut,et))ae<xt&&0>c(xe,ut)?(k[Vt]=xe,k[ae]=et,Vt=ae):(k[Vt]=ut,k[bt]=et,Vt=bt);else if(ae<xt&&0>c(xe,et))k[Vt]=xe,k[ae]=et,Vt=ae;else break t}}return F}function c(k,F){var et=k.sortIndex-F.sortIndex;return et!==0?et:k.id-F.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();l.unstable_now=function(){return m.now()-y}}var E=[],T=[],w=1,B=null,H=3,K=!1,J=!1,nt=!1,W=!1,kt=typeof setTimeout=="function"?setTimeout:null,Ct=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function qt(k){for(var F=a(T);F!==null;){if(F.callback===null)r(T);else if(F.startTime<=k)r(T),F.sortIndex=F.expirationTime,n(E,F);else break;F=a(T)}}function be(k){if(nt=!1,qt(k),!J)if(a(E)!==null)J=!0,It||(It=!0,O());else{var F=a(T);F!==null&&qe(be,F.startTime-k)}}var It=!1,V=-1,A=5,R=-1;function C(){return W?!0:!(l.unstable_now()-R<A)}function N(){if(W=!1,It){var k=l.unstable_now();R=k;var F=!0;try{t:{J=!1,nt&&(nt=!1,Ct(V),V=-1),K=!0;var et=H;try{e:{for(qt(k),B=a(E);B!==null&&!(B.expirationTime>k&&C());){var Vt=B.callback;if(typeof Vt=="function"){B.callback=null,H=B.priorityLevel;var xt=Vt(B.expirationTime<=k);if(k=l.unstable_now(),typeof xt=="function"){B.callback=xt,qt(k),F=!0;break e}B===a(E)&&r(E),qt(k)}else r(E);B=a(E)}if(B!==null)F=!0;else{var Re=a(T);Re!==null&&qe(be,Re.startTime-k),F=!1}}break t}finally{B=null,H=et,K=!1}F=void 0}}finally{F?O():It=!1}}}var O;if(typeof mt=="function")O=function(){mt(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Be=b.port2;b.port1.onmessage=N,O=function(){Be.postMessage(null)}}else O=function(){kt(N,0)};function qe(k,F){V=kt(function(){k(l.unstable_now())},F)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return H},l.unstable_next=function(k){switch(H){case 1:case 2:case 3:var F=3;break;default:F=H}var et=H;H=F;try{return k()}finally{H=et}},l.unstable_requestPaint=function(){W=!0},l.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var et=H;H=k;try{return F()}finally{H=et}},l.unstable_scheduleCallback=function(k,F,et){var Vt=l.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Vt+et:Vt):et=Vt,k){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=et+xt,k={id:w++,callback:F,priorityLevel:k,startTime:et,expirationTime:xt,sortIndex:-1},et>Vt?(k.sortIndex=et,n(T,k),a(E)===null&&k===a(T)&&(nt?(Ct(V),V=-1):nt=!0,qe(be,et-Vt))):(k.sortIndex=xt,n(E,k),J||K||(J=!0,It||(It=!0,O()))),k},l.unstable_shouldYield=C,l.unstable_wrapCallback=function(k){var F=H;return function(){var et=H;H=F;try{return k.apply(this,arguments)}finally{H=et}}}}(Go)),Go}var Wf;function Q_(){return Wf||(Wf=1,jo.exports=G_()),jo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function K_(){if(td)return hr;td=1;var l=Q_(),n=or,a=H_;function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(r(188))}function E(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,s=e;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return y(o),t;if(h===s)return y(o),e;h=h.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=h;else{for(var p=!1,_=o.child;_;){if(_===i){p=!0,i=o,s=h;break}if(_===s){p=!0,s=o,i=h;break}_=_.sibling}if(!p){for(_=h.child;_;){if(_===i){p=!0,i=h,s=o;break}if(_===s){p=!0,s=h,i=o;break}_=_.sibling}if(!p)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function T(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=T(t),e!==null)return e;t=t.sibling}return null}var w=Object.assign,B=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),Ct=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case W:return"Profiler";case nt:return"StrictMode";case be:return"Suspense";case It:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case Ct:return(t._context.displayName||"Context")+".Consumer";case qt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:Be(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return Be(t(e))}catch{}}return null}var qe=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Vt=[],xt=-1;function Re(t){return{current:t}}function bt(t){0>xt||(t.current=Vt[xt],Vt[xt]=null,xt--)}function ut(t,e){xt++,Vt[xt]=t.current,t.current=e}var ae=Re(null),xe=Re(null),Vn=Re(null),Fn=Re(null);function ps(t,e){switch(ut(Vn,e),ut(xe,t),ut(ae,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?m_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=m_(e),t=g_(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}bt(ae),ut(ae,t)}function Ii(){bt(ae),bt(xe),bt(Vn)}function xi(t){t.memoizedState!==null&&ut(Fn,t);var e=ae.current,i=g_(e,t.type);e!==i&&(ut(xe,t),ut(ae,i))}function Zn(t){xe.current===t&&(bt(ae),bt(xe)),Fn.current===t&&(bt(Fn),Il._currentValue=et)}var ga=Object.prototype.hasOwnProperty,pa=l.unstable_scheduleCallback,ya=l.unstable_cancelCallback,Nr=l.unstable_shouldYield,pu=l.unstable_requestPaint,sn=l.unstable_now,Fc=l.unstable_getCurrentPriorityLevel,Mr=l.unstable_ImmediatePriority,ys=l.unstable_UserBlockingPriority,_a=l.unstable_NormalPriority,Zc=l.unstable_LowPriority,_s=l.unstable_IdlePriority,Or=l.log,yu=l.unstable_setDisableYieldValue,Ft=null,Nt=null;function Fe(t){if(typeof Or=="function"&&yu(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ft,t)}catch{}}var Ue=Math.clz32?Math.clz32:va,_u=Math.log,Jc=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(_u(t)/Jc|0)|0}var Ea=256,Ta=4194304;function _n(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vs(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var o=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?o=_n(s):(p&=_,p!==0?o=_n(p):i||(i=_&~t,i!==0&&(o=_n(i))))):(_=s&~h,_!==0?o=_n(_):p!==0?o=_n(p):i||(i=s&~t,i!==0&&(o=_n(i)))),o===0?0:e!==0&&e!==o&&(e&h)===0&&(h=o&-o,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:o}function Aa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ir(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(){var t=Ea;return Ea<<=1,(Ea&4194048)===0&&(Ea=256),t}function Ur(){var t=Ta;return Ta<<=1,(Ta&62914560)===0&&(Ta=4194304),t}function Jn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function $n(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zr(t,e,i,s,o,h){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var _=t.entanglements,S=t.expirationTimes,U=t.hiddenUpdates;for(i=p&~i;0<i;){var P=31-Ue(i),G=1<<P;_[P]=0,S[P]=-1;var z=U[P];if(z!==null)for(U[P]=null,P=0;P<z.length;P++){var L=z[P];L!==null&&(L.lane&=-536870913)}i&=~G}s!==0&&Nn(t,s,0),h!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~e))}function Nn(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ue(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&4194090}function Lr(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-Ue(i),o=1<<s;o&e|t[s]&e&&(t[s]|=e),i&=~o}}function Ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:x_(t.type))}function vu(t,e){var i=F.p;try{return F.p=t,e()}finally{F.p=i}}var Gt=Math.random().toString(36).slice(2),he="__reactFiber$"+Gt,se="__reactProps$"+Gt,rn="__reactContainer$"+Gt,Br="__reactEvents$"+Gt,$c="__reactListeners$"+Gt,Li="__reactHandles$"+Gt,Eu="__reactResources$"+Gt,Sa="__reactMarker$"+Gt;function Bi(t){delete t[he],delete t[se],delete t[Br],delete t[$c],delete t[Li]}function Wn(t){var e=t[he];if(e)return e;for(var i=t.parentNode;i;){if(e=i[rn]||i[he]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=v_(t);t!==null;){if(i=t[he])return i;t=v_(t)}return e}t=i,i=t.parentNode}return null}function Mn(t){if(t=t[he]||t[rn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function On(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function He(t){var e=t[Eu];return e||(e=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function te(t){t[Sa]=!0}var qr=new Set,Ts={};function vn(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(Ts[t]=e,t=0;t<e.length;t++)qr.add(e[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},ba={};function Su(t){return ga.call(ba,t)?!0:ga.call(Au,t)?!1:Tu.test(t)?ba[t]=!0:(Au[t]=!0,!1)}function qi(t,e,i){if(Su(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function In(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function we(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}var Ra,bu;function ei(t){if(Ra===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ra=e&&e[1]||"",bu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+t+bu}var As=!1;function Ss(t,e){if(!t||As)return"";As=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var z=L}Reflect.construct(t,[],G)}else{try{G.call()}catch(L){z=L}t.call(G.prototype)}}else{try{throw Error()}catch(L){z=L}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&z&&typeof L.stack=="string")return[L.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),p=h[0],_=h[1];if(p&&_){var S=p.split(`
`),U=_.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===U.length)for(s=S.length-1,o=U.length-1;1<=s&&0<=o&&S[s]!==U[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==U[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==U[o]){var P=`
`+S[s].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=s&&0<=o);break}}}finally{As=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ei(i):""}function Hr(t){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return ei("Activity");default:return""}}function bs(t){try{var e="";do e+=Hr(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Pe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wc(t){var e=Pr(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,h=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(p){s=""+p,h.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rs(t){t._valueTracker||(t._valueTracker=Wc(t))}function kr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=Pr(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var th=/[\n"\\]/g;function re(t){return t.replace(th,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ze(t,e,i,s,o,h,p,_){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Pe(e)):t.value!==""+Pe(e)&&(t.value=""+Pe(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?Hi(t,p,Pe(e)):i!=null?Hi(t,p,Pe(i)):s!=null&&t.removeAttribute("value"),o==null&&h!=null&&(t.defaultChecked=!!h),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Pe(_):t.removeAttribute("name")}function Da(t,e,i,s,o,h,p,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;i=i!=null?""+Pe(i):"",e=e!=null?""+Pe(e):i,_||e===t.value||(t.value=e),t.defaultValue=e}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=_?t.checked:!!s,t.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Hi(t,e,i){e==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ni(t,e,i,s){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&s&&(t[i].defaultSelected=!0)}else{for(i=""+Pe(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,s&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ut(t,e,i){if(e!=null&&(e=""+Pe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Pe(i):""}function Ca(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(r(92));if(qe(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=Pe(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s)}function ln(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||Va.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function jr(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var o in e)s=e[o],e.hasOwnProperty(o)&&i[o]!==s&&Ru(t,o,s)}else for(var h in e)e.hasOwnProperty(h)&&Ru(t,h,e[h])}function Gr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(t){return nh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ii=null;function un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,si=null;function Qr(t){var e=Mn(t);if(e&&(t=e.stateNode)){var i=t[se]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ze(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+re(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var o=s[se]||null;if(!o)throw Error(r(90));Ze(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&kr(s)}break t;case"textarea":Ut(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ni(t,!!i.multiple,e,!1)}}}var xn=!1;function wu(t,e,i){if(xn)return t(e,i);xn=!0;try{var s=t(e);return s}finally{if(xn=!1,(ai!==null||si!==null)&&(Eo(),ai&&(e=ai,t=si,si=ai=null,Qr(e),t)))for(e=0;e<t.length;e++)Qr(t[e])}}function Na(t,e){var i=t.stateNode;if(i===null)return null;var s=i[se]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),on=!1;if(En)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){on=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{on=!1}var Un=null,Pi=null,ri=null;function Kr(){if(ri)return ri;var t,e=Pi,i=e.length,s,o="value"in Un?Un.value:Un.textContent,h=o.length;for(t=0;t<i&&e[t]===o[t];t++);var p=i-t;for(s=1;s<=p&&e[i-s]===o[h-s];s++);return ri=o.slice(t,1<s?1-s:void 0)}function zn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function Yr(){return!1}function ye(t){function e(i,s,o,h,p){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(i=t[_],this[_]=i?i(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ln:Yr,this.isPropagationStopped=Yr,this}return w(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),e}var Dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=ye(Dt),Oa=w({},Dt,{view:0,detail:0}),Du=ye(Oa),Cs,Vs,Bn,Ia=w({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bn&&(Bn&&t.type==="mousemove"?(Cs=t.screenX-Bn.screenX,Vs=t.screenY-Bn.screenY):Vs=Cs=0,Bn=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Vs}}),cn=ye(Ia),Cu=w({},Ia,{dataTransfer:0}),ih=ye(Cu),xa=w({},Oa,{relatedTarget:0}),Ns=ye(xa),Xr=w({},Dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=ye(Xr),Vu=w({},Dt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Os=ye(Vu),ah=w({},Dt,{data:0}),Fr=ye(ah),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mu[t])?!!e[t]:!1}function za(){return Zr}var Ou=w({},Oa,{key:function(t){if(t.key){var e=Ua[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(t){return t.type==="keypress"?zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Is=ye(Ou),Iu=w({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jr=ye(Iu),li=w({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),xu=ye(li),Uu=w({},Dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=ye(Uu),Lu=w({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=ye(Lu),ke=w({},Dt,{newState:0,oldState:0}),Bu=ye(ke),qu=[9,13,27,32],qn=En&&"CompositionEvent"in window,u=null;En&&"documentMode"in document&&(u=document.documentMode);var d=En&&"TextEvent"in window&&!u,g=En&&(!qn||u&&8<u&&11>=u),v=" ",I=!1;function q(t,e){switch(t){case"keyup":return qu.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Et=!1;function fe(t,e){switch(t){case"compositionend":return Y(e);case"keypress":return e.which!==32?null:(I=!0,v);case"textInput":return t=e.data,t===v&&I?null:t;default:return null}}function Tt(t,e){if(Et)return t==="compositionend"||!qn&&q(t,e)?(t=Kr(),ri=Pi=Un=null,Et=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var _e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function de(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_e[t.type]:e==="textarea"}function ui(t,e,i,s){ai?si?si.push(s):si=[s]:ai=s,e=wo(e,"onChange"),0<e.length&&(i=new Ds("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var De=null,Hn=null;function $r(t){o_(t,0)}function Hu(t){var e=On(t);if(kr(e))return t}function Ng(t,e){if(t==="change")return e}var Mg=!1;if(En){var sh;if(En){var rh="oninput"in document;if(!rh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),rh=typeof Og.oninput=="function"}sh=rh}else sh=!1;Mg=sh&&(!document.documentMode||9<document.documentMode)}function Ig(){De&&(De.detachEvent("onpropertychange",xg),Hn=De=null)}function xg(t){if(t.propertyName==="value"&&Hu(Hn)){var e=[];ui(e,Hn,t,un(t)),wu($r,e)}}function qA(t,e,i){t==="focusin"?(Ig(),De=e,Hn=i,De.attachEvent("onpropertychange",xg)):t==="focusout"&&Ig()}function HA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Hn)}function PA(t,e){if(t==="click")return Hu(e)}function kA(t,e){if(t==="input"||t==="change")return Hu(e)}function jA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Je=typeof Object.is=="function"?Object.is:jA;function Wr(t,e){if(Je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!ga.call(e,o)||!Je(t[o],e[o]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,e){var i=Ug(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ug(i)}}function Lg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=wa(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=wa(t.document)}return e}function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var GA=En&&"documentMode"in document&&11>=document.documentMode,Us=null,uh=null,tl=null,oh=!1;function qg(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;oh||Us==null||Us!==wa(s)||(s=Us,"selectionStart"in s&&lh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),tl&&Wr(tl,s)||(tl=s,s=wo(uh,"onSelect"),0<s.length&&(e=new Ds("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Us)))}function La(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var zs={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},ch={},Hg={};En&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ba(t){if(ch[t])return ch[t];if(!zs[t])return t;var e=zs[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Hg)return ch[t]=e[i];return t}var Pg=Ba("animationend"),kg=Ba("animationiteration"),jg=Ba("animationstart"),QA=Ba("transitionrun"),KA=Ba("transitionstart"),YA=Ba("transitioncancel"),Gg=Ba("transitionend"),Qg=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function Tn(t,e){Qg.set(t,e),vn(e,[t])}var Kg=new WeakMap;function hn(t,e){if(typeof t=="object"&&t!==null){var i=Kg.get(t);return i!==void 0?i:(e={value:t,source:e,stack:bs(e)},Kg.set(t,e),e)}return{value:t,source:e,stack:bs(e)}}var fn=[],Ls=0,fh=0;function Pu(){for(var t=Ls,e=fh=Ls=0;e<t;){var i=fn[e];fn[e++]=null;var s=fn[e];fn[e++]=null;var o=fn[e];fn[e++]=null;var h=fn[e];if(fn[e++]=null,s!==null&&o!==null){var p=s.pending;p===null?o.next=o:(o.next=p.next,p.next=o),s.pending=o}h!==0&&Yg(i,o,h)}}function ku(t,e,i,s){fn[Ls++]=t,fn[Ls++]=e,fn[Ls++]=i,fn[Ls++]=s,fh|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function dh(t,e,i,s){return ku(t,e,i,s),ju(t)}function Bs(t,e){return ku(t,null,null,e),ju(t)}function Yg(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var o=!1,h=t.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(o=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,o&&e!==null&&(o=31-Ue(i),t=h.hiddenUpdates,s=t[o],s===null?t[o]=[e]:s.push(e),e.lane=i|536870912),h):null}function ju(t){if(50<Rl)throw Rl=0,Ef=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qs={};function XA(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(t,e,i,s){return new XA(t,e,i,s)}function mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oi(t,e){var i=t.alternate;return i===null?(i=$e(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Xg(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Gu(t,e,i,s,o,h){var p=0;if(s=t,typeof t=="function")mh(t)&&(p=1);else if(typeof t=="string")p=Z1(t,i,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=$e(31,i,e,o),t.elementType=R,t.lanes=h,t;case J:return qa(i.children,o,h,e);case nt:p=8,o|=24;break;case W:return t=$e(12,i,e,o|2),t.elementType=W,t.lanes=h,t;case be:return t=$e(13,i,e,o),t.elementType=be,t.lanes=h,t;case It:return t=$e(19,i,e,o),t.elementType=It,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kt:case mt:p=10;break t;case Ct:p=9;break t;case qt:p=11;break t;case V:p=14;break t;case A:p=16,s=null;break t}p=29,i=Error(r(130,t===null?"null":typeof t,"")),s=null}return e=$e(p,i,e,o),e.elementType=t,e.type=s,e.lanes=h,e}function qa(t,e,i,s){return t=$e(7,t,s,e),t.lanes=i,t}function gh(t,e,i){return t=$e(6,t,null,e),t.lanes=i,t}function ph(t,e,i){return e=$e(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Hs=[],Ps=0,Qu=null,Ku=0,dn=[],mn=0,Ha=null,ci=1,hi="";function Pa(t,e){Hs[Ps++]=Ku,Hs[Ps++]=Qu,Qu=t,Ku=e}function Fg(t,e,i){dn[mn++]=ci,dn[mn++]=hi,dn[mn++]=Ha,Ha=t;var s=ci;t=hi;var o=32-Ue(s)-1;s&=~(1<<o),i+=1;var h=32-Ue(e)+o;if(30<h){var p=o-o%5;h=(s&(1<<p)-1).toString(32),s>>=p,o-=p,ci=1<<32-Ue(e)+o|i<<o|s,hi=h+t}else ci=1<<h|i<<o|s,hi=t}function yh(t){t.return!==null&&(Pa(t,1),Fg(t,1,0))}function _h(t){for(;t===Qu;)Qu=Hs[--Ps],Hs[Ps]=null,Ku=Hs[--Ps],Hs[Ps]=null;for(;t===Ha;)Ha=dn[--mn],dn[mn]=null,hi=dn[--mn],dn[mn]=null,ci=dn[--mn],dn[mn]=null}var je=null,Zt=null,wt=!1,ka=null,Pn=!1,vh=Error(r(519));function ja(t){var e=Error(r(418,""));throw il(hn(e,t)),vh}function Zg(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[he]=t,e[se]=s,i){case"dialog":pt("cancel",e),pt("close",e);break;case"iframe":case"object":case"embed":pt("load",e);break;case"video":case"audio":for(i=0;i<Dl.length;i++)pt(Dl[i],e);break;case"source":pt("error",e);break;case"img":case"image":case"link":pt("error",e),pt("load",e);break;case"details":pt("toggle",e);break;case"input":pt("invalid",e),Da(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Rs(e);break;case"select":pt("invalid",e);break;case"textarea":pt("invalid",e),Ca(e,s.value,s.defaultValue,s.children),Rs(e)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||d_(e.textContent,i)?(s.popover!=null&&(pt("beforetoggle",e),pt("toggle",e)),s.onScroll!=null&&pt("scroll",e),s.onScrollEnd!=null&&pt("scrollend",e),s.onClick!=null&&(e.onclick=Do),e=!0):e=!1,e||ja(t)}function Jg(t){for(je=t.return;je;)switch(je.tag){case 5:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:je=je.return}}function el(t){if(t!==je)return!1;if(!wt)return Jg(t),wt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||zf(t.type,t.memoizedProps)),i=!i),i&&Zt&&ja(t),Jg(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){Zt=Sn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}Zt=null}}else e===27?(e=Zt,ia(t.type)?(t=Hf,Hf=null,Zt=t):Zt=e):Zt=je?Sn(t.stateNode.nextSibling):null;return!0}function nl(){Zt=je=null,wt=!1}function $g(){var t=ka;return t!==null&&(Xe===null?Xe=t:Xe.push.apply(Xe,t),ka=null),t}function il(t){ka===null?ka=[t]:ka.push(t)}var Eh=Re(null),Ga=null,fi=null;function ki(t,e,i){ut(Eh,e._currentValue),e._currentValue=i}function di(t){t._currentValue=Eh.current,bt(Eh)}function Th(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function Ah(t,e,i,s){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){var p=o.child;h=h.firstContext;t:for(;h!==null;){var _=h;h=o;for(var S=0;S<e.length;S++)if(_.context===e[S]){h.lanes|=i,_=h.alternate,_!==null&&(_.lanes|=i),Th(h.return,i,t),s||(p=null);break t}h=_.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(r(341));p.lanes|=i,h=p.alternate,h!==null&&(h.lanes|=i),Th(p,i,t),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function al(t,e,i,s){t=null;for(var o=e,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var _=o.type;Je(o.pendingProps.value,p.value)||(t!==null?t.push(_):t=[_])}}else if(o===Fn.current){if(p=o.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}o=o.return}t!==null&&Ah(e,t,i,s),e.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!Je(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qa(t){Ga=t,fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ze(t){return Wg(Ga,t)}function Xu(t,e){return Ga===null&&Qa(t),Wg(t,e)}function Wg(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},fi===null){if(t===null)throw Error(r(308));fi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else fi=fi.next=e;return i}var FA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},ZA=l.unstable_scheduleCallback,JA=l.unstable_NormalPriority,me={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new FA,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&ZA(JA,function(){t.controller.abort()})}var rl=null,bh=0,ks=0,js=null;function $A(t,e){if(rl===null){var i=rl=[];bh=0,ks=Df(),js={status:"pending",value:void 0,then:function(s){i.push(s)}}}return bh++,e.then(tp,tp),e}function tp(){if(--bh===0&&rl!==null){js!==null&&(js.status="fulfilled");var t=rl;rl=null,ks=0,js=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function WA(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var o=0;o<i.length;o++)(0,i[o])(e)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var ep=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&$A(t,e),ep!==null&&ep(t,e)};var Ka=Re(null);function Rh(){var t=Ka.current;return t!==null?t:jt.pooledCache}function Fu(t,e){e===null?ut(Ka,Ka.current):ut(Ka,e.pool)}function np(){var t=Rh();return t===null?null:{parent:me._currentValue,pool:t}}var ll=Error(r(460)),ip=Error(r(474)),Zu=Error(r(542)),wh={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function sp(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Ju,Ju),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lp(t),t;default:if(typeof e.status=="string")e.then(Ju,Ju);else{if(t=jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=s}},function(s){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lp(t),t}throw ul=e,ll}}var ul=null;function rp(){if(ul===null)throw Error(r(459));var t=ul;return ul=null,t}function lp(t){if(t===ll||t===Zu)throw Error(r(483))}var ji=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Mt&2)!==0){var o=s.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),s.pending=e,e=ju(t),Yg(t,null,i),e}return ku(t,s,e,i),ju(t)}function ol(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Lr(t,i)}}function Vh(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?o=h=e:h=h.next=e}else o=h=e;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Nh=!1;function cl(){if(Nh){var t=js;if(t!==null)throw t}}function hl(t,e,i,s){Nh=!1;var o=t.updateQueue;ji=!1;var h=o.firstBaseUpdate,p=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var S=_,U=S.next;S.next=null,p===null?h=U:p.next=U,p=S;var P=t.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==p&&(_===null?P.firstBaseUpdate=U:_.next=U,P.lastBaseUpdate=S))}if(h!==null){var G=o.baseState;p=0,P=U=S=null,_=h;do{var z=_.lane&-536870913,L=z!==_.lane;if(L?(At&z)===z:(s&z)===z){z!==0&&z===ks&&(Nh=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var lt=t,it=_;z=e;var Bt=i;switch(it.tag){case 1:if(lt=it.payload,typeof lt=="function"){G=lt.call(Bt,G,z);break t}G=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=it.payload,z=typeof lt=="function"?lt.call(Bt,G,z):lt,z==null)break t;G=w({},G,z);break t;case 2:ji=!0}}z=_.callback,z!==null&&(t.flags|=64,L&&(t.flags|=8192),L=o.callbacks,L===null?o.callbacks=[z]:L.push(z))}else L={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(U=P=L,S=G):P=P.next=L,p|=z;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;L=_,_=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);P===null&&(S=G),o.baseState=S,o.firstBaseUpdate=U,o.lastBaseUpdate=P,h===null&&(o.shared.lanes=0),Wi|=p,t.lanes=p,t.memoizedState=G}}function up(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function op(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)up(i[t],e)}var Gs=Re(null),$u=Re(0);function cp(t,e){t=Ei,ut($u,t),ut(Gs,e),Ei=t|e.baseLanes}function Mh(){ut($u,Ei),ut(Gs,Gs.current)}function Oh(){Ei=$u.current,bt(Gs),bt($u)}var Ki=0,ht=null,zt=null,le=null,Wu=!1,Qs=!1,Ya=!1,to=0,fl=0,Ks=null,t1=0;function ee(){throw Error(r(321))}function Ih(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Je(t[i],e[i]))return!1;return!0}function xh(t,e,i,s,o,h){return Ki=h,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?Yp:Xp,Ya=!1,h=i(s,o),Ya=!1,Qs&&(h=fp(e,i,s,o)),hp(t),h}function hp(t){k.H=ro;var e=zt!==null&&zt.next!==null;if(Ki=0,le=zt=ht=null,Wu=!1,fl=0,Ks=null,e)throw Error(r(300));t===null||ve||(t=t.dependencies,t!==null&&Yu(t)&&(ve=!0))}function fp(t,e,i,s){ht=t;var o=0;do{if(Qs&&(Ks=null),fl=0,Qs=!1,25<=o)throw Error(r(301));if(o+=1,le=zt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=l1,h=e(i,s)}while(Qs);return h}function e1(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?dl(e):e,t=t.useState()[0],(zt!==null?zt.memoizedState:null)!==t&&(ht.flags|=1024),e}function Uh(){var t=to!==0;return to=0,t}function zh(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Lh(t){if(Wu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Wu=!1}Ki=0,le=zt=ht=null,Qs=!1,fl=to=0,Ks=null}function Ke(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?ht.memoizedState=le=t:le=le.next=t,le}function ue(){if(zt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=le===null?ht.memoizedState:le.next;if(e!==null)le=e,zt=t;else{if(t===null)throw ht.alternate===null?Error(r(467)):Error(r(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},le===null?ht.memoizedState=le=t:le=le.next=t}return le}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var e=fl;return fl+=1,Ks===null&&(Ks=[]),t=sp(Ks,t,e),e=ht,(le===null?e.memoizedState:le.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?Yp:Xp),t}function eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===mt)return ze(t)}throw Error(r(438,String(t)))}function qh(t){var e=null,i=ht.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=ht.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Bh(),ht.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=C;return e.index++,i}function mi(t,e){return typeof e=="function"?e(t):e}function no(t){var e=ue();return Hh(e,zt,t)}function Hh(t,e,i){var s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=t.baseQueue,h=s.pending;if(h!==null){if(o!==null){var p=o.next;o.next=h.next,h.next=p}e.baseQueue=o=h,s.pending=null}if(h=t.baseState,o===null)t.memoizedState=h;else{e=o.next;var _=p=null,S=null,U=e,P=!1;do{var G=U.lane&-536870913;if(G!==U.lane?(At&G)===G:(Ki&G)===G){var z=U.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),G===ks&&(P=!0);else if((Ki&z)===z){U=U.next,z===ks&&(P=!0);continue}else G={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(_=S=G,p=h):S=S.next=G,ht.lanes|=z,Wi|=z;G=U.action,Ya&&i(h,G),h=U.hasEagerState?U.eagerState:i(h,G)}else z={lane:G,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(_=S=z,p=h):S=S.next=z,ht.lanes|=G,Wi|=G;U=U.next}while(U!==null&&U!==e);if(S===null?p=h:S.next=_,!Je(h,t.memoizedState)&&(ve=!0,P&&(i=js,i!==null)))throw i;t.memoizedState=h,t.baseState=p,t.baseQueue=S,s.lastRenderedState=h}return o===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Ph(t){var e=ue(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var s=i.dispatch,o=i.pending,h=e.memoizedState;if(o!==null){i.pending=null;var p=o=o.next;do h=t(h,p.action),p=p.next;while(p!==o);Je(h,e.memoizedState)||(ve=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,s]}function dp(t,e,i){var s=ht,o=ue(),h=wt;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=e();var p=!Je((zt||o).memoizedState,i);p&&(o.memoizedState=i,ve=!0),o=o.queue;var _=pp.bind(null,s,o,t);if(ml(2048,8,_,[t]),o.getSnapshot!==e||p||le!==null&&le.memoizedState.tag&1){if(s.flags|=2048,Ys(9,io(),gp.bind(null,s,o,i,e),null),jt===null)throw Error(r(349));h||(Ki&124)!==0||mp(s,e,i)}return i}function mp(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=ht.updateQueue,e===null?(e=Bh(),ht.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function gp(t,e,i,s){e.value=i,e.getSnapshot=s,yp(e)&&_p(t)}function pp(t,e,i){return i(function(){yp(e)&&_p(t)})}function yp(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Je(t,i)}catch{return!0}}function _p(t){var e=Bs(t,2);e!==null&&an(e,t,2)}function kh(t){var e=Ke();if(typeof t=="function"){var i=t;if(t=i(),Ya){Fe(!0);try{i()}finally{Fe(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},e}function vp(t,e,i,s){return t.baseState=i,Hh(t,zt,typeof s=="function"?s:mi)}function n1(t,e,i,s,o){if(so(t))throw Error(r(485));if(t=e.action,t!==null){var h={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};k.T!==null?i(!0):h.isTransition=!1,s(h),i=e.pending,i===null?(h.next=e.pending=h,Ep(e,h)):(h.next=i.next,e.pending=i.next=h)}}function Ep(t,e){var i=e.action,s=e.payload,o=t.state;if(e.isTransition){var h=k.T,p={};k.T=p;try{var _=i(o,s),S=k.S;S!==null&&S(p,_),Tp(t,e,_)}catch(U){jh(t,e,U)}finally{k.T=h}}else try{h=i(o,s),Tp(t,e,h)}catch(U){jh(t,e,U)}}function Tp(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Ap(t,e,s)},function(s){return jh(t,e,s)}):Ap(t,e,i)}function Ap(t,e,i){e.status="fulfilled",e.value=i,Sp(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Ep(t,i)))}function jh(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,Sp(e),e=e.next;while(e!==s)}t.action=null}function Sp(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bp(t,e){return e}function Rp(t,e){if(wt){var i=jt.formState;if(i!==null){t:{var s=ht;if(wt){if(Zt){e:{for(var o=Zt,h=Pn;o.nodeType!==8;){if(!h){o=null;break e}if(o=Sn(o.nextSibling),o===null){o=null;break e}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){Zt=Sn(o.nextSibling),s=o.data==="F!";break t}}ja(s)}s=!1}s&&(e=i[0])}}return i=Ke(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:e},i.queue=s,i=Gp.bind(null,ht,s),s.dispatch=i,s=kh(!1),h=Xh.bind(null,ht,!1,s.queue),s=Ke(),o={state:e,dispatch:null,action:t,pending:null},s.queue=o,i=n1.bind(null,ht,o,h,i),o.dispatch=i,s.memoizedState=t,[e,i,!1]}function wp(t){var e=ue();return Dp(e,zt,t)}function Dp(t,e,i){if(e=Hh(t,e,bp)[0],t=no(mi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=dl(e)}catch(p){throw p===ll?Zu:p}else s=e;e=ue();var o=e.queue,h=o.dispatch;return i!==e.memoizedState&&(ht.flags|=2048,Ys(9,io(),i1.bind(null,o,i),null)),[s,h,t]}function i1(t,e){t.action=e}function Cp(t){var e=ue(),i=zt;if(i!==null)return Dp(e,i,t);ue(),e=e.memoizedState,i=ue();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function Ys(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=ht.updateQueue,e===null&&(e=Bh(),ht.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function io(){return{destroy:void 0,resource:void 0}}function Vp(){return ue().memoizedState}function ao(t,e,i,s){var o=Ke();s=s===void 0?null:s,ht.flags|=t,o.memoizedState=Ys(1|e,io(),i,s)}function ml(t,e,i,s){var o=ue();s=s===void 0?null:s;var h=o.memoizedState.inst;zt!==null&&s!==null&&Ih(s,zt.memoizedState.deps)?o.memoizedState=Ys(e,h,i,s):(ht.flags|=t,o.memoizedState=Ys(1|e,h,i,s))}function Np(t,e){ao(8390656,8,t,e)}function Mp(t,e){ml(2048,8,t,e)}function Op(t,e){return ml(4,2,t,e)}function Ip(t,e){return ml(4,4,t,e)}function xp(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Up(t,e,i){i=i!=null?i.concat([t]):null,ml(4,4,xp.bind(null,e,t),i)}function Gh(){}function zp(t,e){var i=ue();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&Ih(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Lp(t,e){var i=ue();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&Ih(e,s[1]))return s[0];if(s=t(),Ya){Fe(!0);try{t()}finally{Fe(!1)}}return i.memoizedState=[s,e],s}function Qh(t,e,i){return i===void 0||(Ki&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Hy(),ht.lanes|=t,Wi|=t,i)}function Bp(t,e,i,s){return Je(i,e)?i:Gs.current!==null?(t=Qh(t,i,s),Je(t,e)||(ve=!0),t):(Ki&42)===0?(ve=!0,t.memoizedState=i):(t=Hy(),ht.lanes|=t,Wi|=t,e)}function qp(t,e,i,s,o){var h=F.p;F.p=h!==0&&8>h?h:8;var p=k.T,_={};k.T=_,Xh(t,!1,e,i);try{var S=o(),U=k.S;if(U!==null&&U(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=WA(S,s);gl(t,e,P,nn(t))}else gl(t,e,s,nn(t))}catch(G){gl(t,e,{then:function(){},status:"rejected",reason:G},nn())}finally{F.p=h,k.T=p}}function a1(){}function Kh(t,e,i,s){if(t.tag!==5)throw Error(r(476));var o=Hp(t).queue;qp(t,o,e,et,i===null?a1:function(){return Pp(t),i(s)})}function Hp(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:et},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Pp(t){var e=Hp(t).next.queue;gl(t,e,{},nn())}function Yh(){return ze(Il)}function kp(){return ue().memoizedState}function jp(){return ue().memoizedState}function s1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=nn();t=Gi(i);var s=Qi(e,t,i);s!==null&&(an(s,e,i),ol(s,e,i)),e={cache:Sh()},t.payload=e;return}e=e.return}}function r1(t,e,i){var s=nn();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},so(t)?Qp(e,i):(i=dh(t,e,i,s),i!==null&&(an(i,t,s),Kp(i,e,s)))}function Gp(t,e,i){var s=nn();gl(t,e,i,s)}function gl(t,e,i,s){var o={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(so(t))Qp(e,o);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var p=e.lastRenderedState,_=h(p,i);if(o.hasEagerState=!0,o.eagerState=_,Je(_,p))return ku(t,e,o,0),jt===null&&Pu(),!1}catch{}finally{}if(i=dh(t,e,o,s),i!==null)return an(i,t,s),Kp(i,e,s),!0}return!1}function Xh(t,e,i,s){if(s={lane:2,revertLane:Df(),action:s,hasEagerState:!1,eagerState:null,next:null},so(t)){if(e)throw Error(r(479))}else e=dh(t,i,s,2),e!==null&&an(e,t,2)}function so(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function Qp(t,e){Qs=Wu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Kp(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Lr(t,i)}}var ro={readContext:ze,use:eo,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useLayoutEffect:ee,useInsertionEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useSyncExternalStore:ee,useId:ee,useHostTransitionStatus:ee,useFormState:ee,useActionState:ee,useOptimistic:ee,useMemoCache:ee,useCacheRefresh:ee},Yp={readContext:ze,use:eo,useCallback:function(t,e){return Ke().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:Np,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,ao(4194308,4,xp.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ao(4194308,4,t,e)},useInsertionEffect:function(t,e){ao(4,2,t,e)},useMemo:function(t,e){var i=Ke();e=e===void 0?null:e;var s=t();if(Ya){Fe(!0);try{t()}finally{Fe(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=Ke();if(i!==void 0){var o=i(e);if(Ya){Fe(!0);try{i(e)}finally{Fe(!1)}}}else o=e;return s.memoizedState=s.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},s.queue=t,t=t.dispatch=r1.bind(null,ht,t),[s.memoizedState,t]},useRef:function(t){var e=Ke();return t={current:t},e.memoizedState=t},useState:function(t){t=kh(t);var e=t.queue,i=Gp.bind(null,ht,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Gh,useDeferredValue:function(t,e){var i=Ke();return Qh(i,t,e)},useTransition:function(){var t=kh(!1);return t=qp.bind(null,ht,t.queue,!0,!1),Ke().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=ht,o=Ke();if(wt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),jt===null)throw Error(r(349));(At&124)!==0||mp(s,e,i)}o.memoizedState=i;var h={value:i,getSnapshot:e};return o.queue=h,Np(pp.bind(null,s,h,t),[t]),s.flags|=2048,Ys(9,io(),gp.bind(null,s,h,i,e),null),i},useId:function(){var t=Ke(),e=jt.identifierPrefix;if(wt){var i=hi,s=ci;i=(s&~(1<<32-Ue(s)-1)).toString(32)+i,e=""+e+"R"+i,i=to++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=t1++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Yh,useFormState:Rp,useActionState:Rp,useOptimistic:function(t){var e=Ke();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Xh.bind(null,ht,!0,i),i.dispatch=e,[t,e]},useMemoCache:qh,useCacheRefresh:function(){return Ke().memoizedState=s1.bind(null,ht)}},Xp={readContext:ze,use:eo,useCallback:zp,useContext:ze,useEffect:Mp,useImperativeHandle:Up,useInsertionEffect:Op,useLayoutEffect:Ip,useMemo:Lp,useReducer:no,useRef:Vp,useState:function(){return no(mi)},useDebugValue:Gh,useDeferredValue:function(t,e){var i=ue();return Bp(i,zt.memoizedState,t,e)},useTransition:function(){var t=no(mi)[0],e=ue().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:dp,useId:kp,useHostTransitionStatus:Yh,useFormState:wp,useActionState:wp,useOptimistic:function(t,e){var i=ue();return vp(i,zt,t,e)},useMemoCache:qh,useCacheRefresh:jp},l1={readContext:ze,use:eo,useCallback:zp,useContext:ze,useEffect:Mp,useImperativeHandle:Up,useInsertionEffect:Op,useLayoutEffect:Ip,useMemo:Lp,useReducer:Ph,useRef:Vp,useState:function(){return Ph(mi)},useDebugValue:Gh,useDeferredValue:function(t,e){var i=ue();return zt===null?Qh(i,t,e):Bp(i,zt.memoizedState,t,e)},useTransition:function(){var t=Ph(mi)[0],e=ue().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:dp,useId:kp,useHostTransitionStatus:Yh,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,e){var i=ue();return zt!==null?vp(i,zt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:qh,useCacheRefresh:jp},Xs=null,pl=0;function lo(t){var e=pl;return pl+=1,Xs===null&&(Xs=[]),sp(Xs,t,e)}function yl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function uo(t,e){throw e.$$typeof===B?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Fp(t){var e=t._init;return e(t._payload)}function Zp(t){function e(M,D){if(t){var x=M.deletions;x===null?(M.deletions=[D],M.flags|=16):x.push(D)}}function i(M,D){if(!t)return null;for(;D!==null;)e(M,D),D=D.sibling;return null}function s(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function o(M,D){return M=oi(M,D),M.index=0,M.sibling=null,M}function h(M,D,x){return M.index=x,t?(x=M.alternate,x!==null?(x=x.index,x<D?(M.flags|=67108866,D):x):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function _(M,D,x,j){return D===null||D.tag!==6?(D=gh(x,M.mode,j),D.return=M,D):(D=o(D,x),D.return=M,D)}function S(M,D,x,j){var $=x.type;return $===J?P(M,D,x.props.children,j,x.key):D!==null&&(D.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===A&&Fp($)===D.type)?(D=o(D,x.props),yl(D,x),D.return=M,D):(D=Gu(x.type,x.key,x.props,null,M.mode,j),yl(D,x),D.return=M,D)}function U(M,D,x,j){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=ph(x,M.mode,j),D.return=M,D):(D=o(D,x.children||[]),D.return=M,D)}function P(M,D,x,j,$){return D===null||D.tag!==7?(D=qa(x,M.mode,j,$),D.return=M,D):(D=o(D,x),D.return=M,D)}function G(M,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=gh(""+D,M.mode,x),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return x=Gu(D.type,D.key,D.props,null,M.mode,x),yl(x,D),x.return=M,x;case K:return D=ph(D,M.mode,x),D.return=M,D;case A:var j=D._init;return D=j(D._payload),G(M,D,x)}if(qe(D)||O(D))return D=qa(D,M.mode,x,null),D.return=M,D;if(typeof D.then=="function")return G(M,lo(D),x);if(D.$$typeof===mt)return G(M,Xu(M,D),x);uo(M,D)}return null}function z(M,D,x,j){var $=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return $!==null?null:_(M,D,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return x.key===$?S(M,D,x,j):null;case K:return x.key===$?U(M,D,x,j):null;case A:return $=x._init,x=$(x._payload),z(M,D,x,j)}if(qe(x)||O(x))return $!==null?null:P(M,D,x,j,null);if(typeof x.then=="function")return z(M,D,lo(x),j);if(x.$$typeof===mt)return z(M,D,Xu(M,x),j);uo(M,x)}return null}function L(M,D,x,j,$){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return M=M.get(x)||null,_(D,M,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return M=M.get(j.key===null?x:j.key)||null,S(D,M,j,$);case K:return M=M.get(j.key===null?x:j.key)||null,U(D,M,j,$);case A:var dt=j._init;return j=dt(j._payload),L(M,D,x,j,$)}if(qe(j)||O(j))return M=M.get(x)||null,P(D,M,j,$,null);if(typeof j.then=="function")return L(M,D,x,lo(j),$);if(j.$$typeof===mt)return L(M,D,x,Xu(D,j),$);uo(D,j)}return null}function lt(M,D,x,j){for(var $=null,dt=null,tt=D,rt=D=0,Te=null;tt!==null&&rt<x.length;rt++){tt.index>rt?(Te=tt,tt=null):Te=tt.sibling;var Rt=z(M,tt,x[rt],j);if(Rt===null){tt===null&&(tt=Te);break}t&&tt&&Rt.alternate===null&&e(M,tt),D=h(Rt,D,rt),dt===null?$=Rt:dt.sibling=Rt,dt=Rt,tt=Te}if(rt===x.length)return i(M,tt),wt&&Pa(M,rt),$;if(tt===null){for(;rt<x.length;rt++)tt=G(M,x[rt],j),tt!==null&&(D=h(tt,D,rt),dt===null?$=tt:dt.sibling=tt,dt=tt);return wt&&Pa(M,rt),$}for(tt=s(tt);rt<x.length;rt++)Te=L(tt,M,rt,x[rt],j),Te!==null&&(t&&Te.alternate!==null&&tt.delete(Te.key===null?rt:Te.key),D=h(Te,D,rt),dt===null?$=Te:dt.sibling=Te,dt=Te);return t&&tt.forEach(function(ua){return e(M,ua)}),wt&&Pa(M,rt),$}function it(M,D,x,j){if(x==null)throw Error(r(151));for(var $=null,dt=null,tt=D,rt=D=0,Te=null,Rt=x.next();tt!==null&&!Rt.done;rt++,Rt=x.next()){tt.index>rt?(Te=tt,tt=null):Te=tt.sibling;var ua=z(M,tt,Rt.value,j);if(ua===null){tt===null&&(tt=Te);break}t&&tt&&ua.alternate===null&&e(M,tt),D=h(ua,D,rt),dt===null?$=ua:dt.sibling=ua,dt=ua,tt=Te}if(Rt.done)return i(M,tt),wt&&Pa(M,rt),$;if(tt===null){for(;!Rt.done;rt++,Rt=x.next())Rt=G(M,Rt.value,j),Rt!==null&&(D=h(Rt,D,rt),dt===null?$=Rt:dt.sibling=Rt,dt=Rt);return wt&&Pa(M,rt),$}for(tt=s(tt);!Rt.done;rt++,Rt=x.next())Rt=L(tt,M,rt,Rt.value,j),Rt!==null&&(t&&Rt.alternate!==null&&tt.delete(Rt.key===null?rt:Rt.key),D=h(Rt,D,rt),dt===null?$=Rt:dt.sibling=Rt,dt=Rt);return t&&tt.forEach(function(uS){return e(M,uS)}),wt&&Pa(M,rt),$}function Bt(M,D,x,j){if(typeof x=="object"&&x!==null&&x.type===J&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case H:t:{for(var $=x.key;D!==null;){if(D.key===$){if($=x.type,$===J){if(D.tag===7){i(M,D.sibling),j=o(D,x.props.children),j.return=M,M=j;break t}}else if(D.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===A&&Fp($)===D.type){i(M,D.sibling),j=o(D,x.props),yl(j,x),j.return=M,M=j;break t}i(M,D);break}else e(M,D);D=D.sibling}x.type===J?(j=qa(x.props.children,M.mode,j,x.key),j.return=M,M=j):(j=Gu(x.type,x.key,x.props,null,M.mode,j),yl(j,x),j.return=M,M=j)}return p(M);case K:t:{for($=x.key;D!==null;){if(D.key===$)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){i(M,D.sibling),j=o(D,x.children||[]),j.return=M,M=j;break t}else{i(M,D);break}else e(M,D);D=D.sibling}j=ph(x,M.mode,j),j.return=M,M=j}return p(M);case A:return $=x._init,x=$(x._payload),Bt(M,D,x,j)}if(qe(x))return lt(M,D,x,j);if(O(x)){if($=O(x),typeof $!="function")throw Error(r(150));return x=$.call(x),it(M,D,x,j)}if(typeof x.then=="function")return Bt(M,D,lo(x),j);if(x.$$typeof===mt)return Bt(M,D,Xu(M,x),j);uo(M,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(i(M,D.sibling),j=o(D,x),j.return=M,M=j):(i(M,D),j=gh(x,M.mode,j),j.return=M,M=j),p(M)):i(M,D)}return function(M,D,x,j){try{pl=0;var $=Bt(M,D,x,j);return Xs=null,$}catch(tt){if(tt===ll||tt===Zu)throw tt;var dt=$e(29,tt,null,M.mode);return dt.lanes=j,dt.return=M,dt}finally{}}}var Fs=Zp(!0),Jp=Zp(!1),gn=Re(null),kn=null;function Yi(t){var e=t.alternate;ut(ge,ge.current&1),ut(gn,t),kn===null&&(e===null||Gs.current!==null||e.memoizedState!==null)&&(kn=t)}function $p(t){if(t.tag===22){if(ut(ge,ge.current),ut(gn,t),kn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(kn=t)}}else Xi()}function Xi(){ut(ge,ge.current),ut(gn,gn.current)}function gi(t){bt(gn),kn===t&&(kn=null),bt(ge)}var ge=Re(0);function oo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||qf(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fh(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:w({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Zh={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=nn(),o=Gi(s);o.payload=e,i!=null&&(o.callback=i),e=Qi(t,o,s),e!==null&&(an(e,t,s),ol(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=nn(),o=Gi(s);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=Qi(t,o,s),e!==null&&(an(e,t,s),ol(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=nn(),s=Gi(i);s.tag=2,e!=null&&(s.callback=e),e=Qi(t,s,i),e!==null&&(an(e,t,i),ol(e,t,i))}};function Wp(t,e,i,s,o,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,h,p):e.prototype&&e.prototype.isPureReactComponent?!Wr(i,s)||!Wr(o,h):!0}function ty(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&Zh.enqueueReplaceState(e,e.state,null)}function Xa(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=w({},i));for(var o in t)i[o]===void 0&&(i[o]=t[o])}return i}var co=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ey(t){co(t)}function ny(t){console.error(t)}function iy(t){co(t)}function ho(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function ay(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Jh(t,e,i){return i=Gi(i),i.tag=3,i.payload={element:null},i.callback=function(){ho(t,e)},i}function sy(t){return t=Gi(t),t.tag=3,t}function ry(t,e,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=s.value;t.payload=function(){return o(h)},t.callback=function(){ay(e,i,s)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ay(e,i,s),typeof o!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function u1(t,e,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&al(e,i,o,!0),i=gn.current,i!==null){switch(i.tag){case 13:return kn===null?Af():i.alternate===null&&Jt===0&&(Jt=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===wh?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),bf(t,s,o)),!1;case 22:return i.flags|=65536,s===wh?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),bf(t,s,o)),!1}throw Error(r(435,i.tag))}return bf(t,s,o),Af(),!1}if(wt)return e=gn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,s!==vh&&(t=Error(r(422),{cause:s}),il(hn(t,i)))):(s!==vh&&(e=Error(r(423),{cause:s}),il(hn(e,i))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,s=hn(s,i),o=Jh(t.stateNode,s,o),Vh(t,o),Jt!==4&&(Jt=2)),!1;var h=Error(r(520),{cause:s});if(h=hn(h,i),bl===null?bl=[h]:bl.push(h),Jt!==4&&(Jt=2),e===null)return!0;s=hn(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=o&-o,i.lanes|=t,t=Jh(i.stateNode,s,t),Vh(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ta===null||!ta.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=sy(o),ry(o,t,i,s),Vh(i,o),!1}i=i.return}while(i!==null);return!1}var ly=Error(r(461)),ve=!1;function Ce(t,e,i,s){e.child=t===null?Jp(e,null,i,s):Fs(e,t.child,i,s)}function uy(t,e,i,s,o){i=i.render;var h=e.ref;if("ref"in s){var p={};for(var _ in s)_!=="ref"&&(p[_]=s[_])}else p=s;return Qa(e),s=xh(t,e,i,p,h,o),_=Uh(),t!==null&&!ve?(zh(t,e,o),pi(t,e,o)):(wt&&_&&yh(e),e.flags|=1,Ce(t,e,s,o),e.child)}function oy(t,e,i,s,o){if(t===null){var h=i.type;return typeof h=="function"&&!mh(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,cy(t,e,h,s,o)):(t=Gu(i.type,null,s,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!rf(t,o)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:Wr,i(p,s)&&t.ref===e.ref)return pi(t,e,o)}return e.flags|=1,t=oi(h,s),t.ref=e.ref,t.return=e,e.child=t}function cy(t,e,i,s,o){if(t!==null){var h=t.memoizedProps;if(Wr(h,s)&&t.ref===e.ref)if(ve=!1,e.pendingProps=s=h,rf(t,o))(t.flags&131072)!==0&&(ve=!0);else return e.lanes=t.lanes,pi(t,e,o)}return $h(t,e,i,s,o)}function hy(t,e,i){var s=e.pendingProps,o=s.children,h=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((e.flags&128)!==0){if(s=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;e.childLanes=h&~s}else e.childLanes=0,e.child=null;return fy(t,e,s,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(e,h!==null?h.cachePool:null),h!==null?cp(e,h):Mh(),$p(e);else return e.lanes=e.childLanes=536870912,fy(t,e,h!==null?h.baseLanes|i:i,i)}else h!==null?(Fu(e,h.cachePool),cp(e,h),Xi(),e.memoizedState=null):(t!==null&&Fu(e,null),Mh(),Xi());return Ce(t,e,o,i),e.child}function fy(t,e,i,s){var o=Rh();return o=o===null?null:{parent:me._currentValue,pool:o},e.memoizedState={baseLanes:i,cachePool:o},t!==null&&Fu(e,null),Mh(),$p(e),t!==null&&al(t,e,s,!0),null}function fo(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function $h(t,e,i,s,o){return Qa(e),i=xh(t,e,i,s,void 0,o),s=Uh(),t!==null&&!ve?(zh(t,e,o),pi(t,e,o)):(wt&&s&&yh(e),e.flags|=1,Ce(t,e,i,o),e.child)}function dy(t,e,i,s,o,h){return Qa(e),e.updateQueue=null,i=fp(e,s,i,o),hp(t),s=Uh(),t!==null&&!ve?(zh(t,e,h),pi(t,e,h)):(wt&&s&&yh(e),e.flags|=1,Ce(t,e,i,h),e.child)}function my(t,e,i,s,o){if(Qa(e),e.stateNode===null){var h=qs,p=i.contextType;typeof p=="object"&&p!==null&&(h=ze(p)),h=new i(s,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zh,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=s,h.state=e.memoizedState,h.refs={},Dh(e),p=i.contextType,h.context=typeof p=="object"&&p!==null?ze(p):qs,h.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Fh(e,i,p,s),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&Zh.enqueueReplaceState(h,h.state,null),hl(e,s,h,o),cl(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){h=e.stateNode;var _=e.memoizedProps,S=Xa(i,_);h.props=S;var U=h.context,P=i.contextType;p=qs,typeof P=="object"&&P!==null&&(p=ze(P));var G=i.getDerivedStateFromProps;P=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=e.pendingProps!==_,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||U!==p)&&ty(e,h,s,p),ji=!1;var z=e.memoizedState;h.state=z,hl(e,s,h,o),cl(),U=e.memoizedState,_||z!==U||ji?(typeof G=="function"&&(Fh(e,i,G,s),U=e.memoizedState),(S=ji||Wp(e,i,S,s,z,U,p))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=U),h.props=s,h.state=U,h.context=p,s=S):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{h=e.stateNode,Ch(t,e),p=e.memoizedProps,P=Xa(i,p),h.props=P,G=e.pendingProps,z=h.context,U=i.contextType,S=qs,typeof U=="object"&&U!==null&&(S=ze(U)),_=i.getDerivedStateFromProps,(U=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==G||z!==S)&&ty(e,h,s,S),ji=!1,z=e.memoizedState,h.state=z,hl(e,s,h,o),cl();var L=e.memoizedState;p!==G||z!==L||ji||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof _=="function"&&(Fh(e,i,_,s),L=e.memoizedState),(P=ji||Wp(e,i,P,s,z,L,S)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,L,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,L,S)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=L),h.props=s,h.state=L,h.context=S,s=P):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(e.flags|=1024),s=!1)}return h=s,fo(t,e),s=(e.flags&128)!==0,h||s?(h=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&s?(e.child=Fs(e,t.child,null,o),e.child=Fs(e,null,i,o)):Ce(t,e,i,o),e.memoizedState=h.state,t=e.child):t=pi(t,e,o),t}function gy(t,e,i,s){return nl(),e.flags|=256,Ce(t,e,i,s),e.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(t){return{baseLanes:t,cachePool:np()}}function ef(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=pn),t}function py(t,e,i){var s=e.pendingProps,o=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),p&&(o=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(wt){if(o?Yi(e):Xi(),wt){var _=Zt,S;if(S=_){t:{for(S=_,_=Pn;S.nodeType!==8;){if(!_){_=null;break t}if(S=Sn(S.nextSibling),S===null){_=null;break t}}_=S}_!==null?(e.memoizedState={dehydrated:_,treeContext:Ha!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},S=$e(18,null,null,0),S.stateNode=_,S.return=e,e.child=S,je=e,Zt=null,S=!0):S=!1}S||ja(e)}if(_=e.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return qf(_)?e.lanes=32:e.lanes=536870912,null;gi(e)}return _=s.children,s=s.fallback,o?(Xi(),o=e.mode,_=mo({mode:"hidden",children:_},o),s=qa(s,o,i,null),_.return=e,s.return=e,_.sibling=s,e.child=_,o=e.child,o.memoizedState=tf(i),o.childLanes=ef(t,p,i),e.memoizedState=Wh,s):(Yi(e),nf(e,_))}if(S=t.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(h)e.flags&256?(Yi(e),e.flags&=-257,e=af(t,e,i)):e.memoizedState!==null?(Xi(),e.child=t.child,e.flags|=128,e=null):(Xi(),o=s.fallback,_=e.mode,s=mo({mode:"visible",children:s.children},_),o=qa(o,_,i,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,Fs(e,t.child,null,i),s=e.child,s.memoizedState=tf(i),s.childLanes=ef(t,p,i),e.memoizedState=Wh,e=o);else if(Yi(e),qf(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var U=p.dgst;p=U,s=Error(r(419)),s.stack="",s.digest=p,il({value:s,source:null,stack:null}),e=af(t,e,i)}else if(ve||al(t,e,i,!1),p=(i&t.childLanes)!==0,ve||p){if(p=jt,p!==null&&(s=i&-i,s=(s&42)!==0?1:Ui(s),s=(s&(p.suspendedLanes|i))!==0?0:s,s!==0&&s!==S.retryLane))throw S.retryLane=s,Bs(t,s),an(p,t,s),ly;_.data==="$?"||Af(),e=af(t,e,i)}else _.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=S.treeContext,Zt=Sn(_.nextSibling),je=e,wt=!0,ka=null,Pn=!1,t!==null&&(dn[mn++]=ci,dn[mn++]=hi,dn[mn++]=Ha,ci=t.id,hi=t.overflow,Ha=e),e=nf(e,s.children),e.flags|=4096);return e}return o?(Xi(),o=s.fallback,_=e.mode,S=t.child,U=S.sibling,s=oi(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,U!==null?o=oi(U,o):(o=qa(o,_,i,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,_=t.child.memoizedState,_===null?_=tf(i):(S=_.cachePool,S!==null?(U=me._currentValue,S=S.parent!==U?{parent:U,pool:U}:S):S=np(),_={baseLanes:_.baseLanes|i,cachePool:S}),o.memoizedState=_,o.childLanes=ef(t,p,i),e.memoizedState=Wh,s):(Yi(e),i=t.child,t=i.sibling,i=oi(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function nf(t,e){return e=mo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function mo(t,e){return t=$e(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function af(t,e,i){return Fs(e,t.child,null,i),t=nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yy(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Th(t.return,e,i)}function sf(t,e,i,s,o){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=i,h.tailMode=o)}function _y(t,e,i){var s=e.pendingProps,o=s.revealOrder,h=s.tail;if(Ce(t,e,s.children,i),s=ge.current,(s&2)!==0)s=s&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,i,e);else if(t.tag===19)yy(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(ut(ge,s),o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&oo(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),sf(e,!1,o,i,h);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&oo(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}sf(e,!0,i,null,h);break;case"together":sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(al(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=oi(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=oi(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function rf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function o1(t,e,i){switch(e.tag){case 3:ps(e,e.stateNode.containerInfo),ki(e,me,t.memoizedState.cache),nl();break;case 27:case 5:xi(e);break;case 4:ps(e,e.stateNode.containerInfo);break;case 10:ki(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Yi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?py(t,e,i):(Yi(e),t=pi(t,e,i),t!==null?t.sibling:null);Yi(e);break;case 19:var o=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(al(t,e,i,!1),s=(i&e.childLanes)!==0),o){if(s)return _y(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ut(ge,ge.current),s)break;return null;case 22:case 23:return e.lanes=0,hy(t,e,i);case 24:ki(e,me,t.memoizedState.cache)}return pi(t,e,i)}function vy(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)ve=!0;else{if(!rf(t,i)&&(e.flags&128)===0)return ve=!1,o1(t,e,i);ve=(t.flags&131072)!==0}else ve=!1,wt&&(e.flags&1048576)!==0&&Fg(e,Ku,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var s=e.elementType,o=s._init;if(s=o(s._payload),e.type=s,typeof s=="function")mh(s)?(t=Xa(s,t),e.tag=1,e=my(null,e,s,t,i)):(e.tag=0,e=$h(null,e,s,t,i));else{if(s!=null){if(o=s.$$typeof,o===qt){e.tag=11,e=uy(null,e,s,t,i);break t}else if(o===V){e.tag=14,e=oy(null,e,s,t,i);break t}}throw e=Be(s)||s,Error(r(306,e,""))}}return e;case 0:return $h(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,o=Xa(s,e.pendingProps),my(t,e,s,o,i);case 3:t:{if(ps(e,e.stateNode.containerInfo),t===null)throw Error(r(387));s=e.pendingProps;var h=e.memoizedState;o=h.element,Ch(t,e),hl(e,s,null,i);var p=e.memoizedState;if(s=p.cache,ki(e,me,s),s!==h.cache&&Ah(e,[me],i,!0),cl(),s=p.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=gy(t,e,s,i);break t}else if(s!==o){o=hn(Error(r(424)),e),il(o),e=gy(t,e,s,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Zt=Sn(t.firstChild),je=e,wt=!0,ka=null,Pn=!0,i=Jp(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(nl(),s===o){e=pi(t,e,i);break t}Ce(t,e,s,i)}e=e.child}return e;case 26:return fo(t,e),t===null?(i=S_(e.type,null,e.pendingProps,null))?e.memoizedState=i:wt||(i=e.type,t=e.pendingProps,s=Co(Vn.current).createElement(i),s[he]=e,s[se]=t,Ne(s,i,t),te(s),e.stateNode=s):e.memoizedState=S_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return xi(e),t===null&&wt&&(s=e.stateNode=E_(e.type,e.pendingProps,Vn.current),je=e,Pn=!0,o=Zt,ia(e.type)?(Hf=o,Zt=Sn(s.firstChild)):Zt=o),Ce(t,e,e.pendingProps.children,i),fo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&wt&&((o=s=Zt)&&(s=L1(s,e.type,e.pendingProps,Pn),s!==null?(e.stateNode=s,je=e,Zt=Sn(s.firstChild),Pn=!1,o=!0):o=!1),o||ja(e)),xi(e),o=e.type,h=e.pendingProps,p=t!==null?t.memoizedProps:null,s=h.children,zf(o,h)?s=null:p!==null&&zf(o,p)&&(e.flags|=32),e.memoizedState!==null&&(o=xh(t,e,e1,null,null,i),Il._currentValue=o),fo(t,e),Ce(t,e,s,i),e.child;case 6:return t===null&&wt&&((t=i=Zt)&&(i=B1(i,e.pendingProps,Pn),i!==null?(e.stateNode=i,je=e,Zt=null,t=!0):t=!1),t||ja(e)),null;case 13:return py(t,e,i);case 4:return ps(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Fs(e,null,s,i):Ce(t,e,s,i),e.child;case 11:return uy(t,e,e.type,e.pendingProps,i);case 7:return Ce(t,e,e.pendingProps,i),e.child;case 8:return Ce(t,e,e.pendingProps.children,i),e.child;case 12:return Ce(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,ki(e,e.type,s.value),Ce(t,e,s.children,i),e.child;case 9:return o=e.type._context,s=e.pendingProps.children,Qa(e),o=ze(o),s=s(o),e.flags|=1,Ce(t,e,s,i),e.child;case 14:return oy(t,e,e.type,e.pendingProps,i);case 15:return cy(t,e,e.type,e.pendingProps,i);case 19:return _y(t,e,i);case 31:return s=e.pendingProps,i=e.mode,s={mode:s.mode,children:s.children},t===null?(i=mo(s,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=oi(t.child,s),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return hy(t,e,i);case 24:return Qa(e),s=ze(me),t===null?(o=Rh(),o===null&&(o=jt,h=Sh(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),e.memoizedState={parent:s,cache:o},Dh(e),ki(e,me,o)):((t.lanes&i)!==0&&(Ch(t,e),hl(e,null,null,i),cl()),o=t.memoizedState,h=e.memoizedState,o.parent!==s?(o={parent:s,cache:s},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),ki(e,me,s)):(s=h.cache,ki(e,me,s),s!==o.cache&&Ah(e,[me],i,!0))),Ce(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function yi(t){t.flags|=4}function Ey(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C_(e)){if(e=gn.current,e!==null&&((At&4194048)===At?kn!==null:(At&62914560)!==At&&(At&536870912)===0||e!==kn))throw ul=wh,ip;t.flags|=8192}}function go(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ur():536870912,t.lanes|=e,Ws|=e)}function _l(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function c1(t,e,i){var s=e.pendingProps;switch(_h(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Yt(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),di(me),Ii(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(el(e)?yi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,$g())),Yt(e),null;case 26:return i=e.memoizedState,t===null?(yi(e),i!==null?(Yt(e),Ey(e,i)):(Yt(e),e.flags&=-16777217)):i?i!==t.memoizedState?(yi(e),Yt(e),Ey(e,i)):(Yt(e),e.flags&=-16777217):(t.memoizedProps!==s&&yi(e),Yt(e),e.flags&=-16777217),null;case 27:Zn(e),i=Vn.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&yi(e);else{if(!s){if(e.stateNode===null)throw Error(r(166));return Yt(e),null}t=ae.current,el(e)?Zg(e):(t=E_(o,s,i),e.stateNode=t,yi(e))}return Yt(e),null;case 5:if(Zn(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&yi(e);else{if(!s){if(e.stateNode===null)throw Error(r(166));return Yt(e),null}if(t=ae.current,el(e))Zg(e);else{switch(o=Co(Vn.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?o.createElement(i,{is:s.is}):o.createElement(i)}}t[he]=e,t[se]=s;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;t:switch(Ne(t,i,s),i){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&yi(e)}}return Yt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&yi(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(r(166));if(t=Vn.current,el(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,o=je,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}t[he]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||d_(t.nodeValue,i)),t||ja(e)}else t=Co(t).createTextNode(s),t[he]=e,e.stateNode=t}return Yt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=el(e),s!==null&&s.dehydrated!==null){if(t===null){if(!o)throw Error(r(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[he]=e}else nl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else o=$g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(gi(e),e):(gi(e),null)}if(gi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=s!==null,t=t!==null&&t.memoizedState!==null,i){s=e.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var h=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),go(e,e.updateQueue),Yt(e),null;case 4:return Ii(),t===null&&Mf(e.stateNode.containerInfo),Yt(e),null;case 10:return di(e.type),Yt(e),null;case 19:if(bt(ge),o=e.memoizedState,o===null)return Yt(e),null;if(s=(e.flags&128)!==0,h=o.rendering,h===null)if(s)_l(o,!1);else{if(Jt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=oo(t),h!==null){for(e.flags|=128,_l(o,!1),t=h.updateQueue,e.updateQueue=t,go(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Xg(i,t),i=i.sibling;return ut(ge,ge.current&1|2),e.child}t=t.sibling}o.tail!==null&&sn()>_o&&(e.flags|=128,s=!0,_l(o,!1),e.lanes=4194304)}else{if(!s)if(t=oo(h),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,go(e,t),_l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!wt)return Yt(e),null}else 2*sn()-o.renderingStartTime>_o&&i!==536870912&&(e.flags|=128,s=!0,_l(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sn(),e.sibling=null,t=ge.current,ut(ge,s?t&1|2:t&1),e):(Yt(e),null);case 22:case 23:return gi(e),Oh(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),i=e.updateQueue,i!==null&&go(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&bt(Ka),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),di(me),Yt(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function h1(t,e){switch(_h(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return di(me),Ii(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zn(e),null;case 13:if(gi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(ge),null;case 4:return Ii(),null;case 10:return di(e.type),null;case 22:case 23:return gi(e),Oh(),t!==null&&bt(Ka),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return di(me),null;case 25:return null;default:return null}}function Ty(t,e){switch(_h(e),e.tag){case 3:di(me),Ii();break;case 26:case 27:case 5:Zn(e);break;case 4:Ii();break;case 13:gi(e);break;case 19:bt(ge);break;case 10:di(e.type);break;case 22:case 23:gi(e),Oh(),t!==null&&bt(Ka);break;case 24:di(me)}}function vl(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&t)===t){s=void 0;var h=i.create,p=i.inst;s=h(),p.destroy=s}i=i.next}while(i!==o)}}catch(_){Ht(e,e.return,_)}}function Fi(t,e,i){try{var s=e.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){var p=s.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,o=e;var S=i,U=_;try{U()}catch(P){Ht(o,S,P)}}}s=s.next}while(s!==h)}}catch(P){Ht(e,e.return,P)}}function Ay(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{op(e,i)}catch(s){Ht(t,t.return,s)}}}function Sy(t,e,i){i.props=Xa(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Ht(t,e,s)}}function El(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(o){Ht(t,e,o)}}function jn(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){Ht(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ht(t,e,o)}else i.current=null}function by(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){Ht(t,t.return,o)}}function lf(t,e,i){try{var s=t.stateNode;O1(s,t.type,i,e),s[se]=e}catch(o){Ht(t,t.return,o)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function uf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Do));else if(s!==4&&(s===27&&ia(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(of(t,e,i),t=t.sibling;t!==null;)of(t,e,i),t=t.sibling}function po(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&ia(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(po(t,e,i),t=t.sibling;t!==null;)po(t,e,i),t=t.sibling}function wy(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Ne(e,s,i),e[he]=t,e[se]=i}catch(h){Ht(t,t.return,h)}}var _i=!1,ne=!1,cf=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function f1(t,e){if(t=t.containerInfo,xf=xo,t=Bg(t),lh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var p=0,_=-1,S=-1,U=0,P=0,G=t,z=null;e:for(;;){for(var L;G!==i||o!==0&&G.nodeType!==3||(_=p+o),G!==h||s!==0&&G.nodeType!==3||(S=p+s),G.nodeType===3&&(p+=G.nodeValue.length),(L=G.firstChild)!==null;)z=G,G=L;for(;;){if(G===t)break e;if(z===i&&++U===o&&(_=p),z===h&&++P===s&&(S=p),(L=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=L}i=_===-1||S===-1?null:{start:_,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Uf={focusedElem:t,selectionRange:i},xo=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){switch(e=Ee,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,o=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var lt=Xa(i.type,o,i.elementType===i.type);t=s.getSnapshotBeforeUpdate(lt,h),s.__reactInternalSnapshotBeforeUpdate=t}catch(it){Ht(i,i.return,it)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Bf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}}function Cy(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Zi(t,i),s&4&&vl(5,i);break;case 1:if(Zi(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){Ht(i,i.return,p)}else{var o=Xa(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ht(i,i.return,p)}}s&64&&Ay(i),s&512&&El(i,i.return);break;case 3:if(Zi(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{op(t,e)}catch(p){Ht(i,i.return,p)}}break;case 27:e===null&&s&4&&wy(i);case 26:case 5:Zi(t,i),e===null&&s&4&&by(i),s&512&&El(i,i.return);break;case 12:Zi(t,i);break;case 13:Zi(t,i),s&4&&My(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=T1.bind(null,i),q1(t,i))));break;case 22:if(s=i.memoizedState!==null||_i,!s){e=e!==null&&e.memoizedState!==null||ne,o=_i;var h=ne;_i=s,(ne=e)&&!h?Ji(t,i,(i.subtreeFlags&8772)!==0):Zi(t,i),_i=o,ne=h}break;case 30:break;default:Zi(t,i)}}function Vy(t){var e=t.alternate;e!==null&&(t.alternate=null,Vy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Bi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qt=null,Ye=!1;function vi(t,e,i){for(i=i.child;i!==null;)Ny(t,e,i),i=i.sibling}function Ny(t,e,i){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ft,i)}catch{}switch(i.tag){case 26:ne||jn(i,e),vi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ne||jn(i,e);var s=Qt,o=Ye;ia(i.type)&&(Qt=i.stateNode,Ye=!1),vi(t,e,i),Vl(i.stateNode),Qt=s,Ye=o;break;case 5:ne||jn(i,e);case 6:if(s=Qt,o=Ye,Qt=null,vi(t,e,i),Qt=s,Ye=o,Qt!==null)if(Ye)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(i.stateNode)}catch(h){Ht(i,e,h)}else try{Qt.removeChild(i.stateNode)}catch(h){Ht(i,e,h)}break;case 18:Qt!==null&&(Ye?(t=Qt,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ll(t)):__(Qt,i.stateNode));break;case 4:s=Qt,o=Ye,Qt=i.stateNode.containerInfo,Ye=!0,vi(t,e,i),Qt=s,Ye=o;break;case 0:case 11:case 14:case 15:ne||Fi(2,i,e),ne||Fi(4,i,e),vi(t,e,i);break;case 1:ne||(jn(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Sy(i,e,s)),vi(t,e,i);break;case 21:vi(t,e,i);break;case 22:ne=(s=ne)||i.memoizedState!==null,vi(t,e,i),ne=s;break;default:vi(t,e,i)}}function My(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(i){Ht(e,e.return,i)}}function d1(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Dy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Dy),e;default:throw Error(r(435,t.tag))}}function hf(t,e){var i=d1(t);e.forEach(function(s){var o=A1.bind(null,t,s);i.has(s)||(i.add(s),s.then(o,o))})}function We(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],h=t,p=e,_=p;t:for(;_!==null;){switch(_.tag){case 27:if(ia(_.type)){Qt=_.stateNode,Ye=!1;break t}break;case 5:Qt=_.stateNode,Ye=!1;break t;case 3:case 4:Qt=_.stateNode.containerInfo,Ye=!0;break t}_=_.return}if(Qt===null)throw Error(r(160));Ny(h,p,o),Qt=null,Ye=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Oy(e,t),e=e.sibling}var An=null;function Oy(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:We(e,t),tn(t),s&4&&(Fi(3,t,t.return),vl(3,t),Fi(5,t,t.return));break;case 1:We(e,t),tn(t),s&512&&(ne||i===null||jn(i,i.return)),s&64&&_i&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=An;if(We(e,t),tn(t),s&512&&(ne||i===null||jn(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,o=o.ownerDocument||o;e:switch(s){case"title":h=o.getElementsByTagName("title")[0],(!h||h[Sa]||h[he]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(s),o.head.insertBefore(h,o.querySelector("head > title"))),Ne(h,s,i),h[he]=t,te(h),s=h;break t;case"link":var p=w_("link","href",o).get(s+(i.href||""));if(p){for(var _=0;_<p.length;_++)if(h=p[_],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(_,1);break e}}h=o.createElement(s),Ne(h,s,i),o.head.appendChild(h);break;case"meta":if(p=w_("meta","content",o).get(s+(i.content||""))){for(_=0;_<p.length;_++)if(h=p[_],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(_,1);break e}}h=o.createElement(s),Ne(h,s,i),o.head.appendChild(h);break;default:throw Error(r(468,s))}h[he]=t,te(h),s=h}t.stateNode=s}else D_(o,t.type,t.stateNode);else t.stateNode=R_(o,s,t.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?D_(o,t.type,t.stateNode):R_(o,s,t.memoizedProps)):s===null&&t.stateNode!==null&&lf(t,t.memoizedProps,i.memoizedProps)}break;case 27:We(e,t),tn(t),s&512&&(ne||i===null||jn(i,i.return)),i!==null&&s&4&&lf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(We(e,t),tn(t),s&512&&(ne||i===null||jn(i,i.return)),t.flags&32){o=t.stateNode;try{ln(o,"")}catch(L){Ht(t,t.return,L)}}s&4&&t.stateNode!=null&&(o=t.memoizedProps,lf(t,o,i!==null?i.memoizedProps:o)),s&1024&&(cf=!0);break;case 6:if(We(e,t),tn(t),s&4){if(t.stateNode===null)throw Error(r(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(L){Ht(t,t.return,L)}}break;case 3:if(Mo=null,o=An,An=Vo(e.containerInfo),We(e,t),An=o,tn(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(L){Ht(t,t.return,L)}cf&&(cf=!1,Iy(t));break;case 4:s=An,An=Vo(t.stateNode.containerInfo),We(e,t),tn(t),An=s;break;case 12:We(e,t),tn(t);break;case 13:We(e,t),tn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(yf=sn()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,hf(t,s)));break;case 22:o=t.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,U=_i,P=ne;if(_i=U||o,ne=P||S,We(e,t),ne=P,_i=U,tn(t),s&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(i===null||S||_i||ne||Fa(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){S=i=e;try{if(h=S.stateNode,o)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=S.stateNode;var G=S.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(L){Ht(S,S.return,L)}}}else if(e.tag===6){if(i===null){S=e;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(L){Ht(S,S.return,L)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,hf(t,i))));break;case 19:We(e,t),tn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,hf(t,s)));break;case 30:break;case 21:break;default:We(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(Ry(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,h=uf(t);po(t,h,o);break;case 5:var p=i.stateNode;i.flags&32&&(ln(p,""),i.flags&=-33);var _=uf(t);po(t,_,p);break;case 3:case 4:var S=i.stateNode.containerInfo,U=uf(t);of(t,U,S);break;default:throw Error(r(161))}}catch(P){Ht(t,t.return,P)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Iy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Cy(t,e.alternate,e),e=e.sibling}function Fa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Fi(4,e,e.return),Fa(e);break;case 1:jn(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Sy(e,e.return,i),Fa(e);break;case 27:Vl(e.stateNode);case 26:case 5:jn(e,e.return),Fa(e);break;case 22:e.memoizedState===null&&Fa(e);break;case 30:Fa(e);break;default:Fa(e)}t=t.sibling}}function Ji(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,o=t,h=e,p=h.flags;switch(h.tag){case 0:case 11:case 15:Ji(o,h,i),vl(4,h);break;case 1:if(Ji(o,h,i),s=h,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(U){Ht(s,s.return,U)}if(s=h,o=s.updateQueue,o!==null){var _=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)up(S[o],_)}catch(U){Ht(s,s.return,U)}}i&&p&64&&Ay(h),El(h,h.return);break;case 27:wy(h);case 26:case 5:Ji(o,h,i),i&&s===null&&p&4&&by(h),El(h,h.return);break;case 12:Ji(o,h,i);break;case 13:Ji(o,h,i),i&&p&4&&My(o,h);break;case 22:h.memoizedState===null&&Ji(o,h,i),El(h,h.return);break;case 30:break;default:Ji(o,h,i)}e=e.sibling}}function ff(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&sl(i))}function df(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t))}function Gn(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(t,e,i,s),e=e.sibling}function xy(t,e,i,s){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Gn(t,e,i,s),o&2048&&vl(9,e);break;case 1:Gn(t,e,i,s);break;case 3:Gn(t,e,i,s),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t)));break;case 12:if(o&2048){Gn(t,e,i,s),t=e.stateNode;try{var h=e.memoizedProps,p=h.id,_=h.onPostCommit;typeof _=="function"&&_(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ht(e,e.return,S)}}else Gn(t,e,i,s);break;case 13:Gn(t,e,i,s);break;case 23:break;case 22:h=e.stateNode,p=e.alternate,e.memoizedState!==null?h._visibility&2?Gn(t,e,i,s):Tl(t,e):h._visibility&2?Gn(t,e,i,s):(h._visibility|=2,Zs(t,e,i,s,(e.subtreeFlags&10256)!==0)),o&2048&&ff(p,e);break;case 24:Gn(t,e,i,s),o&2048&&df(e.alternate,e);break;default:Gn(t,e,i,s)}}function Zs(t,e,i,s,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,p=e,_=i,S=s,U=p.flags;switch(p.tag){case 0:case 11:case 15:Zs(h,p,_,S,o),vl(8,p);break;case 23:break;case 22:var P=p.stateNode;p.memoizedState!==null?P._visibility&2?Zs(h,p,_,S,o):Tl(h,p):(P._visibility|=2,Zs(h,p,_,S,o)),o&&U&2048&&ff(p.alternate,p);break;case 24:Zs(h,p,_,S,o),o&&U&2048&&df(p.alternate,p);break;default:Zs(h,p,_,S,o)}e=e.sibling}}function Tl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,o=s.flags;switch(s.tag){case 22:Tl(i,s),o&2048&&ff(s.alternate,s);break;case 24:Tl(i,s),o&2048&&df(s.alternate,s);break;default:Tl(i,s)}e=e.sibling}}var Al=8192;function Js(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 26:Js(t),t.flags&Al&&t.memoizedState!==null&&$1(An,t.memoizedState,t.memoizedProps);break;case 5:Js(t);break;case 3:case 4:var e=An;An=Vo(t.stateNode.containerInfo),Js(t),An=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Al,Al=16777216,Js(t),Al=e):Js(t));break;default:Js(t)}}function zy(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Sl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];Ee=s,By(s,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,yo(t)):Sl(t);break;default:Sl(t)}}function yo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];Ee=s,By(s,t)}zy(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Fi(8,e,e.return),yo(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,yo(e));break;default:yo(e)}t=t.sibling}}function By(t,e){for(;Ee!==null;){var i=Ee;switch(i.tag){case 0:case 11:case 15:Fi(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:sl(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Ee=s;else t:for(i=t;Ee!==null;){s=Ee;var o=s.sibling,h=s.return;if(Vy(s),s===i){Ee=null;break t}if(o!==null){o.return=h,Ee=o;break t}Ee=h}}}var m1={getCacheForType:function(t){var e=ze(me),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},g1=typeof WeakMap=="function"?WeakMap:Map,Mt=0,jt=null,gt=null,At=0,Ot=0,en=null,$i=!1,$s=!1,mf=!1,Ei=0,Jt=0,Wi=0,Za=0,gf=0,pn=0,Ws=0,bl=null,Xe=null,pf=!1,yf=0,_o=1/0,vo=null,ta=null,Ve=0,ea=null,tr=null,er=0,_f=0,vf=null,qy=null,Rl=0,Ef=null;function nn(){if((Mt&2)!==0&&At!==0)return At&-At;if(k.T!==null){var t=ks;return t!==0?t:Df()}return zi()}function Hy(){pn===0&&(pn=(At&536870912)===0||wt?xr():536870912);var t=gn.current;return t!==null&&(t.flags|=32),pn}function an(t,e,i){(t===jt&&(Ot===2||Ot===9)||t.cancelPendingCommit!==null)&&(nr(t,0),na(t,At,pn,!1)),$n(t,i),((Mt&2)===0||t!==jt)&&(t===jt&&((Mt&2)===0&&(Za|=i),Jt===4&&na(t,At,pn,!1)),Qn(t))}function Py(t,e,i){if((Mt&6)!==0)throw Error(r(327));var s=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Aa(t,e),o=s?_1(t,e):Sf(t,e,!0),h=s;do{if(o===0){$s&&!s&&na(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!p1(i)){o=Sf(t,e,!1),h=!1;continue}if(o===2){if(h=e,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var _=t;o=bl;var S=_.current.memoizedState.isDehydrated;if(S&&(nr(_,p).flags|=256),p=Sf(_,p,!1),p!==2){if(mf&&!S){_.errorRecoveryDisabledLanes|=h,Za|=h,o=4;break t}h=Xe,Xe=o,h!==null&&(Xe===null?Xe=h:Xe.push.apply(Xe,h))}o=p}if(h=!1,o!==2)continue}}if(o===1){nr(t,0),na(t,e,0,!0);break}t:{switch(s=t,h=o,h){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:na(s,e,pn,!$i);break t;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(o=yf+300-sn(),10<o)){if(na(s,e,pn,!$i),vs(s,0,!0)!==0)break t;s.timeoutHandle=p_(ky.bind(null,s,i,Xe,vo,pf,e,pn,Za,Ws,$i,h,2,-0,0),o);break t}ky(s,i,Xe,vo,pf,e,pn,Za,Ws,$i,h,0,-0,0)}}break}while(!0);Qn(t)}function ky(t,e,i,s,o,h,p,_,S,U,P,G,z,L){if(t.timeoutHandle=-1,G=e.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:J1},Uy(e),G=W1(),G!==null)){t.cancelPendingCommit=G(Fy.bind(null,t,e,h,i,s,o,p,_,S,P,1,z,L)),na(t,h,p,!U);return}Fy(t,e,h,i,s,o,p,_,S)}function p1(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],h=o.getSnapshot;o=o.value;try{if(!Je(h(),o))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function na(t,e,i,s){e&=~gf,e&=~Za,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var o=e;0<o;){var h=31-Ue(o),p=1<<h;s[h]=-1,o&=~p}i!==0&&Nn(t,i,e)}function Eo(){return(Mt&6)===0?(wl(0),!1):!0}function Tf(){if(gt!==null){if(Ot===0)var t=gt.return;else t=gt,fi=Ga=null,Lh(t),Xs=null,pl=0,t=gt;for(;t!==null;)Ty(t.alternate,t),t=t.return;gt=null}}function nr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,x1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Tf(),jt=t,gt=i=oi(t.current,null),At=e,Ot=0,en=null,$i=!1,$s=Aa(t,e),mf=!1,Ws=pn=gf=Za=Wi=Jt=0,Xe=bl=null,pf=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var o=31-Ue(s),h=1<<o;e|=t[o],s&=~h}return Ei=e,Pu(),i}function jy(t,e){ht=null,k.H=ro,e===ll||e===Zu?(e=rp(),Ot=3):e===ip?(e=rp(),Ot=4):Ot=e===ly?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,en=e,gt===null&&(Jt=1,ho(t,hn(e,t.current)))}function Gy(){var t=k.H;return k.H=ro,t===null?ro:t}function Qy(){var t=k.A;return k.A=m1,t}function Af(){Jt=4,$i||(At&4194048)!==At&&gn.current!==null||($s=!0),(Wi&134217727)===0&&(Za&134217727)===0||jt===null||na(jt,At,pn,!1)}function Sf(t,e,i){var s=Mt;Mt|=2;var o=Gy(),h=Qy();(jt!==t||At!==e)&&(vo=null,nr(t,e)),e=!1;var p=Jt;t:do try{if(Ot!==0&&gt!==null){var _=gt,S=en;switch(Ot){case 8:Tf(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(e=!0);var U=Ot;if(Ot=0,en=null,ir(t,_,S,U),i&&$s){p=0;break t}break;default:U=Ot,Ot=0,en=null,ir(t,_,S,U)}}y1(),p=Jt;break}catch(P){jy(t,P)}while(!0);return e&&t.shellSuspendCounter++,fi=Ga=null,Mt=s,k.H=o,k.A=h,gt===null&&(jt=null,At=0,Pu()),p}function y1(){for(;gt!==null;)Ky(gt)}function _1(t,e){var i=Mt;Mt|=2;var s=Gy(),o=Qy();jt!==t||At!==e?(vo=null,_o=sn()+500,nr(t,e)):$s=Aa(t,e);t:do try{if(Ot!==0&&gt!==null){e=gt;var h=en;e:switch(Ot){case 1:Ot=0,en=null,ir(t,e,h,1);break;case 2:case 9:if(ap(h)){Ot=0,en=null,Yy(e);break}e=function(){Ot!==2&&Ot!==9||jt!==t||(Ot=7),Qn(t)},h.then(e,e);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:ap(h)?(Ot=0,en=null,Yy(e)):(Ot=0,en=null,ir(t,e,h,7));break;case 5:var p=null;switch(gt.tag){case 26:p=gt.memoizedState;case 5:case 27:var _=gt;if(!p||C_(p)){Ot=0,en=null;var S=_.sibling;if(S!==null)gt=S;else{var U=_.return;U!==null?(gt=U,To(U)):gt=null}break e}}Ot=0,en=null,ir(t,e,h,5);break;case 6:Ot=0,en=null,ir(t,e,h,6);break;case 8:Tf(),Jt=6;break t;default:throw Error(r(462))}}v1();break}catch(P){jy(t,P)}while(!0);return fi=Ga=null,k.H=s,k.A=o,Mt=i,gt!==null?0:(jt=null,At=0,Pu(),Jt)}function v1(){for(;gt!==null&&!Nr();)Ky(gt)}function Ky(t){var e=vy(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?To(t):gt=e}function Yy(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=dy(i,e,e.pendingProps,e.type,void 0,At);break;case 11:e=dy(i,e,e.pendingProps,e.type.render,e.ref,At);break;case 5:Lh(e);default:Ty(i,e),e=gt=Xg(e,Ei),e=vy(i,e,Ei)}t.memoizedProps=t.pendingProps,e===null?To(t):gt=e}function ir(t,e,i,s){fi=Ga=null,Lh(e),Xs=null,pl=0;var o=e.return;try{if(u1(t,o,e,i,At)){Jt=1,ho(t,hn(i,t.current)),gt=null;return}}catch(h){if(o!==null)throw gt=o,h;Jt=1,ho(t,hn(i,t.current)),gt=null;return}e.flags&32768?(wt||s===1?t=!0:$s||(At&536870912)!==0?t=!1:($i=t=!0,(s===2||s===9||s===3||s===6)&&(s=gn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Xy(e,t)):To(e)}function To(t){var e=t;do{if((e.flags&32768)!==0){Xy(e,$i);return}t=e.return;var i=c1(e.alternate,e,Ei);if(i!==null){gt=i;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Jt===0&&(Jt=5)}function Xy(t,e){do{var i=h1(t.alternate,t);if(i!==null){i.flags&=32767,gt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){gt=t;return}gt=t=i}while(t!==null);Jt=6,gt=null}function Fy(t,e,i,s,o,h,p,_,S){t.cancelPendingCommit=null;do Ao();while(Ve!==0);if((Mt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(h=e.lanes|e.childLanes,h|=fh,zr(t,i,h,p,_,S),t===jt&&(gt=jt=null,At=0),tr=e,ea=t,er=i,_f=h,vf=o,qy=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,S1(_a,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,o=F.p,F.p=2,p=Mt,Mt|=4;try{f1(t,e,i)}finally{Mt=p,F.p=o,k.T=s}}Ve=1,Zy(),Jy(),$y()}}function Zy(){if(Ve===1){Ve=0;var t=ea,e=tr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var s=F.p;F.p=2;var o=Mt;Mt|=4;try{Oy(e,t);var h=Uf,p=Bg(t.containerInfo),_=h.focusedElem,S=h.selectionRange;if(p!==_&&_&&_.ownerDocument&&Lg(_.ownerDocument.documentElement,_)){if(S!==null&&lh(_)){var U=S.start,P=S.end;if(P===void 0&&(P=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(P,_.value.length);else{var G=_.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var L=z.getSelection(),lt=_.textContent.length,it=Math.min(S.start,lt),Bt=S.end===void 0?it:Math.min(S.end,lt);!L.extend&&it>Bt&&(p=Bt,Bt=it,it=p);var M=zg(_,it),D=zg(_,Bt);if(M&&D&&(L.rangeCount!==1||L.anchorNode!==M.node||L.anchorOffset!==M.offset||L.focusNode!==D.node||L.focusOffset!==D.offset)){var x=G.createRange();x.setStart(M.node,M.offset),L.removeAllRanges(),it>Bt?(L.addRange(x),L.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),L.addRange(x))}}}}for(G=[],L=_;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<G.length;_++){var j=G[_];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}xo=!!xf,Uf=xf=null}finally{Mt=o,F.p=s,k.T=i}}t.current=e,Ve=2}}function Jy(){if(Ve===2){Ve=0;var t=ea,e=tr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var s=F.p;F.p=2;var o=Mt;Mt|=4;try{Cy(t,e.alternate,e)}finally{Mt=o,F.p=s,k.T=i}}Ve=3}}function $y(){if(Ve===4||Ve===3){Ve=0,pu();var t=ea,e=tr,i=er,s=qy;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ve=5:(Ve=0,tr=ea=null,Wy(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(ta=null),Es(i),e=e.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ft,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=k.T,o=F.p,F.p=2,k.T=null;try{for(var h=t.onRecoverableError,p=0;p<s.length;p++){var _=s[p];h(_.value,{componentStack:_.stack})}}finally{k.T=e,F.p=o}}(er&3)!==0&&Ao(),Qn(t),o=t.pendingLanes,(i&4194090)!==0&&(o&42)!==0?t===Ef?Rl++:(Rl=0,Ef=t):Rl=0,wl(0)}}function Wy(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sl(e)))}function Ao(t){return Zy(),Jy(),$y(),t_()}function t_(){if(Ve!==5)return!1;var t=ea,e=_f;_f=0;var i=Es(er),s=k.T,o=F.p;try{F.p=32>i?32:i,k.T=null,i=vf,vf=null;var h=ea,p=er;if(Ve=0,tr=ea=null,er=0,(Mt&6)!==0)throw Error(r(331));var _=Mt;if(Mt|=4,Ly(h.current),xy(h,h.current,p,i),Mt=_,wl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ft,h)}catch{}return!0}finally{F.p=o,k.T=s,Wy(t,e)}}function e_(t,e,i){e=hn(i,e),e=Jh(t.stateNode,e,2),t=Qi(t,e,2),t!==null&&($n(t,2),Qn(t))}function Ht(t,e,i){if(t.tag===3)e_(t,t,i);else for(;e!==null;){if(e.tag===3){e_(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ta===null||!ta.has(s))){t=hn(i,t),i=sy(2),s=Qi(e,i,2),s!==null&&(ry(i,s,e,t),$n(s,2),Qn(s));break}}e=e.return}}function bf(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new g1;var o=new Set;s.set(e,o)}else o=s.get(e),o===void 0&&(o=new Set,s.set(e,o));o.has(i)||(mf=!0,o.add(i),t=E1.bind(null,t,e,i),e.then(t,t))}function E1(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,jt===t&&(At&i)===i&&(Jt===4||Jt===3&&(At&62914560)===At&&300>sn()-yf?(Mt&2)===0&&nr(t,0):gf|=i,Ws===At&&(Ws=0)),Qn(t)}function n_(t,e){e===0&&(e=Ur()),t=Bs(t,e),t!==null&&($n(t,e),Qn(t))}function T1(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),n_(t,i)}function A1(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(e),n_(t,i)}function S1(t,e){return pa(t,e)}var So=null,ar=null,Rf=!1,bo=!1,wf=!1,Ja=0;function Qn(t){t!==ar&&t.next===null&&(ar===null?So=ar=t:ar=ar.next=t),bo=!0,Rf||(Rf=!0,R1())}function wl(t,e){if(!wf&&bo){wf=!0;do for(var i=!1,s=So;s!==null;){if(t!==0){var o=s.pendingLanes;if(o===0)var h=0;else{var p=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-Ue(42|t)+1)-1,h&=o&~(p&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,r_(s,h))}else h=At,h=vs(s,s===jt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Aa(s,h)||(i=!0,r_(s,h));s=s.next}while(i);wf=!1}}function b1(){i_()}function i_(){bo=Rf=!1;var t=0;Ja!==0&&(I1()&&(t=Ja),Ja=0);for(var e=sn(),i=null,s=So;s!==null;){var o=s.next,h=a_(s,e);h===0?(s.next=null,i===null?So=o:i.next=o,o===null&&(ar=i)):(i=s,(t!==0||(h&3)!==0)&&(bo=!0)),s=o}wl(t)}function a_(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,o=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-Ue(h),_=1<<p,S=o[p];S===-1?((_&i)===0||(_&s)!==0)&&(o[p]=Ir(_,e)):S<=e&&(t.expiredLanes|=_),h&=~_}if(e=jt,i=At,i=vs(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Ot===2||Ot===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ya(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Aa(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&ya(s),Es(i)){case 2:case 8:i=ys;break;case 32:i=_a;break;case 268435456:i=_s;break;default:i=_a}return s=s_.bind(null,t),i=pa(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&ya(s),t.callbackPriority=2,t.callbackNode=null,2}function s_(t,e){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Ao()&&t.callbackNode!==i)return null;var s=At;return s=vs(t,t===jt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Py(t,s,e),a_(t,sn()),t.callbackNode!=null&&t.callbackNode===i?s_.bind(null,t):null)}function r_(t,e){if(Ao())return null;Py(t,e,!0)}function R1(){U1(function(){(Mt&6)!==0?pa(Mr,b1):i_()})}function Df(){return Ja===0&&(Ja=xr()),Ja}function l_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ws(""+t)}function u_(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function w1(t,e,i,s,o){if(e==="submit"&&i&&i.stateNode===o){var h=l_((o[se]||null).action),p=s.submitter;p&&(e=(e=p[se]||null)?l_(e.formAction):p.getAttribute("formAction"),e!==null&&(h=e,p=null));var _=new Ds("action","action",null,s,o);t.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ja!==0){var S=p?u_(o,p):new FormData(o);Kh(i,{pending:!0,data:S,method:o.method,action:h},null,S)}}else typeof h=="function"&&(_.preventDefault(),S=p?u_(o,p):new FormData(o),Kh(i,{pending:!0,data:S,method:o.method,action:h},h,S))},currentTarget:o}]})}}for(var Cf=0;Cf<hh.length;Cf++){var Vf=hh[Cf],D1=Vf.toLowerCase(),C1=Vf[0].toUpperCase()+Vf.slice(1);Tn(D1,"on"+C1)}Tn(Pg,"onAnimationEnd"),Tn(kg,"onAnimationIteration"),Tn(jg,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(QA,"onTransitionRun"),Tn(KA,"onTransitionStart"),Tn(YA,"onTransitionCancel"),Tn(Gg,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function o_(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],o=s.event;s=s.listeners;t:{var h=void 0;if(e)for(var p=s.length-1;0<=p;p--){var _=s[p],S=_.instance,U=_.currentTarget;if(_=_.listener,S!==h&&o.isPropagationStopped())break t;h=_,o.currentTarget=U;try{h(o)}catch(P){co(P)}o.currentTarget=null,h=S}else for(p=0;p<s.length;p++){if(_=s[p],S=_.instance,U=_.currentTarget,_=_.listener,S!==h&&o.isPropagationStopped())break t;h=_,o.currentTarget=U;try{h(o)}catch(P){co(P)}o.currentTarget=null,h=S}}}}function pt(t,e){var i=e[Br];i===void 0&&(i=e[Br]=new Set);var s=t+"__bubble";i.has(s)||(c_(e,t,2,!1),i.add(s))}function Nf(t,e,i){var s=0;e&&(s|=4),c_(i,t,s,e)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function Mf(t){if(!t[Ro]){t[Ro]=!0,qr.forEach(function(i){i!=="selectionchange"&&(V1.has(i)||Nf(i,!1,t),Nf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ro]||(e[Ro]=!0,Nf("selectionchange",!1,e))}}function c_(t,e,i,s){switch(x_(e)){case 2:var o=nS;break;case 8:o=iS;break;default:o=Qf}i=o.bind(null,e,i,t),o=void 0,!on||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),s?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function Of(t,e,i,s,o){var h=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var _=s.stateNode.containerInfo;if(_===o)break;if(p===4)for(p=s.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;_!==null;){if(p=Wn(_),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){s=h=p;continue t}_=_.parentNode}}s=s.return}wu(function(){var U=h,P=un(i),G=[];t:{var z=Qg.get(t);if(z!==void 0){var L=Ds,lt=t;switch(t){case"keypress":if(zn(i)===0)break t;case"keydown":case"keyup":L=Is;break;case"focusin":lt="focus",L=Ns;break;case"focusout":lt="blur",L=Ns;break;case"beforeblur":case"afterblur":L=Ns;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=xu;break;case Pg:case kg:case jg:L=Ms;break;case Gg:L=zu;break;case"scroll":case"scrollend":L=Du;break;case"wheel":L=xs;break;case"copy":case"cut":case"paste":L=Os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Jr;break;case"toggle":case"beforetoggle":L=Bu}var it=(e&4)!==0,Bt=!it&&(t==="scroll"||t==="scrollend"),M=it?z!==null?z+"Capture":null:z;it=[];for(var D=U,x;D!==null;){var j=D;if(x=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||x===null||M===null||(j=Na(D,M),j!=null&&it.push(Cl(D,j,x))),Bt)break;D=D.return}0<it.length&&(z=new L(z,lt,null,i,P),G.push({event:z,listeners:it}))}}if((e&7)===0){t:{if(z=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",z&&i!==ii&&(lt=i.relatedTarget||i.fromElement)&&(Wn(lt)||lt[rn]))break t;if((L||z)&&(z=P.window===P?P:(z=P.ownerDocument)?z.defaultView||z.parentWindow:window,L?(lt=i.relatedTarget||i.toElement,L=U,lt=lt?Wn(lt):null,lt!==null&&(Bt=f(lt),it=lt.tag,lt!==Bt||it!==5&&it!==27&&it!==6)&&(lt=null)):(L=null,lt=U),L!==lt)){if(it=cn,j="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(it=Jr,j="onPointerLeave",M="onPointerEnter",D="pointer"),Bt=L==null?z:On(L),x=lt==null?z:On(lt),z=new it(j,D+"leave",L,i,P),z.target=Bt,z.relatedTarget=x,j=null,Wn(P)===U&&(it=new it(M,D+"enter",lt,i,P),it.target=x,it.relatedTarget=Bt,j=it),Bt=j,L&&lt)e:{for(it=L,M=lt,D=0,x=it;x;x=sr(x))D++;for(x=0,j=M;j;j=sr(j))x++;for(;0<D-x;)it=sr(it),D--;for(;0<x-D;)M=sr(M),x--;for(;D--;){if(it===M||M!==null&&it===M.alternate)break e;it=sr(it),M=sr(M)}it=null}else it=null;L!==null&&h_(G,z,L,it,!1),lt!==null&&Bt!==null&&h_(G,Bt,lt,it,!0)}}t:{if(z=U?On(U):window,L=z.nodeName&&z.nodeName.toLowerCase(),L==="select"||L==="input"&&z.type==="file")var $=Ng;else if(de(z))if(Mg)$=kA;else{$=HA;var dt=qA}else L=z.nodeName,!L||L.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Gr(U.elementType)&&($=Ng):$=PA;if($&&($=$(t,U))){ui(G,$,i,P);break t}dt&&dt(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Hi(z,"number",z.value)}switch(dt=U?On(U):window,t){case"focusin":(de(dt)||dt.contentEditable==="true")&&(Us=dt,uh=U,tl=null);break;case"focusout":tl=uh=Us=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,qg(G,i,P);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":qg(G,i,P)}var tt;if(qn)t:{switch(t){case"compositionstart":var rt="onCompositionStart";break t;case"compositionend":rt="onCompositionEnd";break t;case"compositionupdate":rt="onCompositionUpdate";break t}rt=void 0}else Et?q(t,i)&&(rt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(rt="onCompositionStart");rt&&(g&&i.locale!=="ko"&&(Et||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Et&&(tt=Kr()):(Un=P,Pi="value"in Un?Un.value:Un.textContent,Et=!0)),dt=wo(U,rt),0<dt.length&&(rt=new Fr(rt,t,null,i,P),G.push({event:rt,listeners:dt}),tt?rt.data=tt:(tt=Y(i),tt!==null&&(rt.data=tt)))),(tt=d?fe(t,i):Tt(t,i))&&(rt=wo(U,"onBeforeInput"),0<rt.length&&(dt=new Fr("onBeforeInput","beforeinput",null,i,P),G.push({event:dt,listeners:rt}),dt.data=tt)),w1(G,t,U,i,P)}o_(G,e)})}function Cl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function wo(t,e){for(var i=e+"Capture",s=[];t!==null;){var o=t,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=Na(t,i),o!=null&&s.unshift(Cl(t,o,h)),o=Na(t,e),o!=null&&s.push(Cl(t,o,h))),t.tag===3)return s;t=t.return}return[]}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h_(t,e,i,s,o){for(var h=e._reactName,p=[];i!==null&&i!==s;){var _=i,S=_.alternate,U=_.stateNode;if(_=_.tag,S!==null&&S===s)break;_!==5&&_!==26&&_!==27||U===null||(S=U,o?(U=Na(i,h),U!=null&&p.unshift(Cl(i,U,S))):o||(U=Na(i,h),U!=null&&p.push(Cl(i,U,S)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var N1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(N1,`
`).replace(M1,"")}function d_(t,e){return e=f_(e),f_(t)===e}function Do(){}function Lt(t,e,i,s,o,h){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||ln(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&ln(t,""+s);break;case"className":In(t,"class",s);break;case"tabIndex":In(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,i,s);break;case"style":jr(t,s,h);break;case"data":if(e!=="object"){In(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=ws(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Lt(t,e,"name",o.name,o,null),Lt(t,e,"formEncType",o.formEncType,o,null),Lt(t,e,"formMethod",o.formMethod,o,null),Lt(t,e,"formTarget",o.formTarget,o,null)):(Lt(t,e,"encType",o.encType,o,null),Lt(t,e,"method",o.method,o,null),Lt(t,e,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=ws(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=Do);break;case"onScroll":s!=null&&pt("scroll",t);break;case"onScrollEnd":s!=null&&pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=ws(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":pt("beforetoggle",t),pt("toggle",t),qi(t,"popover",s);break;case"xlinkActuate":we(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":we(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":we(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":we(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":we(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":we(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":we(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":we(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":we(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":qi(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=eh.get(i)||i,qi(t,i,s))}}function If(t,e,i,s,o,h){switch(i){case"style":jr(t,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof s=="string"?ln(t,s):(typeof s=="number"||typeof s=="bigint")&&ln(t,""+s);break;case"onScroll":s!=null&&pt("scroll",t);break;case"onScrollEnd":s!=null&&pt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Do);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ts.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),e=i.slice(2,o?i.length-7:void 0),h=t[se]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,o),typeof s=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,o);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):qi(t,i,s)}}}function Ne(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",t),pt("load",t);var s=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var p=i[h];if(p!=null)switch(h){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Lt(t,e,h,p,i,null)}}o&&Lt(t,e,"srcSet",i.srcSet,i,null),s&&Lt(t,e,"src",i.src,i,null);return;case"input":pt("invalid",t);var _=h=p=o=null,S=null,U=null;for(s in i)if(i.hasOwnProperty(s)){var P=i[s];if(P!=null)switch(s){case"name":o=P;break;case"type":p=P;break;case"checked":S=P;break;case"defaultChecked":U=P;break;case"value":h=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:Lt(t,e,s,P,i,null)}}Da(t,h,_,S,U,p,o,!1),Rs(t);return;case"select":pt("invalid",t),s=p=h=null;for(o in i)if(i.hasOwnProperty(o)&&(_=i[o],_!=null))switch(o){case"value":h=_;break;case"defaultValue":p=_;break;case"multiple":s=_;default:Lt(t,e,o,_,i,null)}e=h,i=p,t.multiple=!!s,e!=null?ni(t,!!s,e,!1):i!=null&&ni(t,!!s,i,!0);return;case"textarea":pt("invalid",t),h=o=s=null;for(p in i)if(i.hasOwnProperty(p)&&(_=i[p],_!=null))switch(p){case"value":s=_;break;case"defaultValue":o=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Lt(t,e,p,_,i,null)}Ca(t,s,o,h),Rs(t);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(s=i[S],s!=null))switch(S){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Lt(t,e,S,s,i,null)}return;case"dialog":pt("beforetoggle",t),pt("toggle",t),pt("cancel",t),pt("close",t);break;case"iframe":case"object":pt("load",t);break;case"video":case"audio":for(s=0;s<Dl.length;s++)pt(Dl[s],t);break;case"image":pt("error",t),pt("load",t);break;case"details":pt("toggle",t);break;case"embed":case"source":case"link":pt("error",t),pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(s=i[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Lt(t,e,U,s,i,null)}return;default:if(Gr(e)){for(P in i)i.hasOwnProperty(P)&&(s=i[P],s!==void 0&&If(t,e,P,s,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null&&Lt(t,e,_,s,i,null))}function O1(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,p=null,_=null,S=null,U=null,P=null;for(L in i){var G=i[L];if(i.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=G;default:s.hasOwnProperty(L)||Lt(t,e,L,null,s,G)}}for(var z in s){var L=s[z];if(G=i[z],s.hasOwnProperty(z)&&(L!=null||G!=null))switch(z){case"type":h=L;break;case"name":o=L;break;case"checked":U=L;break;case"defaultChecked":P=L;break;case"value":p=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,e));break;default:L!==G&&Lt(t,e,z,L,s,G)}}Ze(t,p,_,S,U,P,h,o);return;case"select":L=p=_=z=null;for(h in i)if(S=i[h],i.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":L=S;default:s.hasOwnProperty(h)||Lt(t,e,h,null,s,S)}for(o in s)if(h=s[o],S=i[o],s.hasOwnProperty(o)&&(h!=null||S!=null))switch(o){case"value":z=h;break;case"defaultValue":_=h;break;case"multiple":p=h;default:h!==S&&Lt(t,e,o,h,s,S)}e=_,i=p,s=L,z!=null?ni(t,!!i,z,!1):!!s!=!!i&&(e!=null?ni(t,!!i,e,!0):ni(t,!!i,i?[]:"",!1));return;case"textarea":L=z=null;for(_ in i)if(o=i[_],i.hasOwnProperty(_)&&o!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Lt(t,e,_,null,s,o)}for(p in s)if(o=s[p],h=i[p],s.hasOwnProperty(p)&&(o!=null||h!=null))switch(p){case"value":z=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==h&&Lt(t,e,p,o,s,h)}Ut(t,z,L);return;case"option":for(var lt in i)if(z=i[lt],i.hasOwnProperty(lt)&&z!=null&&!s.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Lt(t,e,lt,null,s,z)}for(S in s)if(z=s[S],L=i[S],s.hasOwnProperty(S)&&z!==L&&(z!=null||L!=null))switch(S){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Lt(t,e,S,z,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in i)z=i[it],i.hasOwnProperty(it)&&z!=null&&!s.hasOwnProperty(it)&&Lt(t,e,it,null,s,z);for(U in s)if(z=s[U],L=i[U],s.hasOwnProperty(U)&&z!==L&&(z!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,e));break;default:Lt(t,e,U,z,s,L)}return;default:if(Gr(e)){for(var Bt in i)z=i[Bt],i.hasOwnProperty(Bt)&&z!==void 0&&!s.hasOwnProperty(Bt)&&If(t,e,Bt,void 0,s,z);for(P in s)z=s[P],L=i[P],!s.hasOwnProperty(P)||z===L||z===void 0&&L===void 0||If(t,e,P,z,s,L);return}}for(var M in i)z=i[M],i.hasOwnProperty(M)&&z!=null&&!s.hasOwnProperty(M)&&Lt(t,e,M,null,s,z);for(G in s)z=s[G],L=i[G],!s.hasOwnProperty(G)||z===L||z==null&&L==null||Lt(t,e,G,z,s,L)}var xf=null,Uf=null;function Co(t){return t.nodeType===9?t:t.ownerDocument}function m_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=null;function I1(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(z1)}:p_;function z1(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function __(t,e){var i=e,s=0,o=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<s&&8>s){i=s;var p=t.ownerDocument;if(i&1&&Vl(p.documentElement),i&2&&Vl(p.body),i&4)for(i=p.head,Vl(i),p=i.firstChild;p;){var _=p.nextSibling,S=p.nodeName;p[Sa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=_}}if(o===0){t.removeChild(h),Ll(e);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:s=i.charCodeAt(0)-48;else s=0;i=h}while(i);Ll(e)}function Bf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Bf(i),Bi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function L1(t,e,i,s){for(;t.nodeType===1;){var o=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Sa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Sn(t.nextSibling),t===null)break}return null}function B1(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Sn(t.nextSibling),t===null))return null;return t}function qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function q1(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Hf=null;function v_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function E_(t,e,i){switch(e=Co(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Bi(t)}var yn=new Map,T_=new Set;function Vo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=F.d;F.d={f:H1,r:P1,D:k1,C:j1,L:G1,m:Q1,X:Y1,S:K1,M:X1};function H1(){var t=Ti.f(),e=Eo();return t||e}function P1(t){var e=Mn(t);e!==null&&e.tag===5&&e.type==="form"?Pp(e):Ti.r(t)}var rr=typeof document>"u"?null:document;function A_(t,e,i){var s=rr;if(s&&typeof e=="string"&&e){var o=re(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),T_.has(o)||(T_.add(o),t={rel:t,crossOrigin:i,href:e},s.querySelector(o)===null&&(e=s.createElement("link"),Ne(e,"link",t),te(e),s.head.appendChild(e)))}}function k1(t){Ti.D(t),A_("dns-prefetch",t,null)}function j1(t,e){Ti.C(t,e),A_("preconnect",t,e)}function G1(t,e,i){Ti.L(t,e,i);var s=rr;if(s&&t&&e){var o='link[rel="preload"][as="'+re(e)+'"]';e==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+re(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+re(i.imageSizes)+'"]')):o+='[href="'+re(t)+'"]';var h=o;switch(e){case"style":h=lr(t);break;case"script":h=ur(t)}yn.has(h)||(t=w({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),yn.set(h,t),s.querySelector(o)!==null||e==="style"&&s.querySelector(Nl(h))||e==="script"&&s.querySelector(Ml(h))||(e=s.createElement("link"),Ne(e,"link",t),te(e),s.head.appendChild(e)))}}function Q1(t,e){Ti.m(t,e);var i=rr;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+re(s)+'"][href="'+re(t)+'"]',h=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ur(t)}if(!yn.has(h)&&(t=w({rel:"modulepreload",href:t},e),yn.set(h,t),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ml(h)))return}s=i.createElement("link"),Ne(s,"link",t),te(s),i.head.appendChild(s)}}}function K1(t,e,i){Ti.S(t,e,i);var s=rr;if(s&&t){var o=He(s).hoistableStyles,h=lr(t);e=e||"default";var p=o.get(h);if(!p){var _={loading:0,preload:null};if(p=s.querySelector(Nl(h)))_.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":e},i),(i=yn.get(h))&&Pf(t,i);var S=p=s.createElement("link");te(S),Ne(S,"link",t),S._p=new Promise(function(U,P){S.onload=U,S.onerror=P}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,No(p,e,s)}p={type:"stylesheet",instance:p,count:1,state:_},o.set(h,p)}}}function Y1(t,e){Ti.X(t,e);var i=rr;if(i&&t){var s=He(i).hoistableScripts,o=ur(t),h=s.get(o);h||(h=i.querySelector(Ml(o)),h||(t=w({src:t,async:!0},e),(e=yn.get(o))&&kf(t,e),h=i.createElement("script"),te(h),Ne(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(o,h))}}function X1(t,e){Ti.M(t,e);var i=rr;if(i&&t){var s=He(i).hoistableScripts,o=ur(t),h=s.get(o);h||(h=i.querySelector(Ml(o)),h||(t=w({src:t,async:!0,type:"module"},e),(e=yn.get(o))&&kf(t,e),h=i.createElement("script"),te(h),Ne(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(o,h))}}function S_(t,e,i,s){var o=(o=Vn.current)?Vo(o):null;if(!o)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=lr(i.href),i=He(o).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=lr(i.href);var h=He(o).hoistableStyles,p=h.get(t);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=o.querySelector(Nl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),yn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},yn.set(t,i),h||F1(o,t,i,p.state))),e&&s===null)throw Error(r(528,""));return p}if(e&&s!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ur(i),i=He(o).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function lr(t){return'href="'+re(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function b_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Ne(e,"link",i),te(e),t.head.appendChild(e))}function ur(t){return'[src="'+re(t)+'"]'}function Ml(t){return"script[async]"+t}function R_(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+re(i.href)+'"]');if(s)return e.instance=s,te(s),s;var o=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),te(s),Ne(s,"style",o),No(s,i.precedence,t),e.instance=s;case"stylesheet":o=lr(i.href);var h=t.querySelector(Nl(o));if(h)return e.state.loading|=4,e.instance=h,te(h),h;s=b_(i),(o=yn.get(o))&&Pf(s,o),h=(t.ownerDocument||t).createElement("link"),te(h);var p=h;return p._p=new Promise(function(_,S){p.onload=_,p.onerror=S}),Ne(h,"link",s),e.state.loading|=4,No(h,i.precedence,t),e.instance=h;case"script":return h=ur(i.src),(o=t.querySelector(Ml(h)))?(e.instance=o,te(o),o):(s=i,(o=yn.get(h))&&(s=w({},i),kf(s,o)),t=t.ownerDocument||t,o=t.createElement("script"),te(o),Ne(o,"link",s),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,No(s,i.precedence,t));return e.instance}function No(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,h=o,p=0;p<s.length;p++){var _=s[p];if(_.dataset.precedence===e)h=_;else if(h!==o)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Pf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function kf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Mo=null;function w_(t,e,i){if(Mo===null){var s=new Map,o=Mo=new Map;o.set(i,s)}else o=Mo,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),o=0;o<i.length;o++){var h=i[o];if(!(h[Sa]||h[he]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(e)||"";p=t+p;var _=s.get(p);_?_.push(h):s.set(p,[h])}}return s}function D_(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Z1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function C_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function J1(){}function $1(t,e,i){if(Ol===null)throw Error(r(475));var s=Ol;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var o=lr(i.href),h=t.querySelector(Nl(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Oo.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=h,te(h);return}h=t.ownerDocument||t,i=b_(i),(o=yn.get(o))&&Pf(i,o),h=h.createElement("link"),te(h);var p=h;p._p=new Promise(function(_,S){p.onload=_,p.onerror=S}),Ne(h,"link",i),e.instance=h}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(s.count++,e=Oo.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function W1(){if(Ol===null)throw Error(r(475));var t=Ol;return t.stylesheets&&t.count===0&&jf(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&jf(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Oo(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Io=null;function jf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Io=new Map,e.forEach(tS,t),Io=null,Oo.call(t))}function tS(t,e){if(!(e.state.loading&4)){var i=Io.get(t);if(i)var s=i.get(null);else{i=new Map,Io.set(t,i);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var p=o[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),s=p)}s&&i.set(null,s)}o=e.instance,p=o.getAttribute("data-precedence"),h=i.get(p)||s,h===s&&i.set(null,o),i.set(p,o),this.count++,s=Oo.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),h?h.parentNode.insertBefore(o,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var Il={$$typeof:mt,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function eS(t,e,i,s,o,h,p,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function V_(t,e,i,s,o,h,p,_,S,U,P,G){return t=new eS(t,e,i,p,_,S,U,G),e=1,h===!0&&(e|=24),h=$e(3,null,null,e),t.current=h,h.stateNode=t,e=Sh(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:e},Dh(h),t}function N_(t){return t?(t=qs,t):qs}function M_(t,e,i,s,o,h){o=N_(o),s.context===null?s.context=o:s.pendingContext=o,s=Gi(e),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Qi(t,s,e),i!==null&&(an(i,t,e),ol(i,t,e))}function O_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Gf(t,e){O_(t,e),(t=t.alternate)&&O_(t,e)}function I_(t){if(t.tag===13){var e=Bs(t,67108864);e!==null&&an(e,t,67108864),Gf(t,67108864)}}var xo=!0;function nS(t,e,i,s){var o=k.T;k.T=null;var h=F.p;try{F.p=2,Qf(t,e,i,s)}finally{F.p=h,k.T=o}}function iS(t,e,i,s){var o=k.T;k.T=null;var h=F.p;try{F.p=8,Qf(t,e,i,s)}finally{F.p=h,k.T=o}}function Qf(t,e,i,s){if(xo){var o=Kf(s);if(o===null)Of(t,e,s,Uo,i),U_(t,s);else if(sS(o,t,e,i,s))s.stopPropagation();else if(U_(t,s),e&4&&-1<aS.indexOf(t)){for(;o!==null;){var h=Mn(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=_n(h.pendingLanes);if(p!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var S=1<<31-Ue(p);_.entanglements[1]|=S,p&=~S}Qn(h),(Mt&6)===0&&(_o=sn()+500,wl(0))}}break;case 13:_=Bs(h,2),_!==null&&an(_,h,2),Eo(),Gf(h,2)}if(h=Kf(s),h===null&&Of(t,e,s,Uo,i),h===o)break;o=h}o!==null&&s.stopPropagation()}else Of(t,e,s,null,i)}}function Kf(t){return t=un(t),Yf(t)}var Uo=null;function Yf(t){if(Uo=null,t=Wn(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Uo=t,null}function x_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case Mr:return 2;case ys:return 8;case _a:case Zc:return 32;case _s:return 268435456;default:return 32}default:return 32}}var Xf=!1,aa=null,sa=null,ra=null,xl=new Map,Ul=new Map,la=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,e){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function zl(t,e,i,s,o,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[o]},e!==null&&(e=Mn(e),e!==null&&I_(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function sS(t,e,i,s,o){switch(e){case"focusin":return aa=zl(aa,t,e,i,s,o),!0;case"dragenter":return sa=zl(sa,t,e,i,s,o),!0;case"mouseover":return ra=zl(ra,t,e,i,s,o),!0;case"pointerover":var h=o.pointerId;return xl.set(h,zl(xl.get(h)||null,t,e,i,s,o)),!0;case"gotpointercapture":return h=o.pointerId,Ul.set(h,zl(Ul.get(h)||null,t,e,i,s,o)),!0}return!1}function z_(t){var e=Wn(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,vu(t.priority,function(){if(i.tag===13){var s=nn();s=Ui(s);var o=Bs(i,s);o!==null&&an(o,i,s),Gf(i,s)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Kf(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);ii=s,i.target.dispatchEvent(s),ii=null}else return e=Mn(i),e!==null&&I_(e),t.blockedOn=i,!1;e.shift()}return!0}function L_(t,e,i){zo(t)&&i.delete(e)}function rS(){Xf=!1,aa!==null&&zo(aa)&&(aa=null),sa!==null&&zo(sa)&&(sa=null),ra!==null&&zo(ra)&&(ra=null),xl.forEach(L_),Ul.forEach(L_)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,Xf||(Xf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,rS)))}var Bo=null;function B_(t){Bo!==t&&(Bo=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Bo===t&&(Bo=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],o=t[e+2];if(typeof s!="function"){if(Yf(s||i)===null)continue;break}var h=Mn(i);h!==null&&(t.splice(e,3),e-=3,Kh(h,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function Ll(t){function e(S){return Lo(S,t)}aa!==null&&Lo(aa,t),sa!==null&&Lo(sa,t),ra!==null&&Lo(ra,t),xl.forEach(e),Ul.forEach(e);for(var i=0;i<la.length;i++){var s=la[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<la.length&&(i=la[0],i.blockedOn===null);)z_(i),i.blockedOn===null&&la.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],h=i[s+1],p=o[se]||null;if(typeof h=="function")p||B_(i);else if(p){var _=null;if(h&&h.hasAttribute("formAction")){if(o=h,p=h[se]||null)_=p.formAction;else if(Yf(o)!==null)continue}else _=p.action;typeof _=="function"?i[s+1]=_:(i.splice(s,3),s-=3),B_(i)}}}function Ff(t){this._internalRoot=t}qo.prototype.render=Ff.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,s=nn();M_(i,s,t,e,null,null)},qo.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;M_(t.current,2,null,t,null,null),Eo(),e[rn]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var e=zi();t={blockedOn:null,target:t,priority:e};for(var i=0;i<la.length&&e!==0&&e<la[i].priority;i++);la.splice(i,0,t),i===0&&z_(t)}};var q_=n.version;if(q_!=="19.1.0")throw Error(r(527,q_,"19.1.0"));F.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=E(e),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var lS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Ft=Ho.inject(lS),Nt=Ho}catch{}}return hr.createRoot=function(t,e){if(!c(t))throw Error(r(299));var i=!1,s="",o=ey,h=ny,p=iy,_=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(_=e.unstable_transitionCallbacks)),e=V_(t,1,!1,null,null,i,s,o,h,p,_,null),t[rn]=e.current,Mf(t),new Ff(e)},hr.hydrateRoot=function(t,e,i){if(!c(t))throw Error(r(299));var s=!1,o="",h=ey,p=ny,_=iy,S=null,U=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(U=i.formState)),e=V_(t,1,!0,e,i??null,s,o,h,p,_,S,U),e.context=N_(null),i=e.current,s=nn(),s=Ui(s),o=Gi(s),o.callback=null,Qi(i,o,s),i=s,e.current.lanes=i,$n(e,i),Qn(e),t[rn]=e.current,Mf(t),new qo(e)},hr.version="19.1.0",hr}var ed;function Y_(){if(ed)return ko.exports;ed=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),ko.exports=K_(),ko.exports}var X_=Y_();const F_=P_(X_),Z_=()=>{};var nd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=function(l){const n=[];let a=0;for(let r=0;r<l.length;r++){let c=l.charCodeAt(r);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++r)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},J_=function(l){const n=[];let a=0,r=0;for(;a<l.length;){const c=l[a++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[a++];n[r++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[a++],m=l[a++],y=l[a++],E=((c&7)<<18|(f&63)<<12|(m&63)<<6|y&63)-65536;n[r++]=String.fromCharCode(55296+(E>>10)),n[r++]=String.fromCharCode(56320+(E&1023))}else{const f=l[a++],m=l[a++];n[r++]=String.fromCharCode((c&15)<<12|(f&63)<<6|m&63)}}return n.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<l.length;c+=3){const f=l[c],m=c+1<l.length,y=m?l[c+1]:0,E=c+2<l.length,T=E?l[c+2]:0,w=f>>2,B=(f&3)<<4|y>>4;let H=(y&15)<<2|T>>6,K=T&63;E||(K=64,m||(H=64)),r.push(a[w],a[B],a[H],a[K])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(id(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):J_(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<l.length;){const f=a[l.charAt(c++)],y=c<l.length?a[l.charAt(c)]:0;++c;const T=c<l.length?a[l.charAt(c)]:64;++c;const B=c<l.length?a[l.charAt(c)]:64;if(++c,f==null||y==null||T==null||B==null)throw new $_;const H=f<<2|y>>4;if(r.push(H),T!==64){const K=y<<4&240|T>>2;if(r.push(K),B!==64){const J=T<<6&192|B;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class $_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W_=function(l){const n=id(l);return ad.encodeByteArray(n,!0)},Bl=function(l){return W_(l).replace(/\./g,"")},tv=function(l){try{return ad.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=()=>ev().__FIREBASE_DEFAULTS__,iv=()=>{if(typeof process>"u"||typeof nd>"u")return;const l=nd.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},av=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&tv(l[1]);return n&&JSON.parse(n)},Qo=()=>{try{return Z_()||nv()||iv()||av()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},sv=l=>{var n,a;return(a=(n=Qo())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[l]},rv=l=>{const n=sv(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},sd=()=>{var l;return(l=Qo())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[Bl(JSON.stringify(a)),Bl(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cv(){var l;const n=(l=Qo())===null||l===void 0?void 0:l.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hv(){return!cv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fv(){try{return typeof indexedDB=="object"}catch{return!1}}function dv(){return new Promise((l,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(r),l(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{var f;n(((f=c.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="FirebaseError";class $a extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=mv,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},c=`${this.service}/${n}`,f=this.errors[n],m=f?gv(f,r):"Error",y=`${this.serviceName}: ${m} (${c}).`;return new $a(c,y,r)}}function gv(l,n){return l.replace(pv,(a,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const pv=/\{\$([^}]+)}/g;function ql(l,n){if(l===n)return!0;const a=Object.keys(l),r=Object.keys(n);for(const c of a){if(!r.includes(c))return!1;const f=l[c],m=n[c];if(ld(f)&&ld(m)){if(!ql(f,m))return!1}else if(f!==m)return!1}for(const c of r)if(!a.includes(c))return!1;return!0}function ld(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(l){return l&&l._delegate?l._delegate:l}class fr{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new lv;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),c=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(f){if(c)return null;throw f}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Ev(n))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:c});r.resolve(f)}catch{}}}}clearInstance(n=oa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=oa){return this.instances.has(n)}getOptions(n=oa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[f,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);r===y&&m.resolve(c)}return c}onInit(n,a){var r;const c=this.normalizeInstanceIdentifier(a),f=(r=this.onInitCallbacks.get(c))!==null&&r!==void 0?r:new Set;f.add(n),this.onInitCallbacks.set(c,f);const m=this.instances.get(c);return m&&n(m,c),()=>{f.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const c of r)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vv(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=oa){return this.component?this.component.multipleInstances?n:oa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vv(l){return l===oa?void 0:l}function Ev(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new _v(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(yt||(yt={}));const Av={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},Sv=yt.INFO,bv={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},Rv=(l,n,...a)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),c=bv[n];if(c)console[c](`[${r}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class ud{constructor(n){this.name=n,this._logLevel=Sv,this._logHandler=Rv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in yt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Av[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...n),this._logHandler(this,yt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...n),this._logHandler(this,yt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...n),this._logHandler(this,yt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...n),this._logHandler(this,yt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...n),this._logHandler(this,yt.ERROR,...n)}}const wv=(l,n)=>n.some(a=>l instanceof a);let od,cd;function Dv(){return od||(od=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cv(){return cd||(cd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hd=new WeakMap,Ko=new WeakMap,fd=new WeakMap,Yo=new WeakMap,Xo=new WeakMap;function Vv(l){const n=new Promise((a,r)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",m)},f=()=>{a(Ai(l.result)),c()},m=()=>{r(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&hd.set(a,l)}).catch(()=>{}),Xo.set(n,l),n}function Nv(l){if(Ko.has(l))return;const n=new Promise((a,r)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",m),l.removeEventListener("abort",m)},f=()=>{a(),c()},m=()=>{r(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",m),l.addEventListener("abort",m)});Ko.set(l,n)}let Fo={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return Ko.get(l);if(n==="objectStoreNames")return l.objectStoreNames||fd.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ai(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function Mv(l){Fo=l(Fo)}function Ov(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=l.call(Zo(this),n,...a);return fd.set(r,n.sort?n.sort():[n]),Ai(r)}:Cv().includes(l)?function(...n){return l.apply(Zo(this),n),Ai(hd.get(this))}:function(...n){return Ai(l.apply(Zo(this),n))}}function Iv(l){return typeof l=="function"?Ov(l):(l instanceof IDBTransaction&&Nv(l),wv(l,Dv())?new Proxy(l,Fo):l)}function Ai(l){if(l instanceof IDBRequest)return Vv(l);if(Yo.has(l))return Yo.get(l);const n=Iv(l);return n!==l&&(Yo.set(l,n),Xo.set(n,l)),n}const Zo=l=>Xo.get(l);function xv(l,n,{blocked:a,upgrade:r,blocking:c,terminated:f}={}){const m=indexedDB.open(l,n),y=Ai(m);return r&&m.addEventListener("upgradeneeded",E=>{r(Ai(m.result),E.oldVersion,E.newVersion,Ai(m.transaction),E)}),a&&m.addEventListener("blocked",E=>a(E.oldVersion,E.newVersion,E)),y.then(E=>{f&&E.addEventListener("close",()=>f()),c&&E.addEventListener("versionchange",T=>c(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const Uv=["get","getKey","getAll","getAllKeys","count"],zv=["put","add","delete","clear"],Jo=new Map;function dd(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Jo.get(n))return Jo.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,c=zv.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(c||Uv.includes(a)))return;const f=async function(m,...y){const E=this.transaction(m,c?"readwrite":"readonly");let T=E.store;return r&&(T=T.index(y.shift())),(await Promise.all([T[a](...y),c&&E.done]))[0]};return Jo.set(n,f),f}Mv(l=>({...l,get:(n,a,r)=>dd(n,a)||l.get(n,a,r),has:(n,a)=>!!dd(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Bv(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function Bv(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const $o="@firebase/app",md="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new ud("@firebase/app"),qv="@firebase/app-compat",Hv="@firebase/analytics-compat",Pv="@firebase/analytics",kv="@firebase/app-check-compat",jv="@firebase/app-check",Gv="@firebase/auth",Qv="@firebase/auth-compat",Kv="@firebase/database",Yv="@firebase/data-connect",Xv="@firebase/database-compat",Fv="@firebase/functions",Zv="@firebase/functions-compat",Jv="@firebase/installations",$v="@firebase/installations-compat",Wv="@firebase/messaging",t0="@firebase/messaging-compat",e0="@firebase/performance",n0="@firebase/performance-compat",i0="@firebase/remote-config",a0="@firebase/remote-config-compat",s0="@firebase/storage",r0="@firebase/storage-compat",l0="@firebase/firestore",u0="@firebase/vertexai",o0="@firebase/firestore-compat",c0="firebase",h0="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]",f0={[$o]:"fire-core",[qv]:"fire-core-compat",[Pv]:"fire-analytics",[Hv]:"fire-analytics-compat",[jv]:"fire-app-check",[kv]:"fire-app-check-compat",[Gv]:"fire-auth",[Qv]:"fire-auth-compat",[Kv]:"fire-rtdb",[Yv]:"fire-data-connect",[Xv]:"fire-rtdb-compat",[Fv]:"fire-fn",[Zv]:"fire-fn-compat",[Jv]:"fire-iid",[$v]:"fire-iid-compat",[Wv]:"fire-fcm",[t0]:"fire-fcm-compat",[e0]:"fire-perf",[n0]:"fire-perf-compat",[i0]:"fire-rc",[a0]:"fire-rc-compat",[s0]:"fire-gcs",[r0]:"fire-gcs-compat",[l0]:"fire-fst",[o0]:"fire-fst-compat",[u0]:"fire-vertex","fire-js":"fire-js",[c0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Map,d0=new Map,tc=new Map;function gd(l,n){try{l.container.addComponent(n)}catch(a){Kn.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function Pl(l){const n=l.name;if(tc.has(n))return Kn.debug(`There were multiple attempts to register component ${n}.`),!1;tc.set(n,l);for(const a of Hl.values())gd(a,l);for(const a of d0.values())gd(a,l);return!0}function m0(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function g0(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new rd("app","Firebase",p0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(n,a,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=h0;function pd(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const r=Object.assign({name:Wo,automaticDataCollectionEnabled:!1},n),c=r.name;if(typeof c!="string"||!c)throw Si.create("bad-app-name",{appName:String(c)});if(a||(a=sd()),!a)throw Si.create("no-options");const f=Hl.get(c);if(f){if(ql(a,f.options)&&ql(r,f.config))return f;throw Si.create("duplicate-app",{appName:c})}const m=new Tv(c);for(const E of tc.values())m.addComponent(E);const y=new y0(a,r,m);return Hl.set(c,y),y}function v0(l=Wo){const n=Hl.get(l);if(!n&&l===Wo&&sd())return pd();if(!n)throw Si.create("no-app",{appName:l});return n}function Wa(l,n,a){var r;let c=(r=f0[l])!==null&&r!==void 0?r:l;a&&(c+=`-${a}`);const f=c.match(/\s|\//),m=n.match(/\s|\//);if(f||m){const y=[`Unable to register library "${c}" with version "${n}":`];f&&y.push(`library name "${c}" contains illegal characters (whitespace or "/")`),f&&m&&y.push("and"),m&&y.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Kn.warn(y.join(" "));return}Pl(new fr(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebase-heartbeat-database",T0=1,dr="firebase-heartbeat-store";let ec=null;function yd(){return ec||(ec=xv(E0,T0,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(dr)}catch(a){console.warn(a)}}}}).catch(l=>{throw Si.create("idb-open",{originalErrorMessage:l.message})})),ec}async function A0(l){try{const a=(await yd()).transaction(dr),r=await a.objectStore(dr).get(vd(l));return await a.done,r}catch(n){if(n instanceof $a)Kn.warn(n.message);else{const a=Si.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(a.message)}}}async function _d(l,n){try{const r=(await yd()).transaction(dr,"readwrite");await r.objectStore(dr).put(n,vd(l)),await r.done}catch(a){if(a instanceof $a)Kn.warn(a.message);else{const r=Si.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Kn.warn(r.message)}}}function vd(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=1024,b0=30;class R0{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new D0(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Ed();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(m=>m.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>b0){const m=C0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Ed(),{heartbeatsToSend:r,unsentEntries:c}=w0(this._heartbeatsCache.heartbeats),f=Bl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return Kn.warn(a),""}}}function Ed(){return new Date().toISOString().substring(0,10)}function w0(l,n=S0){const a=[];let r=l.slice();for(const c of l){const f=a.find(m=>m.agent===c.agent);if(f){if(f.dates.push(c.date),Td(a)>n){f.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),Td(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class D0{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fv()?dv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await A0(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const c=await this.read();return _d(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const c=await this.read();return _d(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Td(l){return Bl(JSON.stringify({version:2,heartbeats:l})).length}function C0(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let r=1;r<l.length;r++)l[r].date<a&&(a=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(l){Pl(new fr("platform-logger",n=>new Lv(n),"PRIVATE")),Pl(new fr("heartbeat",n=>new R0(n),"PRIVATE")),Wa($o,md,l),Wa($o,md,"esm2017"),Wa("fire-js","")}V0("");var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,Sd;(function(){var l;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function n(V,A){function R(){}R.prototype=A.prototype,V.D=A.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(C,N,O){for(var b=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)b[Be-2]=arguments[Be];return A.prototype[N].apply(C,b)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(r,a),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(V,A,R){R||(R=0);var C=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)C[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;16>N;++N)C[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=V.g[0],R=V.g[1],N=V.g[2];var O=V.g[3],b=A+(O^R&(N^O))+C[0]+3614090360&4294967295;A=R+(b<<7&4294967295|b>>>25),b=O+(N^A&(R^N))+C[1]+3905402710&4294967295,O=A+(b<<12&4294967295|b>>>20),b=N+(R^O&(A^R))+C[2]+606105819&4294967295,N=O+(b<<17&4294967295|b>>>15),b=R+(A^N&(O^A))+C[3]+3250441966&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(O^R&(N^O))+C[4]+4118548399&4294967295,A=R+(b<<7&4294967295|b>>>25),b=O+(N^A&(R^N))+C[5]+1200080426&4294967295,O=A+(b<<12&4294967295|b>>>20),b=N+(R^O&(A^R))+C[6]+2821735955&4294967295,N=O+(b<<17&4294967295|b>>>15),b=R+(A^N&(O^A))+C[7]+4249261313&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(O^R&(N^O))+C[8]+1770035416&4294967295,A=R+(b<<7&4294967295|b>>>25),b=O+(N^A&(R^N))+C[9]+2336552879&4294967295,O=A+(b<<12&4294967295|b>>>20),b=N+(R^O&(A^R))+C[10]+4294925233&4294967295,N=O+(b<<17&4294967295|b>>>15),b=R+(A^N&(O^A))+C[11]+2304563134&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(O^R&(N^O))+C[12]+1804603682&4294967295,A=R+(b<<7&4294967295|b>>>25),b=O+(N^A&(R^N))+C[13]+4254626195&4294967295,O=A+(b<<12&4294967295|b>>>20),b=N+(R^O&(A^R))+C[14]+2792965006&4294967295,N=O+(b<<17&4294967295|b>>>15),b=R+(A^N&(O^A))+C[15]+1236535329&4294967295,R=N+(b<<22&4294967295|b>>>10),b=A+(N^O&(R^N))+C[1]+4129170786&4294967295,A=R+(b<<5&4294967295|b>>>27),b=O+(R^N&(A^R))+C[6]+3225465664&4294967295,O=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(O^A))+C[11]+643717713&4294967295,N=O+(b<<14&4294967295|b>>>18),b=R+(O^A&(N^O))+C[0]+3921069994&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(N^O&(R^N))+C[5]+3593408605&4294967295,A=R+(b<<5&4294967295|b>>>27),b=O+(R^N&(A^R))+C[10]+38016083&4294967295,O=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(O^A))+C[15]+3634488961&4294967295,N=O+(b<<14&4294967295|b>>>18),b=R+(O^A&(N^O))+C[4]+3889429448&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(N^O&(R^N))+C[9]+568446438&4294967295,A=R+(b<<5&4294967295|b>>>27),b=O+(R^N&(A^R))+C[14]+3275163606&4294967295,O=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(O^A))+C[3]+4107603335&4294967295,N=O+(b<<14&4294967295|b>>>18),b=R+(O^A&(N^O))+C[8]+1163531501&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(N^O&(R^N))+C[13]+2850285829&4294967295,A=R+(b<<5&4294967295|b>>>27),b=O+(R^N&(A^R))+C[2]+4243563512&4294967295,O=A+(b<<9&4294967295|b>>>23),b=N+(A^R&(O^A))+C[7]+1735328473&4294967295,N=O+(b<<14&4294967295|b>>>18),b=R+(O^A&(N^O))+C[12]+2368359562&4294967295,R=N+(b<<20&4294967295|b>>>12),b=A+(R^N^O)+C[5]+4294588738&4294967295,A=R+(b<<4&4294967295|b>>>28),b=O+(A^R^N)+C[8]+2272392833&4294967295,O=A+(b<<11&4294967295|b>>>21),b=N+(O^A^R)+C[11]+1839030562&4294967295,N=O+(b<<16&4294967295|b>>>16),b=R+(N^O^A)+C[14]+4259657740&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(R^N^O)+C[1]+2763975236&4294967295,A=R+(b<<4&4294967295|b>>>28),b=O+(A^R^N)+C[4]+1272893353&4294967295,O=A+(b<<11&4294967295|b>>>21),b=N+(O^A^R)+C[7]+4139469664&4294967295,N=O+(b<<16&4294967295|b>>>16),b=R+(N^O^A)+C[10]+3200236656&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(R^N^O)+C[13]+681279174&4294967295,A=R+(b<<4&4294967295|b>>>28),b=O+(A^R^N)+C[0]+3936430074&4294967295,O=A+(b<<11&4294967295|b>>>21),b=N+(O^A^R)+C[3]+3572445317&4294967295,N=O+(b<<16&4294967295|b>>>16),b=R+(N^O^A)+C[6]+76029189&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(R^N^O)+C[9]+3654602809&4294967295,A=R+(b<<4&4294967295|b>>>28),b=O+(A^R^N)+C[12]+3873151461&4294967295,O=A+(b<<11&4294967295|b>>>21),b=N+(O^A^R)+C[15]+530742520&4294967295,N=O+(b<<16&4294967295|b>>>16),b=R+(N^O^A)+C[2]+3299628645&4294967295,R=N+(b<<23&4294967295|b>>>9),b=A+(N^(R|~O))+C[0]+4096336452&4294967295,A=R+(b<<6&4294967295|b>>>26),b=O+(R^(A|~N))+C[7]+1126891415&4294967295,O=A+(b<<10&4294967295|b>>>22),b=N+(A^(O|~R))+C[14]+2878612391&4294967295,N=O+(b<<15&4294967295|b>>>17),b=R+(O^(N|~A))+C[5]+4237533241&4294967295,R=N+(b<<21&4294967295|b>>>11),b=A+(N^(R|~O))+C[12]+1700485571&4294967295,A=R+(b<<6&4294967295|b>>>26),b=O+(R^(A|~N))+C[3]+2399980690&4294967295,O=A+(b<<10&4294967295|b>>>22),b=N+(A^(O|~R))+C[10]+4293915773&4294967295,N=O+(b<<15&4294967295|b>>>17),b=R+(O^(N|~A))+C[1]+2240044497&4294967295,R=N+(b<<21&4294967295|b>>>11),b=A+(N^(R|~O))+C[8]+1873313359&4294967295,A=R+(b<<6&4294967295|b>>>26),b=O+(R^(A|~N))+C[15]+4264355552&4294967295,O=A+(b<<10&4294967295|b>>>22),b=N+(A^(O|~R))+C[6]+2734768916&4294967295,N=O+(b<<15&4294967295|b>>>17),b=R+(O^(N|~A))+C[13]+1309151649&4294967295,R=N+(b<<21&4294967295|b>>>11),b=A+(N^(R|~O))+C[4]+4149444226&4294967295,A=R+(b<<6&4294967295|b>>>26),b=O+(R^(A|~N))+C[11]+3174756917&4294967295,O=A+(b<<10&4294967295|b>>>22),b=N+(A^(O|~R))+C[2]+718787259&4294967295,N=O+(b<<15&4294967295|b>>>17),b=R+(O^(N|~A))+C[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+O&4294967295}r.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var R=A-this.blockSize,C=this.B,N=this.h,O=0;O<A;){if(N==0)for(;O<=R;)c(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<A;)if(C[N++]=V.charCodeAt(O++),N==this.blockSize){c(this,C),N=0;break}}else for(;O<A;)if(C[N++]=V[O++],N==this.blockSize){c(this,C),N=0;break}}this.h=N,this.o+=A},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var R=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=R&255,R/=256;for(this.u(V),V=Array(16),A=R=0;4>A;++A)for(var C=0;32>C;C+=8)V[R++]=this.g[A]>>>C&255;return V};function f(V,A){var R=y;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=A(V)}function m(V,A){this.h=A;for(var R=[],C=!0,N=V.length-1;0<=N;N--){var O=V[N]|0;C&&O==A||(R[N]=O,C=!1)}this.g=R}var y={};function E(V){return-128<=V&&128>V?f(V,function(A){return new m([A|0],0>A?-1:0)}):new m([V|0],0>V?-1:0)}function T(V){if(isNaN(V)||!isFinite(V))return B;if(0>V)return W(T(-V));for(var A=[],R=1,C=0;V>=R;C++)A[C]=V/R|0,R*=4294967296;return new m(A,0)}function w(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return W(w(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=T(Math.pow(A,8)),C=B,N=0;N<V.length;N+=8){var O=Math.min(8,V.length-N),b=parseInt(V.substring(N,N+O),A);8>O?(O=T(Math.pow(A,O)),C=C.j(O).add(T(b))):(C=C.j(R),C=C.add(T(b)))}return C}var B=E(0),H=E(1),K=E(16777216);l=m.prototype,l.m=function(){if(nt(this))return-W(this).m();for(var V=0,A=1,R=0;R<this.g.length;R++){var C=this.i(R);V+=(0<=C?C:4294967296+C)*A,A*=4294967296}return V},l.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(J(this))return"0";if(nt(this))return"-"+W(this).toString(V);for(var A=T(Math.pow(V,6)),R=this,C="";;){var N=qt(R,A).g;R=kt(R,N.j(A));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=N,J(R))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},l.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function J(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function nt(V){return V.h==-1}l.l=function(V){return V=kt(this,V),nt(V)?-1:J(V)?0:1};function W(V){for(var A=V.g.length,R=[],C=0;C<A;C++)R[C]=~V.g[C];return new m(R,~V.h).add(H)}l.abs=function(){return nt(this)?W(this):this},l.add=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],C=0,N=0;N<=A;N++){var O=C+(this.i(N)&65535)+(V.i(N)&65535),b=(O>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);C=b>>>16,O&=65535,b&=65535,R[N]=b<<16|O}return new m(R,R[R.length-1]&-2147483648?-1:0)};function kt(V,A){return V.add(W(A))}l.j=function(V){if(J(this)||J(V))return B;if(nt(this))return nt(V)?W(this).j(W(V)):W(W(this).j(V));if(nt(V))return W(this.j(W(V)));if(0>this.l(K)&&0>V.l(K))return T(this.m()*V.m());for(var A=this.g.length+V.g.length,R=[],C=0;C<2*A;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<V.g.length;N++){var O=this.i(C)>>>16,b=this.i(C)&65535,Be=V.i(N)>>>16,qe=V.i(N)&65535;R[2*C+2*N]+=b*qe,Ct(R,2*C+2*N),R[2*C+2*N+1]+=O*qe,Ct(R,2*C+2*N+1),R[2*C+2*N+1]+=b*Be,Ct(R,2*C+2*N+1),R[2*C+2*N+2]+=O*Be,Ct(R,2*C+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new m(R,0)};function Ct(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function mt(V,A){this.g=V,this.h=A}function qt(V,A){if(J(A))throw Error("division by zero");if(J(V))return new mt(B,B);if(nt(V))return A=qt(W(V),A),new mt(W(A.g),W(A.h));if(nt(A))return A=qt(V,W(A)),new mt(W(A.g),A.h);if(30<V.g.length){if(nt(V)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=H,C=A;0>=C.l(V);)R=be(R),C=be(C);var N=It(R,1),O=It(C,1);for(C=It(C,2),R=It(R,2);!J(C);){var b=O.add(C);0>=b.l(V)&&(N=N.add(R),O=b),C=It(C,1),R=It(R,1)}return A=kt(V,N.j(A)),new mt(N,A)}for(N=B;0<=V.l(A);){for(R=Math.max(1,Math.floor(V.m()/A.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=T(R),b=O.j(A);nt(b)||0<b.l(V);)R-=C,O=T(R),b=O.j(A);J(O)&&(O=H),N=N.add(O),V=kt(V,b)}return new mt(N,V)}l.A=function(V){return qt(this,V).h},l.and=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],C=0;C<A;C++)R[C]=this.i(C)&V.i(C);return new m(R,this.h&V.h)},l.or=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],C=0;C<A;C++)R[C]=this.i(C)|V.i(C);return new m(R,this.h|V.h)},l.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),R=[],C=0;C<A;C++)R[C]=this.i(C)^V.i(C);return new m(R,this.h^V.h)};function be(V){for(var A=V.g.length+1,R=[],C=0;C<A;C++)R[C]=V.i(C)<<1|V.i(C-1)>>>31;return new m(R,V.h)}function It(V,A){var R=A>>5;A%=32;for(var C=V.g.length-R,N=[],O=0;O<C;O++)N[O]=0<A?V.i(O+R)>>>A|V.i(O+R+1)<<32-A:V.i(O+R);return new m(N,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sd=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=T,m.fromString=w,bi=m}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bd,mr,Rd,jl,nc,wd,Dd,Cd;(function(){var l,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=a(this);function c(u,d){if(d)t:{var g=r;u=u.split(".");for(var v=0;v<u.length-1;v++){var I=u[v];if(!(I in g))break t;g=g[I]}u=u[u.length-1],v=g[u],d=d(v),d!=v&&d!=null&&n(g,u,{configurable:!0,writable:!0,value:d})}}function f(u,d){u instanceof String&&(u+="");var g=0,v=!1,I={next:function(){if(!v&&g<u.length){var q=g++;return{value:d(q,u[q]),done:!1}}return v=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}c("Array.prototype.values",function(u){return u||function(){return f(this,function(d,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var m=m||{},y=this||self;function E(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function T(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function w(u,d,g){return u.call.apply(u.bind,arguments)}function B(u,d,g){if(!u)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,v),u.apply(d,I)}}return function(){return u.apply(d,arguments)}}function H(u,d,g){return H=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:B,H.apply(null,arguments)}function K(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),u.apply(this,v)}}function J(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(v,I,q){for(var Y=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Y[Et-2]=arguments[Et];return d.prototype[I].apply(v,Y)}}function nt(u){const d=u.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=u[v];return g}return[]}function W(u,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(E(v)){const I=u.length||0,q=v.length||0;u.length=I+q;for(let Y=0;Y<q;Y++)u[I+Y]=v[Y]}else u.push(v)}}class kt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Ct(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function qt(u){return qt[" "](u),u}qt[" "]=function(){};var be=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function It(u,d,g){for(const v in u)d.call(g,u[v],v,u)}function V(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function A(u){const d={};for(const g in u)d[g]=u[g];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,d){let g,v;for(let I=1;I<arguments.length;I++){v=arguments[I];for(g in v)u[g]=v[g];for(let q=0;q<R.length;q++)g=R[q],Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}}function N(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function O(u){y.setTimeout(()=>{throw u},0)}function b(){var u=Vt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Be{constructor(){this.h=this.g=null}add(d,g){const v=qe.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var qe=new kt(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let F,et=!1,Vt=new Be,xt=()=>{const u=y.Promise.resolve(void 0);F=()=>{u.then(Re)}};var Re=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(g){O(g)}var d=qe;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}et=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function xe(u,d){if(ut.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,v=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(be){t:{try{qt(d.nodeName);var I=!0;break t}catch{}I=!1}I||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Vn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}J(xe,ut);var Vn={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fn="closure_listenable_"+(1e6*Math.random()|0),ps=0;function Ii(u,d,g,v,I){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=I,this.key=++ps,this.da=this.fa=!1}function xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zn(u){this.src=u,this.g={},this.h=0}Zn.prototype.add=function(u,d,g,v,I){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var Y=pa(u,d,v,I);return-1<Y?(d=u[Y],g||(d.fa=!1)):(d=new Ii(d,this.src,q,!!v,I),d.fa=g,u.push(d)),d};function ga(u,d){var g=d.type;if(g in u.g){var v=u.g[g],I=Array.prototype.indexOf.call(v,d,void 0),q;(q=0<=I)&&Array.prototype.splice.call(v,I,1),q&&(xi(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function pa(u,d,g,v){for(var I=0;I<u.length;++I){var q=u[I];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==v)return I}return-1}var ya="closure_lm_"+(1e6*Math.random()|0),Nr={};function pu(u,d,g,v,I){if(Array.isArray(d)){for(var q=0;q<d.length;q++)pu(u,d[q],g,v,I);return null}return g=yu(g),u&&u[Fn]?u.K(d,g,T(v)?!!v.capture:!1,I):sn(u,d,g,!1,v,I)}function sn(u,d,g,v,I,q){if(!d)throw Error("Invalid event type");var Y=T(I)?!!I.capture:!!I,Et=_s(u);if(Et||(u[ya]=Et=new Zn(u)),g=Et.add(d,g,v,Y,q),g.proxy)return g;if(v=Fc(),g.proxy=v,v.src=u,v.listener=g,u.addEventListener)ae||(I=Y),I===void 0&&(I=!1),u.addEventListener(d.toString(),v,I);else if(u.attachEvent)u.attachEvent(_a(d.toString()),v);else if(u.addListener&&u.removeListener)u.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Fc(){function u(g){return d.call(u.src,u.listener,g)}const d=Zc;return u}function Mr(u,d,g,v,I){if(Array.isArray(d))for(var q=0;q<d.length;q++)Mr(u,d[q],g,v,I);else v=T(v)?!!v.capture:!!v,g=yu(g),u&&u[Fn]?(u=u.i,d=String(d).toString(),d in u.g&&(q=u.g[d],g=pa(q,g,v,I),-1<g&&(xi(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete u.g[d],u.h--)))):u&&(u=_s(u))&&(d=u.g[d.toString()],u=-1,d&&(u=pa(d,g,v,I)),(g=-1<u?d[u]:null)&&ys(g))}function ys(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Fn])ga(d.i,u);else{var g=u.type,v=u.proxy;d.removeEventListener?d.removeEventListener(g,v,u.capture):d.detachEvent?d.detachEvent(_a(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=_s(d))?(ga(g,u),g.h==0&&(g.src=null,d[ya]=null)):xi(u)}}}function _a(u){return u in Nr?Nr[u]:Nr[u]="on"+u}function Zc(u,d){if(u.da)u=!0;else{d=new xe(d,this);var g=u.listener,v=u.ha||u.src;u.fa&&ys(u),u=g.call(v,d)}return u}function _s(u){return u=u[ya],u instanceof Zn?u:null}var Or="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(u){return typeof u=="function"?u:(u[Or]||(u[Or]=function(d){return u.handleEvent(d)}),u[Or])}function Ft(){bt.call(this),this.i=new Zn(this),this.M=this,this.F=null}J(Ft,bt),Ft.prototype[Fn]=!0,Ft.prototype.removeEventListener=function(u,d,g,v){Mr(this,u,d,g,v)};function Nt(u,d){var g,v=u.F;if(v)for(g=[];v;v=v.F)g.push(v);if(u=u.M,v=d.type||d,typeof d=="string")d=new ut(d,u);else if(d instanceof ut)d.target=d.target||u;else{var I=d;d=new ut(v,u),C(d,I)}if(I=!0,g)for(var q=g.length-1;0<=q;q--){var Y=d.g=g[q];I=Fe(Y,v,!0,d)&&I}if(Y=d.g=u,I=Fe(Y,v,!0,d)&&I,I=Fe(Y,v,!1,d)&&I,g)for(q=0;q<g.length;q++)Y=d.g=g[q],I=Fe(Y,v,!1,d)&&I}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],v=0;v<g.length;v++)xi(g[v]);delete u.g[d],u.h--}}this.F=null},Ft.prototype.K=function(u,d,g,v){return this.i.add(String(u),d,!1,g,v)},Ft.prototype.L=function(u,d,g,v){return this.i.add(String(u),d,!0,g,v)};function Fe(u,d,g,v){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var I=!0,q=0;q<d.length;++q){var Y=d[q];if(Y&&!Y.da&&Y.capture==g){var Et=Y.listener,fe=Y.ha||Y.src;Y.fa&&ga(u.i,Y),I=Et.call(fe,v)!==!1&&I}}return I&&!v.defaultPrevented}function Ue(u,d,g){if(typeof u=="function")g&&(u=H(u,g));else if(u&&typeof u.handleEvent=="function")u=H(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function _u(u){u.g=Ue(()=>{u.g=null,u.i&&(u.i=!1,_u(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class Jc extends bt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(u){bt.call(this),this.h=u,this.g={}}J(va,bt);var Ea=[];function Ta(u){It(u.g,function(d,g){this.g.hasOwnProperty(g)&&ys(d)},u),u.g={}}va.prototype.N=function(){va.aa.N.call(this),Ta(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=y.JSON.stringify,vs=y.JSON.parse,Aa=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Ir(){}Ir.prototype.h=null;function xr(u){return u.h||(u.h=u.i())}function Ur(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){ut.call(this,"d")}J($n,ut);function zr(){ut.call(this,"c")}J(zr,ut);var Nn={},Lr=null;function Ui(){return Lr=Lr||new Ft}Nn.La="serverreachability";function Es(u){ut.call(this,Nn.La,u)}J(Es,ut);function zi(u){const d=Ui();Nt(d,new Es(d))}Nn.STAT_EVENT="statevent";function vu(u,d){ut.call(this,Nn.STAT_EVENT,u),this.stat=d}J(vu,ut);function Gt(u){const d=Ui();Nt(d,new vu(d,u))}Nn.Ma="timingevent";function he(u,d){ut.call(this,Nn.Ma,u),this.size=d}J(he,ut);function se(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function rn(){this.g=!0}rn.prototype.xa=function(){this.g=!1};function Br(u,d,g,v,I,q){u.info(function(){if(u.g)if(q)for(var Y="",Et=q.split("&"),fe=0;fe<Et.length;fe++){var Tt=Et[fe].split("=");if(1<Tt.length){var _e=Tt[0];Tt=Tt[1];var de=_e.split("_");Y=2<=de.length&&de[1]=="type"?Y+(_e+"="+Tt+"&"):Y+(_e+"=redacted&")}}else Y=null;else Y=q;return"XMLHTTP REQ ("+v+") [attempt "+I+"]: "+d+`
`+g+`
`+Y})}function $c(u,d,g,v,I,q,Y){u.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+I+"]: "+d+`
`+g+`
`+q+" "+Y})}function Li(u,d,g,v){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Sa(u,g)+(v?" "+v:"")})}function Eu(u,d){u.info(function(){return"TIMEOUT: "+d})}rn.prototype.info=function(){};function Sa(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var v=g[u];if(!(2>v.length)){var I=v[1];if(Array.isArray(I)&&!(1>I.length)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(var Y=1;Y<I.length;Y++)I[Y]=""}}}}return _n(g)}catch{return d}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function On(){}J(On,Ir),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},Mn=new On;function He(u,d,g,v){this.j=u,this.i=d,this.l=g,this.R=v||1,this.U=new va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var qr={},Ts={};function vn(u,d,g){u.L=1,u.v=Ca(Ze(d)),u.m=g,u.P=!0,ti(u,null)}function ti(u,d){u.F=Date.now(),ba(u),u.A=Ze(u.v);var g=u.A,v=u.R;Array.isArray(v)||(v=[String(v)]),Qr(g.i,"t",v),u.C=0,g=u.j.J,u.h=new te,u.g=zu(u.j,g?d:null,!u.m),0<u.O&&(u.M=new Jc(H(u.Y,u,u.g),u.O)),d=u.U,g=u.g,v=u.ca;var I="readystatechange";Array.isArray(I)||(I&&(Ea[0]=I.toString()),I=Ea);for(var q=0;q<I.length;q++){var Y=pu(g,I[q],v||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),zi(),Br(u.i,u.u,u.A,u.l,u.R,u.m)}He.prototype.ca=function(u){u=u.target;const d=this.M;d&&cn(u)==3?d.j():this.Y(u)},He.prototype.Y=function(u){try{if(u==this.g)t:{const de=cn(this.g);var d=this.g.Ba();const ui=this.g.Z();if(!(3>de)&&(de!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||de!=4||d==7||(d==8||0>=ui?zi(3):zi(2)),qi(this);var g=this.g.Z();this.X=g;e:if(Tu(this)){var v=Cu(this.g);u="";var I=v.length,q=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){we(this),In(this);var Y="";break e}this.h.i=new y.TextDecoder}for(d=0;d<I;d++)this.h.h=!0,u+=this.h.i.decode(v[d],{stream:!(q&&d==I-1)});v.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,$c(this.i,this.u,this.A,this.l,this.R,de,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Et,fe=this.g;if((Et=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(Et)){var Tt=Et;break e}}Tt=null}if(g=Tt)Li(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ra(this,g);else{this.o=!1,this.s=3,Gt(12),we(this),In(this);break t}}if(this.P){g=!0;let De;for(;!this.J&&this.C<Y.length;)if(De=Au(this,Y),De==Ts){de==4&&(this.s=4,Gt(14),g=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(De==qr){this.s=4,Gt(15),Li(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else Li(this.i,this.l,De,null),Ra(this,De);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||Y.length!=0||this.h.h||(this.s=1,Gt(16),g=!1),this.o=this.o&&g,!g)Li(this.i,this.l,Y,"[Invalid Chunked Response]"),we(this),In(this);else if(0<Y.length&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.ba&&!_e.M&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),za(_e),_e.M=!0,Gt(11))}}else Li(this.i,this.l,Y,null),Ra(this,Y);de==4&&we(this),this.o&&!this.J&&(de==4?Iu(this.j,this):(this.o=!1,ba(this)))}else ih(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),we(this),In(this)}}}catch{}finally{}};function Tu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Au(u,d){var g=u.C,v=d.indexOf(`
`,g);return v==-1?Ts:(g=Number(d.substring(g,v)),isNaN(g)?qr:(v+=1,v+g>d.length?Ts:(d=d.slice(v,v+g),u.C=v+g,d)))}He.prototype.cancel=function(){this.J=!0,we(this)};function ba(u){u.S=Date.now()+u.I,Su(u,u.I)}function Su(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=se(H(u.ba,u),d)}function qi(u){u.B&&(y.clearTimeout(u.B),u.B=null)}He.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Eu(this.i,this.A),this.L!=2&&(zi(),Gt(17)),we(this),this.s=2,In(this)):Su(this,this.S-u)};function In(u){u.j.G==0||u.J||Iu(u.j,u)}function we(u){qi(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Ta(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Ra(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Hr(g.h,u))){if(!u.K&&Hr(g.h,u)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var I=v;if(I[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Is(g),Ms(g);else break t;Zr(g),Gt(18)}}else g.za=I[1],0<g.za-g.T&&37500>I[2]&&g.F&&g.v==0&&!g.C&&(g.C=se(H(g.Za,g),6e3));if(1>=Ss(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else li(g,11)}else if((u.K||g.g==u)&&Is(g),!Ct(d))for(I=g.Da.g.parse(d),d=0;d<I.length;d++){let Tt=I[d];if(g.T=Tt[0],Tt=Tt[1],g.G==2)if(Tt[0]=="c"){g.K=Tt[1],g.ia=Tt[2];const _e=Tt[3];_e!=null&&(g.la=_e,g.j.info("VER="+g.la));const de=Tt[4];de!=null&&(g.Aa=de,g.j.info("SVER="+g.Aa));const ui=Tt[5];ui!=null&&typeof ui=="number"&&0<ui&&(v=1.5*ui,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const De=u.g;if(De){const Hn=De.g?De.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var q=v.h;q.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bs(q,q.h),q.h=null))}if(v.D){const $r=De.g?De.g.getResponseHeader("X-HTTP-Session-Id"):null;$r&&(v.ya=$r,Ut(v.I,v.D,$r))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Y=u;if(v.qa=Uu(v,v.J?v.ia:null,v.W),Y.K){Pe(v.h,Y);var Et=Y,fe=v.L;fe&&(Et.I=fe),Et.B&&(qi(Et),ba(Et)),v.g=Y}else Mu(v);0<g.i.length&&Os(g)}else Tt[0]!="stop"&&Tt[0]!="close"||li(g,7);else g.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?li(g,7):Xr(g):Tt[0]!="noop"&&g.l&&g.l.ta(Tt),g.v=0)}}zi(4)}catch{}}var bu=class{constructor(u,d){this.g=u,this.map=d}};function ei(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ss(u){return u.h?1:u.g?u.g.size:0}function Hr(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function bs(u,d){u.g?u.g.add(d):u.h=d}function Pe(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}ei.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pr(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return nt(u.i)}function Wc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(E(u)){for(var d=[],g=u.length,v=0;v<g;v++)d.push(u[v]);return d}d=[],g=0;for(v in u)d[g++]=u[v];return d}function Rs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(E(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const v in u)d[g++]=v;return d}}}function kr(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(E(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=Rs(u),v=Wc(u),I=v.length,q=0;q<I;q++)d.call(void 0,v[q],g&&g[q],u)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var v=u[g].indexOf("="),I=null;if(0<=v){var q=u[g].substring(0,v);I=u[g].substring(v+1)}else q=u[g];d(q,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function re(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof re){this.h=u.h,Da(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var d=u.i,g=new ii;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),ni(this,g),this.m=u.m}else u&&(d=String(u).match(wa))?(this.h=!1,Da(this,d[1]||"",!0),this.o=ln(d[2]||""),this.g=ln(d[3]||"",!0),Hi(this,d[4]),this.l=ln(d[5]||"",!0),ni(this,d[6]||"",!0),this.m=ln(d[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}re.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Va(d,jr,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Va(d,jr,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Va(g,g.charAt(0)=="/"?eh:Gr,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Va(g,ws)),u.join("")};function Ze(u){return new re(u)}function Da(u,d,g){u.j=g?ln(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ni(u,d,g){d instanceof ii?(u.i=d,wu(u.i,u.h)):(g||(d=Va(d,nh)),u.i=new ii(d,u.h))}function Ut(u,d,g){u.i.set(d,g)}function Ca(u){return Ut(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ln(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Va(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,Ru),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var jr=/[#\/\?@]/g,Gr=/[#\?:]/g,eh=/[#\?]/g,nh=/[#\?@]/g,ws=/#/g;function ii(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&th(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}l=ii.prototype,l.add=function(u,d){un(this),this.i=null,u=xn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function ai(u,d){un(u),d=xn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function si(u,d){return un(u),d=xn(u,d),u.g.has(d)}l.forEach=function(u,d){un(this),this.g.forEach(function(g,v){g.forEach(function(I){u.call(d,I,v,this)},this)},this)},l.na=function(){un(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const I=u[v];for(let q=0;q<I.length;q++)g.push(d[v])}return g},l.V=function(u){un(this);let d=[];if(typeof u=="string")si(this,u)&&(d=d.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},l.set=function(u,d){return un(this),this.i=null,u=xn(this,u),si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},l.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Qr(u,d,g){ai(u,d),0<g.length&&(u.i=null,u.g.set(xn(u,d),nt(g)),u.h+=g.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const q=encodeURIComponent(String(v)),Y=this.V(v);for(v=0;v<Y.length;v++){var I=q;Y[v]!==""&&(I+="="+encodeURIComponent(String(Y[v]))),u.push(I)}}return this.i=u.join("&")};function xn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function wu(u,d){d&&!u.j&&(un(u),u.i=null,u.g.forEach(function(g,v){var I=v.toLowerCase();v!=I&&(ai(this,v),Qr(this,I,g))},u)),u.j=d}function Na(u,d){const g=new rn;if(y.Image){const v=new Image;v.onload=K(on,g,"TestLoadImage: loaded",!0,d,v),v.onerror=K(on,g,"TestLoadImage: error",!1,d,v),v.onabort=K(on,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=K(on,g,"TestLoadImage: timeout",!1,d,v),y.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=u}else d(!1)}function En(u,d){const g=new rn,v=new AbortController,I=setTimeout(()=>{v.abort(),on(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:v.signal}).then(q=>{clearTimeout(I),q.ok?on(g,"TestPingServer: ok",!0,d):on(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(I),on(g,"TestPingServer: error",!1,d)})}function on(u,d,g,v,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),v(g)}catch{}}function Ma(){this.g=new Aa}function Un(u,d,g){const v=g||"";try{kr(u,function(I,q){let Y=I;T(I)&&(Y=_n(I)),d.push(v+q+"="+encodeURIComponent(Y))})}catch(I){throw d.push(v+"type="+encodeURIComponent("_badmap")),I}}function Pi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Pi,Ir),Pi.prototype.g=function(){return new ri(this.l,this.j)},Pi.prototype.i=function(u){return function(){return u}}({});function ri(u,d){Ft.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ri,Ft),l=ri.prototype,l.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Ln(this)},l.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},l.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kr(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kr(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}l.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?zn(this):Ln(this),this.readyState==3&&Kr(this)}},l.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},l.Qa=function(u){this.g&&(this.response=u,zn(this))},l.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ln(u)}l.setRequestHeader=function(u,d){this.u.append(u,d)},l.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yr(u){let d="";return It(u,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function ye(u,d,g){t:{for(v in g){var v=!1;break t}v=!0}v||(g=Yr(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ut(u,d,g))}function Dt(u){Ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Dt,Ft);var Ds=/^https?$/i,Oa=["POST","PUT"];l=Dt.prototype,l.Ha=function(u){this.J=u},l.ea=function(u,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?xr(this.o):xr(Mn),this.g.onreadystatechange=H(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(q){Du(this,q);return}if(u=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var I in v)g.set(I,v[I]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const q of v.keys())g.set(q,v.get(q));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),I=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Oa,d,void 0))||v||I||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Y]of g)this.g.setRequestHeader(q,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Du(this,q)}};function Du(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Cs(u),Bn(u)}function Cs(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}l.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Nt(this,"complete"),Nt(this,"abort"),Bn(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),Dt.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},l.bb=function(){Vs(this)};function Vs(u){if(u.h&&typeof m<"u"&&(!u.v[1]||cn(u)!=4||u.Z()!=2)){if(u.u&&cn(u)==4)Ue(u.Ea,0,u);else if(Nt(u,"readystatechange"),cn(u)==4){u.h=!1;try{const Y=u.Z();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var v;if(v=Y===0){var I=String(u.D).match(wa)[1]||null;!I&&y.self&&y.self.location&&(I=y.self.location.protocol.slice(0,-1)),v=!Ds.test(I?I.toLowerCase():"")}g=v}if(g)Nt(u,"complete"),Nt(u,"success");else{u.m=6;try{var q=2<cn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Cs(u)}}finally{Bn(u)}}}}function Bn(u,d){if(u.g){Ia(u);const g=u.g,v=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Nt(u,"ready");try{g.onreadystatechange=v}catch{}}}function Ia(u){u.I&&(y.clearTimeout(u.I),u.I=null)}l.isActive=function(){return!!this.g};function cn(u){return u.g?u.g.readyState:0}l.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),vs(d)}};function Cu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ih(u){const d={};u=(u.g&&2<=cn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<u.length;v++){if(Ct(u[v]))continue;var g=N(u[v]);const I=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[I]||[];d[I]=q,q.push(g)}V(d,function(v){return v.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Ns(u){this.Aa=0,this.i=[],this.j=new rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,u),this.cb=xa("retryDelaySeedMs",1e4,u),this.Wa=xa("forwardChannelMaxRetries",2,u),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(u&&u.concurrentRequestLimit),this.Da=new Ma,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=Ns.prototype,l.la=8,l.G=1,l.connect=function(u,d,g,v){Gt(0),this.W=u,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Uu(this,null,this.W),Os(this)};function Xr(u){if(Vu(u),u.G==3){var d=u.U++,g=Ze(u.I);if(Ut(g,"SID",u.K),Ut(g,"RID",d),Ut(g,"TYPE","terminate"),Ua(u,g),d=new He(u,u.j,d),d.L=2,d.v=Ca(Ze(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=zu(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ba(d)}xu(u)}function Ms(u){u.g&&(za(u),u.g.cancel(),u.g=null)}function Vu(u){Ms(u),u.u&&(y.clearTimeout(u.u),u.u=null),Is(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function Os(u){if(!As(u.h)&&!u.s){u.s=!0;var d=u.Ga;F||xt(),et||(F(),et=!0),Vt.add(d,u),u.B=0}}function ah(u,d){return Ss(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=se(H(u.Ga,u,d),Jr(u,u.B)),u.B++,!0)}l.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const I=new He(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(I.H=q,q=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break e}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=Nu(this,I,d),g=Ze(this.I),Ut(g,"RID",u),Ut(g,"CVER",22),this.D&&Ut(g,"X-HTTP-Session-Id",this.D),Ua(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(Yr(q)))+"&"+d:this.m&&ye(g,this.m,q)),bs(this.h,I),this.Ua&&Ut(g,"TYPE","init"),this.P?(Ut(g,"$req",d),Ut(g,"SID","null"),I.T=!0,vn(I,g,null)):vn(I,g,d),this.G=2}}else this.G==3&&(u?Fr(this,u):this.i.length==0||As(this.h)||Fr(this))};function Fr(u,d){var g;d?g=d.l:g=u.U++;const v=Ze(u.I);Ut(v,"SID",u.K),Ut(v,"RID",g),Ut(v,"AID",u.T),Ua(u,v),u.m&&u.o&&ye(v,u.m,u.o),g=new He(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Nu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bs(u.h,g),vn(g,v,d)}function Ua(u,d){u.H&&It(u.H,function(g,v){Ut(d,v,g)}),u.l&&kr({},function(g,v){Ut(d,v,g)})}function Nu(u,d,g){g=Math.min(u.i.length,g);var v=u.l?H(u.l.Na,u.l,u):null;t:{var I=u.i;let q=-1;for(;;){const Y=["count="+g];q==-1?0<g?(q=I[0].g,Y.push("ofs="+q)):q=0:Y.push("ofs="+q);let Et=!0;for(let fe=0;fe<g;fe++){let Tt=I[fe].g;const _e=I[fe].map;if(Tt-=q,0>Tt)q=Math.max(0,I[fe].g-100),Et=!1;else try{Un(_e,Y,"req"+Tt+"_")}catch{v&&v(_e)}}if(Et){v=Y.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,v}function Mu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;F||xt(),et||(F(),et=!0),Vt.add(d,u),u.v=0}}function Zr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=se(H(u.Fa,u),Jr(u,u.v)),u.v++,!0)}l.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=se(H(this.ab,this),u)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Ms(this),Ou(this))};function za(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function Ou(u){u.g=new He(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=Ze(u.qa);Ut(d,"RID","rpc"),Ut(d,"SID",u.K),Ut(d,"AID",u.T),Ut(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ut(d,"TO",u.ja),Ut(d,"TYPE","xmlhttp"),Ua(u,d),u.m&&u.o&&ye(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ca(Ze(d)),g.m=null,g.P=!0,ti(g,u)}l.Za=function(){this.C!=null&&(this.C=null,Ms(this),Zr(this),Gt(19))};function Is(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function Iu(u,d){var g=null;if(u.g==d){Is(u),za(u),u.g=null;var v=2}else if(Hr(u.h,d))g=d.D,Pe(u.h,d),v=1;else return;if(u.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var I=u.B;v=Ui(),Nt(v,new he(v,g)),Os(u)}else Mu(u);else if(I=d.s,I==3||I==0&&0<d.X||!(v==1&&ah(u,d)||v==2&&Zr(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),I){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Jr(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function li(u,d){if(u.j.info("Error code "+d),d==2){var g=H(u.fb,u),v=u.Xa;const I=!v;v=new re(v||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Da(v,"https"),Ca(v),I?Na(v.toString(),g):En(v.toString(),g)}else Gt(2);u.G=0,u.l&&u.l.sa(d),xu(u),Vu(u)}l.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function xu(u){if(u.G=0,u.ka=[],u.l){const d=Pr(u.h);(d.length!=0||u.i.length!=0)&&(W(u.ka,d),W(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Uu(u,d,g){var v=g instanceof re?Ze(g):new re(g);if(v.g!="")d&&(v.g=d+"."+v.g),Hi(v,v.s);else{var I=y.location;v=I.protocol,d=d?d+"."+I.hostname:I.hostname,I=+I.port;var q=new re(null);v&&Da(q,v),d&&(q.g=d),I&&Hi(q,I),g&&(q.l=g),v=q}return g=u.D,d=u.ya,g&&d&&Ut(v,g,d),Ut(v,"VER",u.la),Ua(u,v),v}function zu(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Dt(new Pi({eb:g})):new Dt(u.pa),d.Ha(u.J),d}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}l=Lu.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function xs(){}xs.prototype.g=function(u,d){return new ke(u,d)};function ke(u,d){Ft.call(this),this.g=new Ns(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!Ct(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Ct(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new qn(this)}J(ke,Ft),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){Xr(this.g)},ke.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=_n(u),u=g);d.i.push(new bu(d.Ya++,u)),d.G==3&&Os(d)},ke.prototype.N=function(){this.g.l=null,delete this.j,Xr(this.g),delete this.g,ke.aa.N.call(this)};function Bu(u){$n.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}J(Bu,$n);function qu(){zr.call(this),this.status=1}J(qu,zr);function qn(u){this.g=u}J(qn,Lu),qn.prototype.ua=function(){Nt(this.g,"a")},qn.prototype.ta=function(u){Nt(this.g,new Bu(u))},qn.prototype.sa=function(u){Nt(this.g,new qu)},qn.prototype.ra=function(){Nt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,Cd=function(){return new xs},Dd=function(){return Ui()},wd=Nn,nc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,jl=Bi,Wn.COMPLETE="complete",Rd=Wn,Ur.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,mr=Ur,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,bd=Dt}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});const Vd="@firebase/firestore",Nd="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new ud("@firebase/firestore");function es(){return ca.logLevel}function Z(l,...n){if(ca.logLevel<=yt.DEBUG){const a=n.map(ic);ca.debug(`Firestore (${ts}): ${l}`,...a)}}function Yn(l,...n){if(ca.logLevel<=yt.ERROR){const a=n.map(ic);ca.error(`Firestore (${ts}): ${l}`,...a)}}function ns(l,...n){if(ca.logLevel<=yt.WARN){const a=n.map(ic);ca.warn(`Firestore (${ts}): ${l}`,...a)}}function ic(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(l="Unexpected state"){const n=`FIRESTORE (${ts}) INTERNAL ASSERTION FAILED: `+l;throw Yn(n),new Error(n)}function Kt(l,n){l||ct()}function _t(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends $a{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class N0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(Me.UNAUTHENTICATED))}shutdown(){}}class M0{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class O0{constructor(n){this.t=n,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){Kt(this.o===void 0);let r=this.i;const c=E=>this.i!==r?(r=this.i,a(E)):Promise.resolve();let f=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ha,n.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const E=f;n.enqueueRetryable(async()=>{await E.promise,await c(this.currentUser)})},y=E=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ha)}},0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(r=>this.i!==n?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string"),new Md(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Kt(n===null||typeof n=="string"),new Me(n)}}class I0{constructor(n,a,r){this.l=n,this.h=a,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.T.set("Authorization",n),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class x0{constructor(n,a,r){this.l=n,this.h=a,this.P=r}getToken(){return Promise.resolve(new I0(this.l,this.h,this.P))}start(n,a){n.enqueueRetryable(()=>a(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Od{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U0{constructor(n,a){this.A=a,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,g0(n)&&n.settings.appCheckToken&&(this.V=n.settings.appCheckToken)}start(n,a){Kt(this.o===void 0);const r=f=>{f.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,Z("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>r(f))};const c=f=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?c(f):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Od(this.V));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(Kt(typeof a.token=="string"),this.R=a.token,new Od(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let r=0;r<l;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const c=z0(40);for(let f=0;f<c.length;++f)r.length<20&&c[f]<a&&(r+=n.charAt(c[f]%62))}return r}}function ft(l,n){return l<n?-1:l>n?1:0}function ac(l,n){let a=0;for(;a<l.length&&a<n.length;){const r=l.codePointAt(a),c=n.codePointAt(a);if(r!==c){if(r<128&&c<128)return ft(r,c);{const f=Id(),m=L0(f.encode(Ud(l,a)),f.encode(Ud(n,a)));return m!==0?m:ft(r,c)}}a+=r>65535?2:1}return ft(l.length,n.length)}function Ud(l,n){return l.codePointAt(n)>65535?l.substring(n,n+2):l.substring(n,n+1)}function L0(l,n){for(let a=0;a<l.length&&a<n.length;++a)if(l[a]!==n[a])return ft(l[a],n[a]);return ft(l.length,n.length)}function is(l,n,a){return l.length===n.length&&l.every((r,c)=>a(r,n[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-62135596800,Ld=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(n){return Ge.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),r=Math.floor((n-1e3*a)*Ld);return new Ge(a,r)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<zd)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ld}_compareTo(n){return this.seconds===n.seconds?ft(this.nanoseconds,n.nanoseconds):ft(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const n=this.seconds-zd;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(n){return new ot(n)}static min(){return new ot(new Ge(0,0))}static max(){return new ot(new Ge(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="__name__";class bn{constructor(n,a,r){a===void 0?a=0:a>n.length&&ct(),r===void 0?r=n.length-a:r>n.length-a&&ct(),this.segments=n,this.offset=a,this.len=r}get length(){return this.len}isEqual(n){return bn.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof bn?n.forEach(r=>{a.push(r)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,r=this.limit();a<r;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const r=Math.min(n.length,a.length);for(let c=0;c<r;c++){const f=bn.compareSegments(n.get(c),a.get(c));if(f!==0)return f}return ft(n.length,a.length)}static compareSegments(n,a){const r=bn.isNumericId(n),c=bn.isNumericId(a);return r&&!c?-1:!r&&c?1:r&&c?bn.extractNumericId(n).compare(bn.extractNumericId(a)):ac(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return bi.fromString(n.substring(4,n.length-2))}}class Xt extends bn{construct(n,a,r){return new Xt(n,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const r of n){if(r.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter(c=>c.length>0))}return new Xt(a)}static emptyPath(){return new Xt([])}}const B0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends bn{construct(n,a,r){return new Le(n,a,r)}static isValidIdentifier(n){return B0.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bd}static keyField(){return new Le([Bd])}static fromServerFormat(n){const a=[];let r="",c=0;const f=()=>{if(r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let m=!1;for(;c<n.length;){const y=n[c];if(y==="\\"){if(c+1===n.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const E=n[c+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=E,c+=2}else y==="`"?(m=!m,c++):y!=="."||m?(r+=y,c++):(f(),c++)}if(f(),m)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Le(a)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(n){this.path=n}static fromPath(n){return new st(Xt.fromString(n))}static fromName(n){return new st(Xt.fromString(n).popFirst(5))}static empty(){return new st(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&Xt.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return Xt.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new st(new Xt(n.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=-1;function q0(l,n){const a=l.toTimestamp().seconds,r=l.toTimestamp().nanoseconds+1,c=ot.fromTimestamp(r===1e9?new Ge(a+1,0):new Ge(a,r));return new Ri(c,st.empty(),n)}function H0(l){return new Ri(l.readTime,l.key,gr)}class Ri{constructor(n,a,r){this.readTime=n,this.documentKey=a,this.largestBatchId=r}static min(){return new Ri(ot.min(),st.empty(),gr)}static max(){return new Ri(ot.max(),st.empty(),gr)}}function P0(l,n){let a=l.readTime.compareTo(n.readTime);return a!==0?a:(a=st.comparator(l.documentKey,n.documentKey),a!==0?a:ft(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(l){if(l.code!==X.FAILED_PRECONDITION||l.message!==k0)throw l;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Q((r,c)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(r,c)},this.catchCallback=f=>{this.wrapFailure(a,f).next(r,c)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof Q?a:Q.resolve(a)}catch(a){return Q.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):Q.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):Q.reject(a)}static resolve(n){return new Q((a,r)=>{a(n)})}static reject(n){return new Q((a,r)=>{r(n)})}static waitFor(n){return new Q((a,r)=>{let c=0,f=0,m=!1;n.forEach(y=>{++c,y.next(()=>{++f,m&&f===c&&a()},E=>r(E))}),m=!0,f===c&&a()})}static or(n){let a=Q.resolve(!1);for(const r of n)a=a.next(c=>c?Q.resolve(c):r());return a}static forEach(n,a){const r=[];return n.forEach((c,f)=>{r.push(a.call(this,c,f))}),this.waitFor(r)}static mapArray(n,a){return new Q((r,c)=>{const f=n.length,m=new Array(f);let y=0;for(let E=0;E<f;E++){const T=E;a(n[T]).next(w=>{m[T]=w,++y,y===f&&r(m)},w=>c(w))}})}static doWhile(n,a){return new Q((r,c)=>{const f=()=>{n()===!0?a().next(()=>{f()},c):r()};f()})}}function G0(l){const n=l.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function as(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=r=>this.oe(r),this._e=r=>a.writeSequenceNumber(r))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}Ql.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-1;function Kl(l){return l==null}function sc(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="";function K0(l){let n="";for(let a=0;a<l.length;a++)n.length>0&&(n=Hd(n)),n=Y0(l.get(a),n);return Hd(n)}function Y0(l,n){let a=n;const r=l.length;for(let c=0;c<r;c++){const f=l.charAt(c);switch(f){case"\0":a+="";break;case qd:a+="";break;default:a+=f}}return a}function Hd(l){return l+qd+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function pr(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function X0(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(n,a){this.comparator=n,this.root=a||Ae.EMPTY}insert(n,a){return new $t(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ae.BLACK,null,null))}remove(n){return new $t(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ae.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(n,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(n){let a=0,r=this.root;for(;!r.isEmpty();){const c=this.comparator(n,r.key);if(c===0)return a+r.left.size;c<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,r)=>(n(a,r),!1))}toString(){const n=[];return this.inorderTraversal((a,r)=>(n.push(`${a}:${r}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Yl(this.root,n,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Yl(this.root,n,this.comparator,!0)}}class Yl{constructor(n,a,r,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=a?r(n.key,a):1,a&&c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ae{constructor(n,a,r,c,f){this.key=n,this.value=a,this.color=r??Ae.RED,this.left=c??Ae.EMPTY,this.right=f??Ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,r,c,f){return new Ae(n??this.key,a??this.value,r??this.color,c??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let c=this;const f=r(n,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(n,a,r),null):f===0?c.copy(null,a,null,null,null):c.copy(null,null,null,null,c.right.insert(n,a,r)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ae.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let r,c=this;if(a(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,a),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),a(n,c.key)===0){if(c.right.isEmpty())return Ae.EMPTY;r=c.right.min(),c=c.copy(r.key,r.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,a))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const n=this.left.check();if(n!==this.right.check())throw ct();return n+(this.isRed()?0:1)}}Ae.EMPTY=null,Ae.RED=!0,Ae.BLACK=!1,Ae.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,a,r,c,f){return this}insert(n,a,r){return new Ae(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(n){this.comparator=n,this.data=new $t(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,r)=>(n(a),!1))}forEachInRange(n,a){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const c=r.getNext();if(this.comparator(c.key,n[1])>=0)return;a(c.key)}}forEachWhile(n,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new kd(this.data.getIterator())}getIteratorFrom(n){return new kd(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(r=>{a=a.add(r)}),a}isEqual(n){if(!(n instanceof oe)||this.size!==n.size)return!1;const a=this.data.getIterator(),r=n.data.getIterator();for(;a.hasNext();){const c=a.getNext().key,f=r.getNext().key;if(this.comparator(c,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new oe(this.comparator);return a.data=n,a}}class kd{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(n){this.fields=n,n.sort(Le.comparator)}static empty(){return new wi([])}unionWith(n){let a=new oe(Le.comparator);for(const r of this.fields)a=a.add(r);for(const r of n)a=a.add(r);return new wi(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return is(this.fields,n.fields,(a,r)=>a.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(n){this.binaryString=n}static fromBase64String(n){const a=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new jd("Invalid base64 string: "+f):f}}(n);return new Se(a)}static fromUint8Array(n){const a=function(c){let f="";for(let m=0;m<c.length;++m)f+=String.fromCharCode(c[m]);return f}(n);return new Se(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const r=new Uint8Array(a.length);for(let c=0;c<a.length;c++)r[c]=a.charCodeAt(c);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return ft(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Se.EMPTY_BYTE_STRING=new Se("");const F0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(l){if(Kt(!!l),typeof l=="string"){let n=0;const a=F0.exec(l);if(Kt(!!a),a[1]){let c=a[1];c=(c+"000000000").substr(0,9),n=Number(c)}const r=new Date(l);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:Wt(l.seconds),nanos:Wt(l.nanos)}}function Wt(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function Ci(l){return typeof l=="string"?Se.fromBase64String(l):Se.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="server_timestamp",Qd="__type__",Kd="__previous_value__",Yd="__local_write_time__";function rc(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[Qd])===null||a===void 0?void 0:a.stringValue)===Gd}function Xl(l){const n=l.mapValue.fields[Kd];return rc(n)?Xl(n):n}function yr(l){const n=Di(l.mapValue.fields[Yd].timestampValue);return new Ge(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(n,a,r,c,f,m,y,E,T){this.databaseId=n,this.appId=a,this.persistenceKey=r,this.host=c,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=E,this.useFetchStreams=T}}const Fl="(default)";class _r{constructor(n,a){this.projectId=n,this.database=a||Fl}static empty(){return new _r("","")}get isDefaultDatabase(){return this.database===Fl}isEqual(n){return n instanceof _r&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__type__",$0="__max__",Zl={mapValue:{}},W0="__vector__",lc="value";function Vi(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?rc(l)?4:eE(l)?9007199254740991:tE(l)?10:11:ct()}function Rn(l,n){if(l===n)return!0;const a=Vi(l);if(a!==Vi(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return yr(l).isEqual(yr(n));case 3:return function(c,f){if(typeof c.timestampValue=="string"&&typeof f.timestampValue=="string"&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const m=Di(c.timestampValue),y=Di(f.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return function(c,f){return Ci(c.bytesValue).isEqual(Ci(f.bytesValue))}(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return function(c,f){return Wt(c.geoPointValue.latitude)===Wt(f.geoPointValue.latitude)&&Wt(c.geoPointValue.longitude)===Wt(f.geoPointValue.longitude)}(l,n);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return Wt(c.integerValue)===Wt(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const m=Wt(c.doubleValue),y=Wt(f.doubleValue);return m===y?sc(m)===sc(y):isNaN(m)&&isNaN(y)}return!1}(l,n);case 9:return is(l.arrayValue.values||[],n.arrayValue.values||[],Rn);case 10:case 11:return function(c,f){const m=c.mapValue.fields||{},y=f.mapValue.fields||{};if(Pd(m)!==Pd(y))return!1;for(const E in m)if(m.hasOwnProperty(E)&&(y[E]===void 0||!Rn(m[E],y[E])))return!1;return!0}(l,n);default:return ct()}}function vr(l,n){return(l.values||[]).find(a=>Rn(a,n))!==void 0}function ss(l,n){if(l===n)return 0;const a=Vi(l),r=Vi(n);if(a!==r)return ft(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return ft(l.booleanValue,n.booleanValue);case 2:return function(f,m){const y=Wt(f.integerValue||f.doubleValue),E=Wt(m.integerValue||m.doubleValue);return y<E?-1:y>E?1:y===E?0:isNaN(y)?isNaN(E)?0:-1:1}(l,n);case 3:return Xd(l.timestampValue,n.timestampValue);case 4:return Xd(yr(l),yr(n));case 5:return ac(l.stringValue,n.stringValue);case 6:return function(f,m){const y=Ci(f),E=Ci(m);return y.compareTo(E)}(l.bytesValue,n.bytesValue);case 7:return function(f,m){const y=f.split("/"),E=m.split("/");for(let T=0;T<y.length&&T<E.length;T++){const w=ft(y[T],E[T]);if(w!==0)return w}return ft(y.length,E.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,m){const y=ft(Wt(f.latitude),Wt(m.latitude));return y!==0?y:ft(Wt(f.longitude),Wt(m.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return Fd(l.arrayValue,n.arrayValue);case 10:return function(f,m){var y,E,T,w;const B=f.fields||{},H=m.fields||{},K=(y=B[lc])===null||y===void 0?void 0:y.arrayValue,J=(E=H[lc])===null||E===void 0?void 0:E.arrayValue,nt=ft(((T=K==null?void 0:K.values)===null||T===void 0?void 0:T.length)||0,((w=J==null?void 0:J.values)===null||w===void 0?void 0:w.length)||0);return nt!==0?nt:Fd(K,J)}(l.mapValue,n.mapValue);case 11:return function(f,m){if(f===Zl.mapValue&&m===Zl.mapValue)return 0;if(f===Zl.mapValue)return 1;if(m===Zl.mapValue)return-1;const y=f.fields||{},E=Object.keys(y),T=m.fields||{},w=Object.keys(T);E.sort(),w.sort();for(let B=0;B<E.length&&B<w.length;++B){const H=ac(E[B],w[B]);if(H!==0)return H;const K=ss(y[E[B]],T[w[B]]);if(K!==0)return K}return ft(E.length,w.length)}(l.mapValue,n.mapValue);default:throw ct()}}function Xd(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return ft(l,n);const a=Di(l),r=Di(n),c=ft(a.seconds,r.seconds);return c!==0?c:ft(a.nanos,r.nanos)}function Fd(l,n){const a=l.values||[],r=n.values||[];for(let c=0;c<a.length&&c<r.length;++c){const f=ss(a[c],r[c]);if(f)return f}return ft(a.length,r.length)}function rs(l){return uc(l)}function uc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(a){const r=Di(a);return`time(${r.seconds},${r.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(a){return Ci(a).toBase64()}(l.bytesValue):"referenceValue"in l?function(a){return st.fromName(a).toString()}(l.referenceValue):"geoPointValue"in l?function(a){return`geo(${a.latitude},${a.longitude})`}(l.geoPointValue):"arrayValue"in l?function(a){let r="[",c=!0;for(const f of a.values||[])c?c=!1:r+=",",r+=uc(f);return r+"]"}(l.arrayValue):"mapValue"in l?function(a){const r=Object.keys(a.fields||{}).sort();let c="{",f=!0;for(const m of r)f?f=!1:c+=",",c+=`${m}:${uc(a.fields[m])}`;return c+"}"}(l.mapValue):ct()}function Jl(l){switch(Vi(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Xl(l);return n?16+Jl(n):16;case 5:return 2*l.stringValue.length;case 6:return Ci(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((c,f)=>c+Jl(f),0)}(l.arrayValue);case 10:case 11:return function(r){let c=0;return pr(r.fields,(f,m)=>{c+=f.length+Jl(m)}),c}(l.mapValue);default:throw ct()}}function oc(l){return!!l&&"integerValue"in l}function cc(l){return!!l&&"arrayValue"in l}function Zd(l){return!!l&&"nullValue"in l}function Jd(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function hc(l){return!!l&&"mapValue"in l}function tE(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[J0])===null||a===void 0?void 0:a.stringValue)===W0}function Er(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return pr(l.mapValue.fields,(a,r)=>n.mapValue.fields[a]=Er(r)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Er(l.arrayValue.values[a]);return n}return Object.assign({},l)}function eE(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===$0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(n){this.value=n}static empty(){return new wn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let r=0;r<n.length-1;++r)if(a=(a.mapValue.fields||{})[n.get(r)],!hc(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Er(a)}setAll(n){let a=Le.emptyPath(),r={},c=[];n.forEach((m,y)=>{if(!a.isImmediateParentOf(y)){const E=this.getFieldsMap(a);this.applyChanges(E,r,c),r={},c=[],a=y.popLast()}m?r[y.lastSegment()]=Er(m):c.push(y.lastSegment())});const f=this.getFieldsMap(a);this.applyChanges(f,r,c)}delete(n){const a=this.field(n.popLast());hc(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return Rn(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<n.length;++r){let c=a.mapValue.fields[n.get(r)];hc(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},a.mapValue.fields[n.get(r)]=c),a=c}return a.mapValue.fields}applyChanges(n,a,r){pr(a,(c,f)=>n[c]=f);for(const c of r)delete n[c]}clone(){return new wn(Er(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(n,a,r,c,f,m,y){this.key=n,this.documentType=a,this.version=r,this.readTime=c,this.createTime=f,this.data=m,this.documentState=y}static newInvalidDocument(n){return new Oe(n,0,ot.min(),ot.min(),ot.min(),wn.empty(),0)}static newFoundDocument(n,a,r,c){return new Oe(n,1,a,ot.min(),r,c,0)}static newNoDocument(n,a){return new Oe(n,2,a,ot.min(),ot.min(),wn.empty(),0)}static newUnknownDocument(n,a){return new Oe(n,3,a,ot.min(),ot.min(),wn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Oe&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(n,a){this.position=n,this.inclusive=a}}function $d(l,n,a){let r=0;for(let c=0;c<l.position.length;c++){const f=n[c],m=l.position[c];if(f.field.isKeyField()?r=st.comparator(st.fromName(m.referenceValue),a.key):r=ss(m,a.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wd(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!Rn(l.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(n,a="asc"){this.field=n,this.dir=a}}function nE(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{}class ce extends tm{constructor(n,a,r){super(),this.field=n,this.op=a,this.value=r}static create(n,a,r){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,r):new aE(n,a,r):a==="array-contains"?new lE(n,r):a==="in"?new uE(n,r):a==="not-in"?new oE(n,r):a==="array-contains-any"?new cE(n,r):new ce(n,a,r)}static createKeyFieldInFilter(n,a,r){return a==="in"?new sE(n,r):new rE(n,r)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&this.matchesComparison(ss(a,this.value)):a!==null&&Vi(this.value)===Vi(a)&&this.matchesComparison(ss(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends tm{constructor(n,a){super(),this.filters=n,this.op=a,this.ce=null}static create(n,a){return new Dn(n,a)}matches(n){return em(this)?this.filters.find(a=>!a.matches(n))===void 0:this.filters.find(a=>a.matches(n))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((n,a)=>n.concat(a.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function em(l){return l.op==="and"}function nm(l){return iE(l)&&em(l)}function iE(l){for(const n of l.filters)if(n instanceof Dn)return!1;return!0}function fc(l){if(l instanceof ce)return l.field.canonicalString()+l.op.toString()+rs(l.value);if(nm(l))return l.filters.map(n=>fc(n)).join(",");{const n=l.filters.map(a=>fc(a)).join(",");return`${l.op}(${n})`}}function im(l,n){return l instanceof ce?function(r,c){return c instanceof ce&&r.op===c.op&&r.field.isEqual(c.field)&&Rn(r.value,c.value)}(l,n):l instanceof Dn?function(r,c){return c instanceof Dn&&r.op===c.op&&r.filters.length===c.filters.length?r.filters.reduce((f,m,y)=>f&&im(m,c.filters[y]),!0):!1}(l,n):void ct()}function am(l){return l instanceof ce?function(a){return`${a.field.canonicalString()} ${a.op} ${rs(a.value)}`}(l):l instanceof Dn?function(a){return a.op.toString()+" {"+a.getFilters().map(am).join(" ,")+"}"}(l):"Filter"}class aE extends ce{constructor(n,a,r){super(n,a,r),this.key=st.fromName(r.referenceValue)}matches(n){const a=st.comparator(n.key,this.key);return this.matchesComparison(a)}}class sE extends ce{constructor(n,a){super(n,"in",a),this.keys=sm("in",a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class rE extends ce{constructor(n,a){super(n,"not-in",a),this.keys=sm("not-in",a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function sm(l,n){var a;return(((a=n.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(r=>st.fromName(r.referenceValue))}class lE extends ce{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return cc(a)&&vr(a.arrayValue,this.value)}}class uE extends ce{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&vr(this.value.arrayValue,a)}}class oE extends ce{constructor(n,a){super(n,"not-in",a)}matches(n){if(vr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&!vr(this.value.arrayValue,a)}}class cE extends ce{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!cc(a)||!a.arrayValue.values)&&a.arrayValue.values.some(r=>vr(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(n,a=null,r=[],c=[],f=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=r,this.filters=c,this.limit=f,this.startAt=m,this.endAt=y,this.le=null}}function rm(l,n=null,a=[],r=[],c=null,f=null,m=null){return new hE(l,n,a,r,c,f,m)}function dc(l){const n=_t(l);if(n.le===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(r=>fc(r)).join(","),a+="|ob:",a+=n.orderBy.map(r=>function(f){return f.field.canonicalString()+f.dir}(r)).join(","),Kl(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(r=>rs(r)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(r=>rs(r)).join(",")),n.le=a}return n.le}function mc(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!nE(l.orderBy[a],n.orderBy[a]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!im(l.filters[a],n.filters[a]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Wd(l.startAt,n.startAt)&&Wd(l.endAt,n.endAt)}function gc(l){return st.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(n,a=null,r=[],c=[],f=null,m="F",y=null,E=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=c,this.limit=f,this.limitType=m,this.startAt=y,this.endAt=E,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fE(l,n,a,r,c,f,m,y){return new tu(l,n,a,r,c,f,m,y)}function pc(l){return new tu(l)}function lm(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function dE(l){return l.collectionGroup!==null}function Tr(l){const n=_t(l);if(n.he===null){n.he=[];const a=new Set;for(const f of n.explicitOrderBy)n.he.push(f),a.add(f.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new oe(Le.comparator);return m.filters.forEach(E=>{E.getFlattenedFilters().forEach(T=>{T.isInequality()&&(y=y.add(T.field))})}),y})(n).forEach(f=>{a.has(f.canonicalString())||f.isKeyField()||n.he.push(new Wl(f,r))}),a.has(Le.keyField().canonicalString())||n.he.push(new Wl(Le.keyField(),r))}return n.he}function Cn(l){const n=_t(l);return n.Pe||(n.Pe=mE(n,Tr(l))),n.Pe}function mE(l,n){if(l.limitType==="F")return rm(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(c=>{const f=c.dir==="desc"?"asc":"desc";return new Wl(c.field,f)});const a=l.endAt?new $l(l.endAt.position,l.endAt.inclusive):null,r=l.startAt?new $l(l.startAt.position,l.startAt.inclusive):null;return rm(l.path,l.collectionGroup,n,l.filters,l.limit,a,r)}}function yc(l,n,a){return new tu(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}function eu(l,n){return mc(Cn(l),Cn(n))&&l.limitType===n.limitType}function um(l){return`${dc(Cn(l))}|lt:${l.limitType}`}function ls(l){return`Query(target=${function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map(c=>am(c)).join(", ")}]`),Kl(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map(c=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(c)).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map(c=>rs(c)).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map(c=>rs(c)).join(",")),`Target(${r})`}(Cn(l))}; limitType=${l.limitType})`}function nu(l,n){return n.isFoundDocument()&&function(r,c){const f=c.key.path;return r.collectionGroup!==null?c.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):st.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)}(l,n)&&function(r,c){for(const f of Tr(r))if(!f.field.isKeyField()&&c.data.field(f.field)===null)return!1;return!0}(l,n)&&function(r,c){for(const f of r.filters)if(!f.matches(c))return!1;return!0}(l,n)&&function(r,c){return!(r.startAt&&!function(m,y,E){const T=$d(m,y,E);return m.inclusive?T<=0:T<0}(r.startAt,Tr(r),c)||r.endAt&&!function(m,y,E){const T=$d(m,y,E);return m.inclusive?T>=0:T>0}(r.endAt,Tr(r),c))}(l,n)}function gE(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function om(l){return(n,a)=>{let r=!1;for(const c of Tr(l)){const f=pE(c,n,a);if(f!==0)return f;r=r||c.field.isKeyField()}return 0}}function pE(l,n,a){const r=l.field.isKeyField()?st.comparator(n.key,a.key):function(f,m,y){const E=m.data.field(f),T=y.data.field(f);return E!==null&&T!==null?ss(E,T):ct()}(l.field,n,a);switch(l.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r!==void 0){for(const[c,f]of r)if(this.equalsFn(c,n))return f}}has(n){return this.get(n)!==void 0}set(n,a){const r=this.mapKeyFn(n),c=this.inner[r];if(c===void 0)return this.inner[r]=[[n,a]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,a]);c.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r===void 0)return!1;for(let c=0;c<r.length;c++)if(this.equalsFn(r[c][0],n))return r.length===1?delete this.inner[a]:r.splice(c,1),this.innerSize--,!0;return!1}forEach(n){pr(this.inner,(a,r)=>{for(const[c,f]of r)n(c,f)})}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new $t(st.comparator);function Ni(){return yE}const cm=new $t(st.comparator);function Ar(...l){let n=cm;for(const a of l)n=n.insert(a.key,a);return n}function _E(l){let n=cm;return l.forEach((a,r)=>n=n.insert(a,r.overlayedDocument)),n}function da(){return Sr()}function hm(){return Sr()}function Sr(){return new fa(l=>l.toString(),(l,n)=>l.isEqual(n))}const vE=new oe(st.comparator);function St(...l){let n=vE;for(const a of l)n=n.add(a);return n}const EE=new oe(ft);function TE(){return EE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(n)?"-0":n}}function SE(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function bE(l,n,a){return l instanceof _c?function(c,f){const m={fields:{[Qd]:{stringValue:Gd},[Yd]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&rc(f)&&(f=Xl(f)),f&&(m.fields[Kd]=f),{mapValue:m}}(a,n):l instanceof au?fm(l,n):l instanceof su?dm(l,n):function(c,f){const m=wE(c,f),y=mm(m)+mm(c.Ie);return oc(m)&&oc(c.Ie)?SE(y):AE(c.serializer,y)}(l,n)}function RE(l,n,a){return l instanceof au?fm(l,n):l instanceof su?dm(l,n):a}function wE(l,n){return l instanceof vc?function(r){return oc(r)||function(f){return!!f&&"doubleValue"in f}(r)}(n)?n:{integerValue:0}:null}class _c extends iu{}class au extends iu{constructor(n){super(),this.elements=n}}function fm(l,n){const a=gm(n);for(const r of l.elements)a.some(c=>Rn(c,r))||a.push(r);return{arrayValue:{values:a}}}class su extends iu{constructor(n){super(),this.elements=n}}function dm(l,n){let a=gm(n);for(const r of l.elements)a=a.filter(c=>!Rn(c,r));return{arrayValue:{values:a}}}class vc extends iu{constructor(n,a){super(),this.serializer=n,this.Ie=a}}function mm(l){return Wt(l.integerValue||l.doubleValue)}function gm(l){return cc(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function DE(l,n){return l.field.isEqual(n.field)&&function(r,c){return r instanceof au&&c instanceof au||r instanceof su&&c instanceof su?is(r.elements,c.elements,Rn):r instanceof vc&&c instanceof vc?Rn(r.Ie,c.Ie):r instanceof _c&&c instanceof _c}(l.transform,n.transform)}class ma{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new ma}static exists(n){return new ma(void 0,n)}static updateTime(n){return new ma(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function ru(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class Ec{}function pm(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new VE(l.key,ma.none()):new Tc(l.key,l.data,ma.none());{const a=l.data,r=wn.empty();let c=new oe(Le.comparator);for(let f of n.fields)if(!c.has(f)){let m=a.field(f);m===null&&f.length>1&&(f=f.popLast(),m=a.field(f)),m===null?r.delete(f):r.set(f,m),c=c.add(f)}return new lu(l.key,r,new wi(c.toArray()),ma.none())}}function CE(l,n,a){l instanceof Tc?function(c,f,m){const y=c.value.clone(),E=vm(c.fieldTransforms,f,m.transformResults);y.setAll(E),f.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(l,n,a):l instanceof lu?function(c,f,m){if(!ru(c.precondition,f))return void f.convertToUnknownDocument(m.version);const y=vm(c.fieldTransforms,f,m.transformResults),E=f.data;E.setAll(_m(c)),E.setAll(y),f.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(l,n,a):function(c,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()}(0,n,a)}function br(l,n,a,r){return l instanceof Tc?function(f,m,y,E){if(!ru(f.precondition,m))return y;const T=f.value.clone(),w=Em(f.fieldTransforms,E,m);return T.setAll(w),m.convertToFoundDocument(m.version,T).setHasLocalMutations(),null}(l,n,a,r):l instanceof lu?function(f,m,y,E){if(!ru(f.precondition,m))return y;const T=Em(f.fieldTransforms,E,m),w=m.data;return w.setAll(_m(f)),w.setAll(T),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(B=>B.field))}(l,n,a,r):function(f,m,y){return ru(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(l,n,a)}function ym(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!function(r,c){return r===void 0&&c===void 0||!(!r||!c)&&is(r,c,(f,m)=>DE(f,m))}(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class Tc extends Ec{constructor(n,a,r,c=[]){super(),this.key=n,this.value=a,this.precondition=r,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class lu extends Ec{constructor(n,a,r,c,f=[]){super(),this.key=n,this.data=a,this.fieldMask=r,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function _m(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const r=l.data.field(a);n.set(a,r)}}),n}function vm(l,n,a){const r=new Map;Kt(l.length===a.length);for(let c=0;c<a.length;c++){const f=l[c],m=f.transform,y=n.data.field(f.field);r.set(f.field,RE(m,y,a[c]))}return r}function Em(l,n,a){const r=new Map;for(const c of l){const f=c.transform,m=a.data.field(c.field);r.set(c.field,bE(f,m,n))}return r}class VE extends Ec{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(n,a,r,c){this.batchId=n,this.localWriteTime=a,this.baseMutations=r,this.mutations=c}applyToRemoteDocument(n,a){const r=a.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(n.key)&&CE(f,n,r[c])}}applyToLocalView(n,a){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(a=br(r,n,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(a=br(r,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const r=hm();return this.mutations.forEach(c=>{const f=n.get(c.key),m=f.overlayedDocument;let y=this.applyToLocalView(m,f.mutatedFields);y=a.has(c.key)?null:y;const E=pm(m,y);E!==null&&r.set(c.key,E),m.isValidDocument()||m.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),St())}isEqual(n){return this.batchId===n.batchId&&is(this.mutations,n.mutations,(a,r)=>ym(a,r))&&is(this.baseMutations,n.baseMutations,(a,r)=>ym(a,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie,vt;function Tm(l){if(l===void 0)return Yn("GRPC error has no .code"),X.UNKNOWN;switch(l){case ie.OK:return X.OK;case ie.CANCELLED:return X.CANCELLED;case ie.UNKNOWN:return X.UNKNOWN;case ie.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ie.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ie.INTERNAL:return X.INTERNAL;case ie.UNAVAILABLE:return X.UNAVAILABLE;case ie.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ie.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ie.NOT_FOUND:return X.NOT_FOUND;case ie.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ie.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ie.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ie.ABORTED:return X.ABORTED;case ie.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ie.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ie.DATA_LOSS:return X.DATA_LOSS;default:return ct()}}(vt=ie||(ie={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new bi([4294967295,4294967295],0);function Am(l){const n=Id().encode(l),a=new Sd;return a.update(n),new Uint8Array(a.digest())}function Sm(l){const n=new DataView(l.buffer),a=n.getUint32(0,!0),r=n.getUint32(4,!0),c=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new bi([a,r],0),new bi([c,f],0)]}class Ac{constructor(n,a,r){if(this.bitmap=n,this.padding=a,this.hashCount=r,a<0||a>=8)throw new Rr(`Invalid padding: ${a}`);if(r<0)throw new Rr(`Invalid hash count: ${r}`);if(n.length>0&&this.hashCount===0)throw new Rr(`Invalid hash count: ${r}`);if(n.length===0&&a!==0)throw new Rr(`Invalid padding when bitmap length is 0: ${a}`);this.Ee=8*n.length-a,this.de=bi.fromNumber(this.Ee)}Ae(n,a,r){let c=n.add(a.multiply(bi.fromNumber(r)));return c.compare(IE)===1&&(c=new bi([c.getBits(0),c.getBits(1)],0)),c.modulo(this.de).toNumber()}Re(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.Ee===0)return!1;const a=Am(n),[r,c]=Sm(a);for(let f=0;f<this.hashCount;f++){const m=this.Ae(r,c,f);if(!this.Re(m))return!1}return!0}static create(n,a,r){const c=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),m=new Ac(f,c,a);return r.forEach(y=>m.insert(y)),m}insert(n){if(this.Ee===0)return;const a=Am(n),[r,c]=Sm(a);for(let f=0;f<this.hashCount;f++){const m=this.Ae(r,c,f);this.Ve(m)}}Ve(n){const a=Math.floor(n/8),r=n%8;this.bitmap[a]|=1<<r}}class Rr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(n,a,r,c,f){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,a,r){const c=new Map;return c.set(n,wr.createSynthesizedTargetChangeForCurrentChange(n,a,r)),new uu(ot.min(),c,new $t(ft),Ni(),St())}}class wr{constructor(n,a,r,c,f){this.resumeToken=n,this.current=a,this.addedDocuments=r,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,a,r){return new wr(r,a,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(n,a,r,c){this.me=n,this.removedTargetIds=a,this.key=r,this.fe=c}}class bm{constructor(n,a){this.targetId=n,this.ge=a}}class Rm{constructor(n,a,r=Se.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=a,this.resumeToken=r,this.cause=c}}class wm{constructor(){this.pe=0,this.ye=Dm(),this.we=Se.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(n){n.approximateByteSize()>0&&(this.be=!0,this.we=n)}Fe(){let n=St(),a=St(),r=St();return this.ye.forEach((c,f)=>{switch(f){case 0:n=n.add(c);break;case 2:a=a.add(c);break;case 1:r=r.add(c);break;default:ct()}}),new wr(this.we,this.Se,n,a,r)}Me(){this.be=!1,this.ye=Dm()}xe(n,a){this.be=!0,this.ye=this.ye.insert(n,a)}Oe(n){this.be=!0,this.ye=this.ye.remove(n)}Ne(){this.pe+=1}Be(){this.pe-=1,Kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xE{constructor(n){this.ke=n,this.qe=new Map,this.Qe=Ni(),this.$e=cu(),this.Ue=cu(),this.Ke=new $t(ft)}We(n){for(const a of n.me)n.fe&&n.fe.isFoundDocument()?this.Ge(a,n.fe):this.ze(a,n.key,n.fe);for(const a of n.removedTargetIds)this.ze(a,n.key,n.fe)}je(n){this.forEachTarget(n,a=>{const r=this.He(a);switch(n.state){case 0:this.Je(a)&&r.Ce(n.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(n.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(a);break;case 3:this.Je(a)&&(r.Le(),r.Ce(n.resumeToken));break;case 4:this.Je(a)&&(this.Ye(a),r.Ce(n.resumeToken));break;default:ct()}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.qe.forEach((r,c)=>{this.Je(c)&&a(c)})}Ze(n){const a=n.targetId,r=n.ge.count,c=this.Xe(a);if(c){const f=c.target;if(gc(f))if(r===0){const m=new st(f.path);this.ze(a,m,Oe.newNoDocument(m,ot.min()))}else Kt(r===1);else{const m=this.et(a);if(m!==r){const y=this.tt(n),E=y?this.nt(y,n,m):1;if(E!==0){this.Ye(a);const T=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(a,T)}}}}}tt(n){const a=n.ge.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:c=0},hashCount:f=0}=a;let m,y;try{m=Ci(r).toUint8Array()}catch(E){if(E instanceof jd)return ns("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{y=new Ac(m,c,f)}catch(E){return ns(E instanceof Rr?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return y.Ee===0?null:y}nt(n,a,r){return a.ge.count===r-this.st(n,a.targetId)?0:2}st(n,a){const r=this.ke.getRemoteKeysForTarget(a);let c=0;return r.forEach(f=>{const m=this.ke.it(),y=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;n.mightContain(y)||(this.ze(a,f,null),c++)}),c}ot(n){const a=new Map;this.qe.forEach((f,m)=>{const y=this.Xe(m);if(y){if(f.current&&gc(y.target)){const E=new st(y.target.path);this._t(E).has(m)||this.ut(m,E)||this.ze(m,E,Oe.newNoDocument(E,n))}f.ve&&(a.set(m,f.Fe()),f.Me())}});let r=St();this.Ue.forEach((f,m)=>{let y=!0;m.forEachWhile(E=>{const T=this.Xe(E);return!T||T.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(r=r.add(f))}),this.Qe.forEach((f,m)=>m.setReadTime(n));const c=new uu(n,a,this.Ke,this.Qe,r);return this.Qe=Ni(),this.$e=cu(),this.Ue=cu(),this.Ke=new $t(ft),c}Ge(n,a){if(!this.Je(n))return;const r=this.ut(n,a.key)?2:0;this.He(n).xe(a.key,r),this.Qe=this.Qe.insert(a.key,a),this.$e=this.$e.insert(a.key,this._t(a.key).add(n)),this.Ue=this.Ue.insert(a.key,this.ct(a.key).add(n))}ze(n,a,r){if(!this.Je(n))return;const c=this.He(n);this.ut(n,a)?c.xe(a,1):c.Oe(a),this.Ue=this.Ue.insert(a,this.ct(a).delete(n)),this.Ue=this.Ue.insert(a,this.ct(a).add(n)),r&&(this.Qe=this.Qe.insert(a,r))}removeTarget(n){this.qe.delete(n)}et(n){const a=this.He(n).Fe();return this.ke.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Ne(n){this.He(n).Ne()}He(n){let a=this.qe.get(n);return a||(a=new wm,this.qe.set(n,a)),a}ct(n){let a=this.Ue.get(n);return a||(a=new oe(ft),this.Ue=this.Ue.insert(n,a)),a}_t(n){let a=this.$e.get(n);return a||(a=new oe(ft),this.$e=this.$e.insert(n,a)),a}Je(n){const a=this.Xe(n)!==null;return a||Z("WatchChangeAggregator","Detected inactive target",n),a}Xe(n){const a=this.qe.get(n);return a&&a.De?null:this.ke.lt(n)}Ye(n){this.qe.set(n,new wm),this.ke.getRemoteKeysForTarget(n).forEach(a=>{this.ze(n,a,null)})}ut(n,a){return this.ke.getRemoteKeysForTarget(n).has(a)}}function cu(){return new $t(st.comparator)}function Dm(){return new $t(st.comparator)}const UE={asc:"ASCENDING",desc:"DESCENDING"},zE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LE={and:"AND",or:"OR"};class BE{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function Sc(l,n){return l.useProto3Json||Kl(n)?n:{value:n}}function qE(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function HE(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function us(l){return Kt(!!l),ot.fromTimestamp(function(a){const r=Di(a);return new Ge(r.seconds,r.nanos)}(l))}function PE(l,n){return bc(l,n).canonicalString()}function bc(l,n){const a=function(c){return new Xt(["projects",c.projectId,"databases",c.database])}(l).child("documents");return n===void 0?a:a.child(n)}function Cm(l){const n=Xt.fromString(l);return Kt(xm(n)),n}function Rc(l,n){const a=Cm(n);if(a.get(1)!==l.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new st(Mm(a))}function Vm(l,n){return PE(l.databaseId,n)}function kE(l){const n=Cm(l);return n.length===4?Xt.emptyPath():Mm(n)}function Nm(l){return new Xt(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Mm(l){return Kt(l.length>4&&l.get(4)==="documents"),l.popFirst(5)}function jE(l,n){let a;if("targetChange"in n){n.targetChange;const r=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:ct()}(n.targetChange.targetChangeType||"NO_CHANGE"),c=n.targetChange.targetIds||[],f=function(T,w){return T.useProto3Json?(Kt(w===void 0||typeof w=="string"),Se.fromBase64String(w||"")):(Kt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Se.fromUint8Array(w||new Uint8Array))}(l,n.targetChange.resumeToken),m=n.targetChange.cause,y=m&&function(T){const w=T.code===void 0?X.UNKNOWN:Tm(T.code);return new at(w,T.message||"")}(m);a=new Rm(r,c,f,y||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const c=Rc(l,r.document.name),f=us(r.document.updateTime),m=r.document.createTime?us(r.document.createTime):ot.min(),y=new wn({mapValue:{fields:r.document.fields}}),E=Oe.newFoundDocument(c,f,m,y),T=r.targetIds||[],w=r.removedTargetIds||[];a=new ou(T,w,E.key,E)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const c=Rc(l,r.document),f=r.readTime?us(r.readTime):ot.min(),m=Oe.newNoDocument(c,f),y=r.removedTargetIds||[];a=new ou([],y,m.key,m)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const c=Rc(l,r.document),f=r.removedTargetIds||[];a=new ou([],f,c,null)}else{if(!("filter"in n))return ct();{n.filter;const r=n.filter;r.targetId;const{count:c=0,unchangedNames:f}=r,m=new OE(c,f),y=r.targetId;a=new bm(y,m)}}return a}function GE(l,n){return{documents:[Vm(l,n.path)]}}function QE(l,n){const a={structuredQuery:{}},r=n.path;let c;n.collectionGroup!==null?(c=r,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=Vm(l,c);const f=function(T){if(T.length!==0)return Im(Dn.create(T,"and"))}(n.filters);f&&(a.structuredQuery.where=f);const m=function(T){if(T.length!==0)return T.map(w=>function(H){return{field:os(H.field),direction:XE(H.dir)}}(w))}(n.orderBy);m&&(a.structuredQuery.orderBy=m);const y=Sc(l,n.limit);return y!==null&&(a.structuredQuery.limit=y),n.startAt&&(a.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(n.startAt)),n.endAt&&(a.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(n.endAt)),{ht:a,parent:c}}function KE(l){let n=kE(l.parent);const a=l.structuredQuery,r=a.from?a.from.length:0;let c=null;if(r>0){Kt(r===1);const w=a.from[0];w.allDescendants?c=w.collectionId:n=n.child(w.collectionId)}let f=[];a.where&&(f=function(B){const H=Om(B);return H instanceof Dn&&nm(H)?H.getFilters():[H]}(a.where));let m=[];a.orderBy&&(m=function(B){return B.map(H=>function(J){return new Wl(cs(J.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(H))}(a.orderBy));let y=null;a.limit&&(y=function(B){let H;return H=typeof B=="object"?B.value:B,Kl(H)?null:H}(a.limit));let E=null;a.startAt&&(E=function(B){const H=!!B.before,K=B.values||[];return new $l(K,H)}(a.startAt));let T=null;return a.endAt&&(T=function(B){const H=!B.before,K=B.values||[];return new $l(K,H)}(a.endAt)),fE(n,c,m,f,y,"F",E,T)}function YE(l,n){const a=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(n.purpose);return a==null?null:{"goog-listen-tags":a}}function Om(l){return l.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=cs(a.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const c=cs(a.unaryFilter.field);return ce.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=cs(a.unaryFilter.field);return ce.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=cs(a.unaryFilter.field);return ce.create(m,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(l):l.fieldFilter!==void 0?function(a){return ce.create(cs(a.fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(a.fieldFilter.op),a.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(a){return Dn.create(a.compositeFilter.filters.map(r=>Om(r)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return ct()}}(a.compositeFilter.op))}(l):ct()}function XE(l){return UE[l]}function FE(l){return zE[l]}function ZE(l){return LE[l]}function os(l){return{fieldPath:l.canonicalString()}}function cs(l){return Le.fromServerFormat(l.fieldPath)}function Im(l){return l instanceof ce?function(a){if(a.op==="=="){if(Jd(a.value))return{unaryFilter:{field:os(a.field),op:"IS_NAN"}};if(Zd(a.value))return{unaryFilter:{field:os(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Jd(a.value))return{unaryFilter:{field:os(a.field),op:"IS_NOT_NAN"}};if(Zd(a.value))return{unaryFilter:{field:os(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(a.field),op:FE(a.op),value:a.value}}}(l):l instanceof Dn?function(a){const r=a.getFilters().map(c=>Im(c));return r.length===1?r[0]:{compositeFilter:{op:ZE(a.op),filters:r}}}(l):ct()}function xm(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(n,a,r,c,f=ot.min(),m=ot.min(),y=Se.EMPTY_BYTE_STRING,E=null){this.target=n,this.targetId=a,this.purpose=r,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=E}withSequenceNumber(n){return new Mi(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(n){this.Tt=n}}function $E(l){const n=KE({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?yc(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.Tn=new tT}addToCollectionParentIndex(n,a){return this.Tn.add(a),Q.resolve()}getCollectionParents(n,a){return Q.resolve(this.Tn.getEntries(a))}addFieldIndex(n,a){return Q.resolve()}deleteFieldIndex(n,a){return Q.resolve()}deleteAllFieldIndexes(n){return Q.resolve()}createTargetIndexes(n,a){return Q.resolve()}getDocumentsMatchingTarget(n,a){return Q.resolve(null)}getIndexType(n,a){return Q.resolve(0)}getFieldIndexes(n,a){return Q.resolve([])}getNextCollectionGroupToUpdate(n){return Q.resolve(null)}getMinOffset(n,a){return Q.resolve(Ri.min())}getMinOffsetFromCollectionGroup(n,a){return Q.resolve(Ri.min())}updateCollectionGroup(n,a,r){return Q.resolve()}updateIndexEntries(n,a){return Q.resolve()}}class tT{constructor(){this.index={}}add(n){const a=n.lastSegment(),r=n.popLast(),c=this.index[a]||new oe(Xt.comparator),f=!c.has(r);return this.index[a]=c.add(r),f}has(n){const a=n.lastSegment(),r=n.popLast(),c=this.index[a];return c&&c.has(r)}getEntries(n){return(this.index[n]||new oe(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zm=41943040;class Qe{static withCacheSize(n){return new Qe(n,Qe.DEFAULT_COLLECTION_PERCENTILE,Qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qe.DEFAULT_COLLECTION_PERCENTILE=10,Qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qe.DEFAULT=new Qe(zm,Qe.DEFAULT_COLLECTION_PERCENTILE,Qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qe.DISABLED=new Qe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(n){this.$n=n}next(){return this.$n+=2,this.$n}static Un(){return new hs(0)}static Kn(){return new hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LruGarbageCollector",eT=1048576;function Bm([l,n],[a,r]){const c=ft(l,a);return c===0?ft(n,r):c}class nT{constructor(n){this.Hn=n,this.buffer=new oe(Bm),this.Jn=0}Yn(){return++this.Jn}Zn(n){const a=[n,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();Bm(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class iT{constructor(n,a,r){this.garbageCollector=n,this.asyncQueue=a,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(n){Z(Lm,`Garbage collection scheduled in ${n}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){as(a)?Z(Lm,"Ignoring IndexedDB error during garbage collection: ",a):await Gl(a)}await this.er(3e5)})}}class aT{constructor(n,a){this.tr=n,this.params=a}calculateTargetCount(n,a){return this.tr.nr(n).next(r=>Math.floor(a/100*r))}nthSequenceNumber(n,a){if(a===0)return Q.resolve(Ql.ae);const r=new nT(a);return this.tr.forEachTarget(n,c=>r.Zn(c.sequenceNumber)).next(()=>this.tr.rr(n,c=>r.Zn(c))).next(()=>r.maxValue)}removeTargets(n,a,r){return this.tr.removeTargets(n,a,r)}removeOrphanedDocuments(n,a){return this.tr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Um)):this.getCacheSize(n).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Um):this.ir(n,a))}getCacheSize(n){return this.tr.getCacheSize(n)}ir(n,a){let r,c,f,m,y,E,T;const w=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(B=>(B>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${B}`),c=this.params.maximumSequenceNumbersToCollect):c=B,m=Date.now(),this.nthSequenceNumber(n,c))).next(B=>(r=B,y=Date.now(),this.removeTargets(n,r,a))).next(B=>(f=B,E=Date.now(),this.removeOrphanedDocuments(n,r))).next(B=>(T=Date.now(),es()<=yt.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${c} in `+(y-m)+`ms
	Removed ${f} targets in `+(E-y)+`ms
	Removed ${B} documents in `+(T-E)+`ms
Total Duration: ${T-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:B})))}}function sT(l,n){return new aT(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.changes=new fa(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Oe.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?Q.resolve(r):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(n,a,r,c){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=c}getDocument(n,a){let r=null;return this.documentOverlayCache.getOverlay(n,a).next(c=>(r=c,this.remoteDocumentCache.getEntry(n,a))).next(c=>(r!==null&&br(r.mutation,c,wi.empty(),Ge.now()),c))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next(r=>this.getLocalViewOfDocuments(n,r,St()).next(()=>r))}getLocalViewOfDocuments(n,a,r=St()){const c=da();return this.populateOverlays(n,c,a).next(()=>this.computeViews(n,a,c,r).next(f=>{let m=Ar();return f.forEach((y,E)=>{m=m.insert(y,E.overlayedDocument)}),m}))}getOverlayedDocuments(n,a){const r=da();return this.populateOverlays(n,r,a).next(()=>this.computeViews(n,a,r,St()))}populateOverlays(n,a,r){const c=[];return r.forEach(f=>{a.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(n,c).next(f=>{f.forEach((m,y)=>{a.set(m,y)})})}computeViews(n,a,r,c){let f=Ni();const m=Sr(),y=function(){return Sr()}();return a.forEach((E,T)=>{const w=r.get(T.key);c.has(T.key)&&(w===void 0||w.mutation instanceof lu)?f=f.insert(T.key,T):w!==void 0?(m.set(T.key,w.mutation.getFieldMask()),br(w.mutation,T,w.mutation.getFieldMask(),Ge.now())):m.set(T.key,wi.empty())}),this.recalculateAndSaveOverlays(n,f).next(E=>(E.forEach((T,w)=>m.set(T,w)),a.forEach((T,w)=>{var B;return y.set(T,new lT(w,(B=m.get(T))!==null&&B!==void 0?B:null))}),y))}recalculateAndSaveOverlays(n,a){const r=Sr();let c=new $t((m,y)=>m-y),f=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next(m=>{for(const y of m)y.keys().forEach(E=>{const T=a.get(E);if(T===null)return;let w=r.get(E)||wi.empty();w=y.applyToLocalView(T,w),r.set(E,w);const B=(c.get(y.batchId)||St()).add(E);c=c.insert(y.batchId,B)})}).next(()=>{const m=[],y=c.getReverseIterator();for(;y.hasNext();){const E=y.getNext(),T=E.key,w=E.value,B=hm();w.forEach(H=>{if(!f.has(H)){const K=pm(a.get(H),r.get(H));K!==null&&B.set(H,K),f=f.add(H)}}),m.push(this.documentOverlayCache.saveOverlays(n,T,B))}return Q.waitFor(m)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next(r=>this.recalculateAndSaveOverlays(n,r))}getDocumentsMatchingQuery(n,a,r,c){return function(m){return st.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):dE(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,r,c):this.getDocumentsMatchingCollectionQuery(n,a,r,c)}getNextDocuments(n,a,r,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,r,c).next(f=>{const m=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,r.largestBatchId,c-f.size):Q.resolve(da());let y=gr,E=f;return m.next(T=>Q.forEach(T,(w,B)=>(y<B.largestBatchId&&(y=B.largestBatchId),f.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(n,w).next(H=>{E=E.insert(w,H)}))).next(()=>this.populateOverlays(n,T,f)).next(()=>this.computeViews(n,E,T,St())).next(w=>({batchId:y,changes:_E(w)})))})}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new st(a)).next(r=>{let c=Ar();return r.isFoundDocument()&&(c=c.insert(r.key,r)),c})}getDocumentsMatchingCollectionGroupQuery(n,a,r,c){const f=a.collectionGroup;let m=Ar();return this.indexManager.getCollectionParents(n,f).next(y=>Q.forEach(y,E=>{const T=function(B,H){return new tu(H,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt)}(a,E.child(f));return this.getDocumentsMatchingCollectionQuery(n,T,r,c).next(w=>{w.forEach((B,H)=>{m=m.insert(B,H)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,a,r,c){let f;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,r.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,r,f,c))).next(m=>{f.forEach((E,T)=>{const w=T.getKey();m.get(w)===null&&(m=m.insert(w,Oe.newInvalidDocument(w)))});let y=Ar();return m.forEach((E,T)=>{const w=f.get(E);w!==void 0&&br(w.mutation,T,wi.empty(),Ge.now()),nu(a,T)&&(y=y.insert(E,T))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(n){this.serializer=n,this.dr=new Map,this.Ar=new Map}getBundleMetadata(n,a){return Q.resolve(this.dr.get(a))}saveBundleMetadata(n,a){return this.dr.set(a.id,function(c){return{id:c.id,version:c.version,createTime:us(c.createTime)}}(a)),Q.resolve()}getNamedQuery(n,a){return Q.resolve(this.Ar.get(a))}saveNamedQuery(n,a){return this.Ar.set(a.name,function(c){return{name:c.name,query:$E(c.bundledQuery),readTime:us(c.readTime)}}(a)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.overlays=new $t(st.comparator),this.Rr=new Map}getOverlay(n,a){return Q.resolve(this.overlays.get(a))}getOverlays(n,a){const r=da();return Q.forEach(a,c=>this.getOverlay(n,c).next(f=>{f!==null&&r.set(c,f)})).next(()=>r)}saveOverlays(n,a,r){return r.forEach((c,f)=>{this.Et(n,a,f)}),Q.resolve()}removeOverlaysForBatchId(n,a,r){const c=this.Rr.get(r);return c!==void 0&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(n,a,r){const c=da(),f=a.length+1,m=new st(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const E=y.getNext().value,T=E.getKey();if(!a.isPrefixOf(T.path))break;T.path.length===f&&E.largestBatchId>r&&c.set(E.getKey(),E)}return Q.resolve(c)}getOverlaysForCollectionGroup(n,a,r,c){let f=new $t((T,w)=>T-w);const m=this.overlays.getIterator();for(;m.hasNext();){const T=m.getNext().value;if(T.getKey().getCollectionGroup()===a&&T.largestBatchId>r){let w=f.get(T.largestBatchId);w===null&&(w=da(),f=f.insert(T.largestBatchId,w)),w.set(T.getKey(),T)}}const y=da(),E=f.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((T,w)=>y.set(T,w)),!(y.size()>=c)););return Q.resolve(y)}Et(n,a,r){const c=this.overlays.get(r.key);if(c!==null){const m=this.Rr.get(c.largestBatchId).delete(r.key);this.Rr.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new ME(a,r));let f=this.Rr.get(a);f===void 0&&(f=St(),this.Rr.set(a,f)),this.Rr.set(a,f.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.sessionToken=Se.EMPTY_BYTE_STRING}getSessionToken(n){return Q.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.Vr=new oe(pe.mr),this.gr=new oe(pe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(n,a){const r=new pe(n,a);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(n,a){n.forEach(r=>this.addReference(r,a))}removeReference(n,a){this.wr(new pe(n,a))}Sr(n,a){n.forEach(r=>this.removeReference(r,a))}br(n){const a=new st(new Xt([])),r=new pe(a,n),c=new pe(a,n+1),f=[];return this.gr.forEachInRange([r,c],m=>{this.wr(m),f.push(m.key)}),f}Dr(){this.Vr.forEach(n=>this.wr(n))}wr(n){this.Vr=this.Vr.delete(n),this.gr=this.gr.delete(n)}vr(n){const a=new st(new Xt([])),r=new pe(a,n),c=new pe(a,n+1);let f=St();return this.gr.forEachInRange([r,c],m=>{f=f.add(m.key)}),f}containsKey(n){const a=new pe(n,0),r=this.Vr.firstAfterOrEqual(a);return r!==null&&n.isEqual(r.key)}}class pe{constructor(n,a){this.key=n,this.Cr=a}static mr(n,a){return st.comparator(n.key,a.key)||ft(n.Cr,a.Cr)}static pr(n,a){return ft(n.Cr,a.Cr)||st.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.Fr=1,this.Mr=new oe(pe.mr)}checkEmpty(n){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,r,c){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new NE(f,a,r,c);this.mutationQueue.push(m);for(const y of c)this.Mr=this.Mr.add(new pe(y.key,f)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return Q.resolve(m)}lookupMutationBatch(n,a){return Q.resolve(this.Or(a))}getNextMutationBatchAfterBatchId(n,a){const r=a+1,c=this.Nr(r),f=c<0?0:c;return Q.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Q0:this.Fr-1)}getAllMutationBatches(n){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const r=new pe(a,0),c=new pe(a,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([r,c],m=>{const y=this.Or(m.Cr);f.push(y)}),Q.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,a){let r=new oe(ft);return a.forEach(c=>{const f=new pe(c,0),m=new pe(c,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,m],y=>{r=r.add(y.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(n,a){const r=a.path,c=r.length+1;let f=r;st.isDocumentKey(f)||(f=f.child(""));const m=new pe(new st(f),0);let y=new oe(ft);return this.Mr.forEachWhile(E=>{const T=E.key.path;return!!r.isPrefixOf(T)&&(T.length===c&&(y=y.add(E.Cr)),!0)},m),Q.resolve(this.Br(y))}Br(n){const a=[];return n.forEach(r=>{const c=this.Or(r);c!==null&&a.push(c)}),a}removeMutationBatch(n,a){Kt(this.Lr(a.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(a.mutations,c=>{const f=new pe(c.key,a.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.Mr=r})}qn(n){}containsKey(n,a){const r=new pe(a,0),c=this.Mr.firstAfterOrEqual(r);return Q.resolve(a.isEqual(c&&c.key))}performConsistencyCheck(n){return this.mutationQueue.length,Q.resolve()}Lr(n,a){return this.Nr(n)}Nr(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Or(n){const a=this.Nr(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(n){this.kr=n,this.docs=function(){return new $t(st.comparator)}(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const r=a.key,c=this.docs.get(r),f=c?c.size:0,m=this.kr(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const r=this.docs.get(a);return Q.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(a))}getEntries(n,a){let r=Ni();return a.forEach(c=>{const f=this.docs.get(c);r=r.insert(c,f?f.document.mutableCopy():Oe.newInvalidDocument(c))}),Q.resolve(r)}getDocumentsMatchingQuery(n,a,r,c){let f=Ni();const m=a.path,y=new st(m.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(y);for(;E.hasNext();){const{key:T,value:{document:w}}=E.getNext();if(!m.isPrefixOf(T.path))break;T.path.length>m.length+1||P0(H0(w),r)<=0||(c.has(w.key)||nu(a,w))&&(f=f.insert(w.key,w.mutableCopy()))}return Q.resolve(f)}getAllFromCollectionGroup(n,a,r,c){ct()}qr(n,a){return Q.forEach(this.docs,r=>a(r))}newChangeBuffer(n){return new mT(this)}getSize(n){return Q.resolve(this.size)}}class mT extends rT{constructor(n){super(),this.Ir=n}applyChanges(n){const a=[];return this.changes.forEach((r,c)=>{c.isValidDocument()?a.push(this.Ir.addEntry(n,c)):this.Ir.removeEntry(r)}),Q.waitFor(a)}getFromCache(n,a){return this.Ir.getEntry(n,a)}getAllFromCache(n,a){return this.Ir.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(n){this.persistence=n,this.Qr=new fa(a=>dc(a),mc),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wc,this.targetCount=0,this.Kr=hs.Un()}forEachTarget(n,a){return this.Qr.forEach((r,c)=>a(c)),Q.resolve()}getLastRemoteSnapshotVersion(n){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Q.resolve(this.$r)}allocateTargetId(n){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(n,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.$r&&(this.$r=a),Q.resolve()}zn(n){this.Qr.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.Kr=new hs(a),this.highestTargetId=a),n.sequenceNumber>this.$r&&(this.$r=n.sequenceNumber)}addTargetData(n,a){return this.zn(a),this.targetCount+=1,Q.resolve()}updateTargetData(n,a){return this.zn(a),Q.resolve()}removeTargetData(n,a){return this.Qr.delete(a.target),this.Ur.br(a.targetId),this.targetCount-=1,Q.resolve()}removeTargets(n,a,r){let c=0;const f=[];return this.Qr.forEach((m,y)=>{y.sequenceNumber<=a&&r.get(y.targetId)===null&&(this.Qr.delete(m),f.push(this.removeMatchingKeysForTargetId(n,y.targetId)),c++)}),Q.waitFor(f).next(()=>c)}getTargetCount(n){return Q.resolve(this.targetCount)}getTargetData(n,a){const r=this.Qr.get(a)||null;return Q.resolve(r)}addMatchingKeys(n,a,r){return this.Ur.yr(a,r),Q.resolve()}removeMatchingKeys(n,a,r){this.Ur.Sr(a,r);const c=this.persistence.referenceDelegate,f=[];return c&&a.forEach(m=>{f.push(c.markPotentiallyOrphaned(n,m))}),Q.waitFor(f)}removeMatchingKeysForTargetId(n,a){return this.Ur.br(a),Q.resolve()}getMatchingKeysForTargetId(n,a){const r=this.Ur.vr(a);return Q.resolve(r)}containsKey(n,a){return Q.resolve(this.Ur.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(n,a){this.Wr={},this.overlays={},this.Gr=new Ql(0),this.zr=!1,this.zr=!0,this.jr=new hT,this.referenceDelegate=n(this),this.Hr=new gT(this),this.indexManager=new WE,this.remoteDocumentCache=function(c){return new dT(c)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new JE(a),this.Yr=new oT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new cT,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let r=this.Wr[n.toKey()];return r||(r=new fT(a,this.referenceDelegate),this.Wr[n.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(n,a,r){Z("MemoryPersistence","Starting transaction:",n);const c=new pT(this.Gr.next());return this.referenceDelegate.Zr(),r(c).next(f=>this.referenceDelegate.Xr(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}ei(n,a){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(n,a)))}}class pT extends j0{constructor(n){super(),this.currentSequenceNumber=n}}class Dc{constructor(n){this.persistence=n,this.ti=new wc,this.ni=null}static ri(n){return new Dc(n)}get ii(){if(this.ni)return this.ni;throw ct()}addReference(n,a,r){return this.ti.addReference(r,a),this.ii.delete(r.toString()),Q.resolve()}removeReference(n,a,r){return this.ti.removeReference(r,a),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(n,a){return this.ii.add(a.toString()),Q.resolve()}removeTarget(n,a){this.ti.br(a.targetId).forEach(c=>this.ii.add(c.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,a.targetId).next(c=>{c.forEach(f=>this.ii.add(f.toString()))}).next(()=>r.removeTargetData(n,a))}Zr(){this.ni=new Set}Xr(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const c=st.fromPath(r);return this.si(n,c).next(f=>{f||a.removeEntry(c,ot.min())})}).next(()=>(this.ni=null,a.apply(n)))}updateLimboDocument(n,a){return this.si(n,a).next(r=>{r?this.ii.delete(a.toString()):this.ii.add(a.toString())})}Jr(n){return 0}si(n,a){return Q.or([()=>Q.resolve(this.ti.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.ei(n,a)])}}class hu{constructor(n,a){this.persistence=n,this.oi=new fa(r=>K0(r.path),(r,c)=>r.isEqual(c)),this.garbageCollector=sT(this,a)}static ri(n,a){return new hu(n,a)}Zr(){}Xr(n){return Q.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}nr(n){const a=this.sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(r=>a.next(c=>r+c))}sr(n){let a=0;return this.rr(n,r=>{a++}).next(()=>a)}rr(n,a){return Q.forEach(this.oi,(r,c)=>this.ar(n,r,c).next(f=>f?Q.resolve():a(c)))}removeTargets(n,a,r){return this.persistence.getTargetCache().removeTargets(n,a,r)}removeOrphanedDocuments(n,a){let r=0;const c=this.persistence.getRemoteDocumentCache(),f=c.newChangeBuffer();return c.qr(n,m=>this.ar(n,m,a).next(y=>{y||(r++,f.removeEntry(m,ot.min()))})).next(()=>f.apply(n)).next(()=>r)}markPotentiallyOrphaned(n,a){return this.oi.set(a,n.currentSequenceNumber),Q.resolve()}removeTarget(n,a){const r=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,r)}addReference(n,a,r){return this.oi.set(r,n.currentSequenceNumber),Q.resolve()}removeReference(n,a,r){return this.oi.set(r,n.currentSequenceNumber),Q.resolve()}updateLimboDocument(n,a){return this.oi.set(a,n.currentSequenceNumber),Q.resolve()}Jr(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Jl(n.data.value)),a}ar(n,a,r){return Q.or([()=>this.persistence.ei(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const c=this.oi.get(a);return Q.resolve(c!==void 0&&c>r)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(n,a,r,c){this.targetId=n,this.fromCache=a,this.Hi=r,this.Ji=c}static Yi(n,a){let r=St(),c=St();for(const f of a.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Cc(n,a.fromCache,r,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hv()?8:G0(ov())>0?6:4}()}initialize(n,a){this.ns=n,this.indexManager=a,this.Zi=!0}getDocumentsMatchingQuery(n,a,r,c){const f={result:null};return this.rs(n,a).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.ss(n,a,c,r).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new yT;return this._s(n,a,m).next(y=>{if(f.result=y,this.Xi)return this.us(n,a,m,y.size)})}).next(()=>f.result)}us(n,a,r,c){return r.documentReadCount<this.es?(es()<=yt.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ls(a),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(es()<=yt.DEBUG&&Z("QueryEngine","Query:",ls(a),"scans",r.documentReadCount,"local documents and returns",c,"documents as results."),r.documentReadCount>this.ts*c?(es()<=yt.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ls(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Cn(a))):Q.resolve())}rs(n,a){if(lm(a))return Q.resolve(null);let r=Cn(a);return this.indexManager.getIndexType(n,r).next(c=>c===0?null:(a.limit!==null&&c===1&&(a=yc(a,null,"F"),r=Cn(a)),this.indexManager.getDocumentsMatchingTarget(n,r).next(f=>{const m=St(...f);return this.ns.getDocuments(n,m).next(y=>this.indexManager.getMinOffset(n,r).next(E=>{const T=this.cs(a,y);return this.ls(a,T,m,E.readTime)?this.rs(n,yc(a,null,"F")):this.hs(n,T,a,E)}))})))}ss(n,a,r,c){return lm(a)||c.isEqual(ot.min())?Q.resolve(null):this.ns.getDocuments(n,r).next(f=>{const m=this.cs(a,f);return this.ls(a,m,r,c)?Q.resolve(null):(es()<=yt.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),ls(a)),this.hs(n,m,a,q0(c,gr)).next(y=>y))})}cs(n,a){let r=new oe(om(n));return a.forEach((c,f)=>{nu(n,f)&&(r=r.add(f))}),r}ls(n,a,r,c){if(n.limit===null)return!1;if(r.size!==a.size)return!0;const f=n.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}_s(n,a,r){return es()<=yt.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ls(a)),this.ns.getDocumentsMatchingQuery(n,a,Ri.min(),r)}hs(n,a,r,c){return this.ns.getDocumentsMatchingQuery(n,r,c).next(f=>(a.forEach(m=>{f=f.insert(m.key,m)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="LocalStore",vT=3e8;class ET{constructor(n,a,r,c){this.persistence=n,this.Ps=a,this.serializer=c,this.Ts=new $t(ft),this.Is=new fa(f=>dc(f),mc),this.Es=new Map,this.ds=n.getRemoteDocumentCache(),this.Hr=n.getTargetCache(),this.Yr=n.getBundleCache(),this.As(r)}As(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new uT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.Ts))}}function TT(l,n,a,r){return new ET(l,n,a,r)}async function Hm(l,n){const a=_t(l);return await a.persistence.runTransaction("Handle user change","readonly",r=>{let c;return a.mutationQueue.getAllMutationBatches(r).next(f=>(c=f,a.As(n),a.mutationQueue.getAllMutationBatches(r))).next(f=>{const m=[],y=[];let E=St();for(const T of c){m.push(T.batchId);for(const w of T.mutations)E=E.add(w.key)}for(const T of f){y.push(T.batchId);for(const w of T.mutations)E=E.add(w.key)}return a.localDocuments.getDocuments(r,E).next(T=>({Rs:T,removedBatchIds:m,addedBatchIds:y}))})})}function Pm(l){const n=_t(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.Hr.getLastRemoteSnapshotVersion(a))}function AT(l,n){const a=_t(l),r=n.snapshotVersion;let c=a.Ts;return a.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=a.ds.newChangeBuffer({trackRemovals:!0});c=a.Ts;const y=[];n.targetChanges.forEach((w,B)=>{const H=c.get(B);if(!H)return;y.push(a.Hr.removeMatchingKeys(f,w.removedDocuments,B).next(()=>a.Hr.addMatchingKeys(f,w.addedDocuments,B)));let K=H.withSequenceNumber(f.currentSequenceNumber);n.targetMismatches.get(B)!==null?K=K.withResumeToken(Se.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):w.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(w.resumeToken,r)),c=c.insert(B,K),function(nt,W,kt){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=vT?!0:kt.addedDocuments.size+kt.modifiedDocuments.size+kt.removedDocuments.size>0}(H,K,w)&&y.push(a.Hr.updateTargetData(f,K))});let E=Ni(),T=St();if(n.documentUpdates.forEach(w=>{n.resolvedLimboDocuments.has(w)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(f,w))}),y.push(ST(f,m,n.documentUpdates).next(w=>{E=w.Vs,T=w.fs})),!r.isEqual(ot.min())){const w=a.Hr.getLastRemoteSnapshotVersion(f).next(B=>a.Hr.setTargetsMetadata(f,f.currentSequenceNumber,r));y.push(w)}return Q.waitFor(y).next(()=>m.apply(f)).next(()=>a.localDocuments.getLocalViewOfDocuments(f,E,T)).next(()=>E)}).then(f=>(a.Ts=c,f))}function ST(l,n,a){let r=St(),c=St();return a.forEach(f=>r=r.add(f)),n.getEntries(l,r).next(f=>{let m=Ni();return a.forEach((y,E)=>{const T=f.get(y);E.isFoundDocument()!==T.isFoundDocument()&&(c=c.add(y)),E.isNoDocument()&&E.version.isEqual(ot.min())?(n.removeEntry(y,E.readTime),m=m.insert(y,E)):!T.isValidDocument()||E.version.compareTo(T.version)>0||E.version.compareTo(T.version)===0&&T.hasPendingWrites?(n.addEntry(E),m=m.insert(y,E)):Z(Vc,"Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",E.version)}),{Vs:m,fs:c}})}function bT(l,n){const a=_t(l);return a.persistence.runTransaction("Allocate target","readwrite",r=>{let c;return a.Hr.getTargetData(r,n).next(f=>f?(c=f,Q.resolve(c)):a.Hr.allocateTargetId(r).next(m=>(c=new Mi(n,m,"TargetPurposeListen",r.currentSequenceNumber),a.Hr.addTargetData(r,c).next(()=>c))))}).then(r=>{const c=a.Ts.get(r.targetId);return(c===null||r.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(a.Ts=a.Ts.insert(r.targetId,r),a.Is.set(n,r.targetId)),r})}async function Nc(l,n,a){const r=_t(l),c=r.Ts.get(n),f=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",f,m=>r.persistence.referenceDelegate.removeTarget(m,c))}catch(m){if(!as(m))throw m;Z(Vc,`Failed to update sequence numbers for target ${n}: ${m}`)}r.Ts=r.Ts.remove(n),r.Is.delete(c.target)}function km(l,n,a){const r=_t(l);let c=ot.min(),f=St();return r.persistence.runTransaction("Execute query","readwrite",m=>function(E,T,w){const B=_t(E),H=B.Is.get(w);return H!==void 0?Q.resolve(B.Ts.get(H)):B.Hr.getTargetData(T,w)}(r,m,Cn(n)).next(y=>{if(y)return c=y.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(m,y.targetId).next(E=>{f=E})}).next(()=>r.Ps.getDocumentsMatchingQuery(m,n,a?c:ot.min(),a?f:St())).next(y=>(RT(r,gE(n),y),{documents:y,gs:f})))}function RT(l,n,a){let r=l.Es.get(n)||ot.min();a.forEach((c,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)}),l.Es.set(n,r)}class jm{constructor(){this.activeTargetIds=TE()}Ds(n){this.activeTargetIds=this.activeTargetIds.add(n)}vs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}bs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class wT{constructor(){this.ho=new jm,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,r){}addLocalQueryTarget(n,a=!0){return a&&this.ho.Ds(n),this.Po[n]||"not-current"}updateQueryState(n,a,r){this.Po[n]=a}removeLocalQueryTarget(n){this.ho.vs(n)}isLocalQueryTarget(n){return this.ho.activeTargetIds.has(n)}clearQueryState(n){delete this.Po[n]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(n){return this.ho.activeTargetIds.has(n)}start(){return this.ho=new jm,Promise.resolve()}handleUserChange(n,a,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{To(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="ConnectivityMonitor";class Qm{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(n){this.Vo.push(n)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Z(Gm,"Network connectivity changed: AVAILABLE");for(const n of this.Vo)n(0)}Ro(){Z(Gm,"Network connectivity changed: UNAVAILABLE");for(const n of this.Vo)n(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function Mc(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="RestConnection",CT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VT{get fo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.po=a+"://"+n.host,this.yo=`projects/${r}/databases/${c}`,this.wo=this.databaseId.database===Fl?`project_id=${r}`:`project_id=${r}&database_id=${c}`}So(n,a,r,c,f){const m=Mc(),y=this.bo(n,a.toUriEncodedString());Z(Oc,`Sending RPC '${n}' ${m}:`,y,r);const E={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(E,c,f),this.vo(n,y,E,r).then(T=>(Z(Oc,`Received RPC '${n}' ${m}: `,T),T),T=>{throw ns(Oc,`RPC '${n}' ${m} failed with error: `,T,"url: ",y,"request:",r),T})}Co(n,a,r,c,f,m){return this.So(n,a,r,c,f)}Do(n,a,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ts}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((c,f)=>n[f]=c),r&&r.headers.forEach((c,f)=>n[f]=c)}bo(n,a){const r=CT[n];return`${this.po}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(n){this.Fo=n.Fo,this.Mo=n.Mo}xo(n){this.Oo=n}No(n){this.Bo=n}Lo(n){this.ko=n}onMessage(n){this.qo=n}close(){this.Mo()}send(n){this.Fo(n)}Qo(){this.Oo()}$o(){this.Bo()}Uo(n){this.ko(n)}Ko(n){this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie="WebChannelConnection";class MT extends VT{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}vo(n,a,r,c){const f=Mc();return new Promise((m,y)=>{const E=new bd;E.setWithCredentials(!0),E.listenOnce(Rd.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case jl.NO_ERROR:const w=E.getResponseJson();Z(Ie,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(w)),m(w);break;case jl.TIMEOUT:Z(Ie,`RPC '${n}' ${f} timed out`),y(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case jl.HTTP_ERROR:const B=E.getStatus();if(Z(Ie,`RPC '${n}' ${f} failed with status:`,B,"response text:",E.getResponseText()),B>0){let H=E.getResponseJson();Array.isArray(H)&&(H=H[0]);const K=H==null?void 0:H.error;if(K&&K.status&&K.message){const J=function(W){const kt=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(kt)>=0?kt:X.UNKNOWN}(K.status);y(new at(J,K.message))}else y(new at(X.UNKNOWN,"Server responded with status "+E.getStatus()))}else y(new at(X.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Z(Ie,`RPC '${n}' ${f} completed.`)}});const T=JSON.stringify(c);Z(Ie,`RPC '${n}' ${f} sending request:`,c),E.send(a,"POST",T,r,15)})}Wo(n,a,r){const c=Mc(),f=[this.po,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=Cd(),y=Dd(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(E.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(E.useFetchStreams=!0),this.Do(E.initMessageHeaders,a,r),E.encodeInitMessageHeaders=!0;const w=f.join("");Z(Ie,`Creating RPC '${n}' stream ${c}: ${w}`,E);const B=m.createWebChannel(w,E);let H=!1,K=!1;const J=new NT({Fo:W=>{K?Z(Ie,`Not sending because RPC '${n}' stream ${c} is closed:`,W):(H||(Z(Ie,`Opening RPC '${n}' stream ${c} transport.`),B.open(),H=!0),Z(Ie,`RPC '${n}' stream ${c} sending:`,W),B.send(W))},Mo:()=>B.close()}),nt=(W,kt,Ct)=>{W.listen(kt,mt=>{try{Ct(mt)}catch(qt){setTimeout(()=>{throw qt},0)}})};return nt(B,mr.EventType.OPEN,()=>{K||(Z(Ie,`RPC '${n}' stream ${c} transport opened.`),J.Qo())}),nt(B,mr.EventType.CLOSE,()=>{K||(K=!0,Z(Ie,`RPC '${n}' stream ${c} transport closed`),J.Uo())}),nt(B,mr.EventType.ERROR,W=>{K||(K=!0,ns(Ie,`RPC '${n}' stream ${c} transport errored:`,W),J.Uo(new at(X.UNAVAILABLE,"The operation could not be completed")))}),nt(B,mr.EventType.MESSAGE,W=>{var kt;if(!K){const Ct=W.data[0];Kt(!!Ct);const mt=Ct,qt=(mt==null?void 0:mt.error)||((kt=mt[0])===null||kt===void 0?void 0:kt.error);if(qt){Z(Ie,`RPC '${n}' stream ${c} received error:`,qt);const be=qt.status;let It=function(R){const C=ie[R];if(C!==void 0)return Tm(C)}(be),V=qt.message;It===void 0&&(It=X.INTERNAL,V="Unknown error status: "+be+" with message "+qt.message),K=!0,J.Uo(new at(It,V)),B.close()}else Z(Ie,`RPC '${n}' stream ${c} received:`,Ct),J.Ko(Ct)}}),nt(y,wd.STAT_EVENT,W=>{W.stat===nc.PROXY?Z(Ie,`RPC '${n}' stream ${c} detected buffering proxy`):W.stat===nc.NOPROXY&&Z(Ie,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{J.$o()},0),J}}function Ic(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(l){return new BE(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(n,a,r=1e3,c=1.5,f=6e4){this.Ti=n,this.timerId=a,this.Go=r,this.zo=c,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(n){this.cancel();const a=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),c=Math.max(0,a-r);c>0&&Z("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ho} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,c,()=>(this.Yo=Date.now(),n())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="PersistentStream";class OT{constructor(n,a,r,c,f,m,y,E){this.Ti=n,this.n_=r,this.r_=c,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Ym(n,a)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(n){this.E_(),this.stream.send(n)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(n,a){this.E_(),this.d_(),this.a_.cancel(),this.i_++,n!==4?this.a_.reset():a&&a.code===X.RESOURCE_EXHAUSTED?(Yn(a.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):a&&a.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.Lo(a)}A_(){}auth(){this.state=1;const n=this.R_(this.i_),a=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,c])=>{this.i_===a&&this.V_(r,c)},r=>{n(()=>{const c=new at(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(c)})})}V_(n,a){const r=this.R_(this.i_);this.stream=this.f_(n,a),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(c=>{r(()=>this.m_(c))}),this.stream.onMessage(c=>{r(()=>++this.__==1?this.g_(c):this.onNext(c))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(n){return Z(Xm,`close with error: ${n}`),this.stream=null,this.close(4,n)}R_(n){return a=>{this.Ti.enqueueAndForget(()=>this.i_===n?a():(Z(Xm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IT extends OT{constructor(n,a,r,c,f,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,c,m),this.serializer=f}f_(n,a){return this.connection.Wo("Listen",n,a)}g_(n){return this.onNext(n)}onNext(n){this.a_.reset();const a=jE(this.serializer,n),r=function(f){if(!("targetChange"in f))return ot.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?ot.min():m.readTime?us(m.readTime):ot.min()}(n);return this.listener.p_(a,r)}y_(n){const a={};a.database=Nm(this.serializer),a.addTarget=function(f,m){let y;const E=m.target;if(y=gc(E)?{documents:GE(f,E)}:{query:QE(f,E).ht},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=HE(f,m.resumeToken);const T=Sc(f,m.expectedCount);T!==null&&(y.expectedCount=T)}else if(m.snapshotVersion.compareTo(ot.min())>0){y.readTime=qE(f,m.snapshotVersion.toTimestamp());const T=Sc(f,m.expectedCount);T!==null&&(y.expectedCount=T)}return y}(this.serializer,n);const r=YE(this.serializer,n);r&&(a.labels=r),this.I_(a)}w_(n){const a={};a.database=Nm(this.serializer),a.removeTarget=n,this.I_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class UT extends xT{constructor(n,a,r,c){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=r,this.serializer=c,this.F_=!1}M_(){if(this.F_)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(n,a,r,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.So(n,bc(a,r),c,f,m)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(X.UNKNOWN,f.toString())})}Co(n,a,r,c,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Co(n,bc(a,r),c,m,y,f)).catch(m=>{throw m.name==="FirebaseError"?(m.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new at(X.UNKNOWN,m.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zT{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(n){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.L_("Offline")))}set(n){this.Q_(),this.x_=0,n==="Online"&&(this.N_=!1),this.L_(n)}L_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}k_(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yn(a),this.N_=!1):Z("OnlineStateTracker",a)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class LT{constructor(n,a,r,c,f){this.localStore=n,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(m=>{r.enqueueAndForget(async()=>{Cr(this)&&(Z(fs,"Restarting streams for network reachability change."),await async function(E){const T=_t(E);T.W_.add(4),await Dr(T),T.j_.set("Unknown"),T.W_.delete(4),await du(T)}(this))})}),this.j_=new zT(r,c)}}async function du(l){if(Cr(l))for(const n of l.G_)await n(!0)}async function Dr(l){for(const n of l.G_)await n(!1)}function Fm(l,n){const a=_t(l);a.K_.has(n.targetId)||(a.K_.set(n.targetId,n),Lc(a)?zc(a):ds(a).c_()&&Uc(a,n))}function xc(l,n){const a=_t(l),r=ds(a);a.K_.delete(n),r.c_()&&Zm(a,n),a.K_.size===0&&(r.c_()?r.P_():Cr(a)&&a.j_.set("Unknown"))}function Uc(l,n){if(l.H_.Ne(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(ot.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}ds(l).y_(n)}function Zm(l,n){l.H_.Ne(n),ds(l).w_(n)}function zc(l){l.H_=new xE({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),lt:n=>l.K_.get(n)||null,it:()=>l.datastore.serializer.databaseId}),ds(l).start(),l.j_.B_()}function Lc(l){return Cr(l)&&!ds(l).u_()&&l.K_.size>0}function Cr(l){return _t(l).W_.size===0}function Jm(l){l.H_=void 0}async function BT(l){l.j_.set("Online")}async function qT(l){l.K_.forEach((n,a)=>{Uc(l,n)})}async function HT(l,n){Jm(l),Lc(l)?(l.j_.q_(n),zc(l)):l.j_.set("Unknown")}async function PT(l,n,a){if(l.j_.set("Online"),n instanceof Rm&&n.state===2&&n.cause)try{await async function(c,f){const m=f.cause;for(const y of f.targetIds)c.K_.has(y)&&(await c.remoteSyncer.rejectListen(y,m),c.K_.delete(y),c.H_.removeTarget(y))}(l,n)}catch(r){Z(fs,"Failed to remove targets %s: %s ",n.targetIds.join(","),r),await $m(l,r)}else if(n instanceof ou?l.H_.We(n):n instanceof bm?l.H_.Ze(n):l.H_.je(n),!a.isEqual(ot.min()))try{const r=await Pm(l.localStore);a.compareTo(r)>=0&&await function(f,m){const y=f.H_.ot(m);return y.targetChanges.forEach((E,T)=>{if(E.resumeToken.approximateByteSize()>0){const w=f.K_.get(T);w&&f.K_.set(T,w.withResumeToken(E.resumeToken,m))}}),y.targetMismatches.forEach((E,T)=>{const w=f.K_.get(E);if(!w)return;f.K_.set(E,w.withResumeToken(Se.EMPTY_BYTE_STRING,w.snapshotVersion)),Zm(f,E);const B=new Mi(w.target,E,T,w.sequenceNumber);Uc(f,B)}),f.remoteSyncer.applyRemoteEvent(y)}(l,a)}catch(r){Z(fs,"Failed to raise snapshot:",r),await $m(l,r)}}async function $m(l,n,a){if(!as(n))throw n;l.W_.add(1),await Dr(l),l.j_.set("Offline"),a||(a=()=>Pm(l.localStore)),l.asyncQueue.enqueueRetryable(async()=>{Z(fs,"Retrying IndexedDB access"),await a(),l.W_.delete(1),await du(l)})}async function Wm(l,n){const a=_t(l);a.asyncQueue.verifyOperationInProgress(),Z(fs,"RemoteStore received new credentials");const r=Cr(a);a.W_.add(3),await Dr(a),r&&a.j_.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.W_.delete(3),await du(a)}async function kT(l,n){const a=_t(l);n?(a.W_.delete(2),await du(a)):n||(a.W_.add(2),await Dr(a),a.j_.set("Unknown"))}function ds(l){return l.J_||(l.J_=function(a,r,c){const f=_t(a);return f.M_(),new IT(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{xo:BT.bind(null,l),No:qT.bind(null,l),Lo:HT.bind(null,l),p_:PT.bind(null,l)}),l.G_.push(async n=>{n?(l.J_.h_(),Lc(l)?zc(l):l.j_.set("Unknown")):(await l.J_.stop(),Jm(l))})),l.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(n,a,r,c,f){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=r,this.op=c,this.removalCallback=f,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,a,r,c,f){const m=Date.now()+r,y=new Bc(n,a,m,c,f);return y.start(r),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(l,n){if(Yn("AsyncQueue",`${n}: ${l}`),as(l))return new at(X.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(n){return new ms(n.comparator)}constructor(n){this.comparator=n?(a,r)=>n(a,r)||st.comparator(a.key,r.key):(a,r)=>st.comparator(a.key,r.key),this.keyedMap=Ar(),this.sortedSet=new $t(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,r)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof ms)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;a.hasNext();){const c=a.getNext().key,f=r.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const r=new ms;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Z_=new $t(st.comparator)}track(n){const a=n.doc.key,r=this.Z_.get(a);r?n.type!==0&&r.type===3?this.Z_=this.Z_.insert(a,n):n.type===3&&r.type!==1?this.Z_=this.Z_.insert(a,{type:r.type,doc:n.doc}):n.type===2&&r.type===2?this.Z_=this.Z_.insert(a,{type:2,doc:n.doc}):n.type===2&&r.type===0?this.Z_=this.Z_.insert(a,{type:0,doc:n.doc}):n.type===1&&r.type===0?this.Z_=this.Z_.remove(a):n.type===1&&r.type===2?this.Z_=this.Z_.insert(a,{type:1,doc:r.doc}):n.type===0&&r.type===1?this.Z_=this.Z_.insert(a,{type:2,doc:n.doc}):ct():this.Z_=this.Z_.insert(a,n)}X_(){const n=[];return this.Z_.inorderTraversal((a,r)=>{n.push(r)}),n}}class gs{constructor(n,a,r,c,f,m,y,E,T){this.query=n,this.docs=a,this.oldDocs=r,this.docChanges=c,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=E,this.hasCachedResults=T}static fromInitialDocuments(n,a,r,c,f){const m=[];return a.forEach(y=>{m.push({type:0,doc:y})}),new gs(n,a,ms.emptySet(a),m,r,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&eu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,r=n.docChanges;if(a.length!==r.length)return!1;for(let c=0;c<a.length;c++)if(a[c].type!==r[c].type||!a[c].doc.isEqual(r[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(n=>n.ra())}}class GT{constructor(){this.queries=ng(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(a,r){const c=_t(a),f=c.queries;c.queries=ng(),f.forEach((m,y)=>{for(const E of y.ta)E.onError(r)})})(this,new at(X.ABORTED,"Firestore shutting down"))}}function ng(){return new fa(l=>um(l),eu)}async function QT(l,n){const a=_t(l);let r=3;const c=n.query;let f=a.queries.get(c);f?!f.na()&&n.ra()&&(r=2):(f=new jT,r=n.ra()?0:1);try{switch(r){case 0:f.ea=await a.onListen(c,!0);break;case 1:f.ea=await a.onListen(c,!1);break;case 2:await a.onFirstRemoteStoreListen(c)}}catch(m){const y=tg(m,`Initialization of query '${ls(n.query)}' failed`);return void n.onError(y)}a.queries.set(c,f),f.ta.push(n),n.sa(a.onlineState),f.ea&&n.oa(f.ea)&&qc(a)}async function KT(l,n){const a=_t(l),r=n.query;let c=3;const f=a.queries.get(r);if(f){const m=f.ta.indexOf(n);m>=0&&(f.ta.splice(m,1),f.ta.length===0?c=n.ra()?0:1:!f.na()&&n.ra()&&(c=2))}switch(c){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function YT(l,n){const a=_t(l);let r=!1;for(const c of n){const f=c.query,m=a.queries.get(f);if(m){for(const y of m.ta)y.oa(c)&&(r=!0);m.ea=c}}r&&qc(a)}function XT(l,n,a){const r=_t(l),c=r.queries.get(n);if(c)for(const f of c.ta)f.onError(a);r.queries.delete(n)}function qc(l){l.ia.forEach(n=>{n.next()})}var Hc,ig;(ig=Hc||(Hc={}))._a="default",ig.Cache="cache";class FT{constructor(n,a,r){this.query=n,this.aa=a,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(n){if(!this.options.includeMetadataChanges){const r=[];for(const c of n.docChanges)c.type!==3&&r.push(c);n=new gs(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.ua?this.la(n)&&(this.aa.next(n),a=!0):this.ha(n,this.onlineState)&&(this.Pa(n),a=!0),this.ca=n,a}onError(n){this.aa.error(n)}sa(n){this.onlineState=n;let a=!1;return this.ca&&!this.ua&&this.ha(this.ca,n)&&(this.Pa(this.ca),a=!0),a}ha(n,a){if(!n.fromCache||!this.ra())return!0;const r=a!=="Offline";return(!this.options.Ta||!r)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}la(n){if(n.docChanges.length>0)return!0;const a=this.ca&&this.ca.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}Pa(n){n=gs.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.ua=!0,this.aa.next(n)}ra(){return this.options.source!==Hc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(n){this.key=n}}class sg{constructor(n){this.key=n}}class ZT{constructor(n,a){this.query=n,this.fa=a,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=St(),this.mutatedKeys=St(),this.ya=om(n),this.wa=new ms(this.ya)}get Sa(){return this.fa}ba(n,a){const r=a?a.Da:new eg,c=a?a.wa:this.wa;let f=a?a.mutatedKeys:this.mutatedKeys,m=c,y=!1;const E=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,T=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((w,B)=>{const H=c.get(w),K=nu(this.query,B)?B:null,J=!!H&&this.mutatedKeys.has(H.key),nt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;H&&K?H.data.isEqual(K.data)?J!==nt&&(r.track({type:3,doc:K}),W=!0):this.va(H,K)||(r.track({type:2,doc:K}),W=!0,(E&&this.ya(K,E)>0||T&&this.ya(K,T)<0)&&(y=!0)):!H&&K?(r.track({type:0,doc:K}),W=!0):H&&!K&&(r.track({type:1,doc:H}),W=!0,(E||T)&&(y=!0)),W&&(K?(m=m.add(K),f=nt?f.add(w):f.delete(w)):(m=m.delete(w),f=f.delete(w)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const w=this.query.limitType==="F"?m.last():m.first();m=m.delete(w.key),f=f.delete(w.key),r.track({type:1,doc:w})}return{wa:m,Da:r,ls:y,mutatedKeys:f}}va(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,r,c){const f=this.wa;this.wa=n.wa,this.mutatedKeys=n.mutatedKeys;const m=n.Da.X_();m.sort((w,B)=>function(K,J){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return nt(K)-nt(J)}(w.type,B.type)||this.ya(w.doc,B.doc)),this.Ca(r),c=c!=null&&c;const y=a&&!c?this.Fa():[],E=this.pa.size===0&&this.current&&!c?1:0,T=E!==this.ga;return this.ga=E,m.length!==0||T?{snapshot:new gs(this.query,n.wa,f,m,n.mutatedKeys,E===0,T,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(n){return!this.fa.has(n)&&!!this.wa.has(n)&&!this.wa.get(n).hasLocalMutations}Ca(n){n&&(n.addedDocuments.forEach(a=>this.fa=this.fa.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.fa=this.fa.delete(a)),this.current=n.current)}Fa(){if(!this.current)return[];const n=this.pa;this.pa=St(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const a=[];return n.forEach(r=>{this.pa.has(r)||a.push(new sg(r))}),this.pa.forEach(r=>{n.has(r)||a.push(new ag(r))}),a}Oa(n){this.fa=n.gs,this.pa=St();const a=this.ba(n.documents);return this.applyChanges(a,!0)}Na(){return gs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pc="SyncEngine";class JT{constructor(n,a,r){this.query=n,this.targetId=a,this.view=r}}class $T{constructor(n){this.key=n,this.Ba=!1}}class WT{constructor(n,a,r,c,f,m){this.localStore=n,this.remoteStore=a,this.eventManager=r,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.La={},this.ka=new fa(y=>um(y),eu),this.qa=new Map,this.Qa=new Set,this.$a=new $t(st.comparator),this.Ua=new Map,this.Ka=new wc,this.Wa={},this.Ga=new Map,this.za=hs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tA(l,n,a=!0){const r=fg(l);let c;const f=r.ka.get(n);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Na()):c=await rg(r,n,a,!0),c}async function eA(l,n){const a=fg(l);await rg(a,n,!0,!1)}async function rg(l,n,a,r){const c=await bT(l.localStore,Cn(n)),f=c.targetId,m=l.sharedClientState.addLocalQueryTarget(f,a);let y;return r&&(y=await nA(l,n,f,m==="current",c.resumeToken)),l.isPrimaryClient&&a&&Fm(l.remoteStore,c),y}async function nA(l,n,a,r,c){l.Ha=(B,H,K)=>async function(nt,W,kt,Ct){let mt=W.view.ba(kt);mt.ls&&(mt=await km(nt.localStore,W.query,!1).then(({documents:V})=>W.view.ba(V,mt)));const qt=Ct&&Ct.targetChanges.get(W.targetId),be=Ct&&Ct.targetMismatches.get(W.targetId)!=null,It=W.view.applyChanges(mt,nt.isPrimaryClient,qt,be);return cg(nt,W.targetId,It.Ma),It.snapshot}(l,B,H,K);const f=await km(l.localStore,n,!0),m=new ZT(n,f.gs),y=m.ba(f.documents),E=wr.createSynthesizedTargetChangeForCurrentChange(a,r&&l.onlineState!=="Offline",c),T=m.applyChanges(y,l.isPrimaryClient,E);cg(l,a,T.Ma);const w=new JT(n,a,m);return l.ka.set(n,w),l.qa.has(a)?l.qa.get(a).push(n):l.qa.set(a,[n]),T.snapshot}async function iA(l,n,a){const r=_t(l),c=r.ka.get(n),f=r.qa.get(c.targetId);if(f.length>1)return r.qa.set(c.targetId,f.filter(m=>!eu(m,n))),void r.ka.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(c.targetId),r.sharedClientState.isActiveQueryTarget(c.targetId)||await Nc(r.localStore,c.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(c.targetId),a&&xc(r.remoteStore,c.targetId),kc(r,c.targetId)}).catch(Gl)):(kc(r,c.targetId),await Nc(r.localStore,c.targetId,!0))}async function aA(l,n){const a=_t(l),r=a.ka.get(n),c=a.qa.get(r.targetId);a.isPrimaryClient&&c.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),xc(a.remoteStore,r.targetId))}async function lg(l,n){const a=_t(l);try{const r=await AT(a.localStore,n);n.targetChanges.forEach((c,f)=>{const m=a.Ua.get(f);m&&(Kt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Ba=!0:c.modifiedDocuments.size>0?Kt(m.Ba):c.removedDocuments.size>0&&(Kt(m.Ba),m.Ba=!1))}),await hg(a,r,n)}catch(r){await Gl(r)}}function ug(l,n,a){const r=_t(l);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const c=[];r.ka.forEach((f,m)=>{const y=m.view.sa(n);y.snapshot&&c.push(y.snapshot)}),function(m,y){const E=_t(m);E.onlineState=y;let T=!1;E.queries.forEach((w,B)=>{for(const H of B.ta)H.sa(y)&&(T=!0)}),T&&qc(E)}(r.eventManager,n),c.length&&r.La.p_(c),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function sA(l,n,a){const r=_t(l);r.sharedClientState.updateQueryState(n,"rejected",a);const c=r.Ua.get(n),f=c&&c.key;if(f){let m=new $t(st.comparator);m=m.insert(f,Oe.newNoDocument(f,ot.min()));const y=St().add(f),E=new uu(ot.min(),new Map,new $t(ft),m,y);await lg(r,E),r.$a=r.$a.remove(f),r.Ua.delete(n),jc(r)}else await Nc(r.localStore,n,!1).then(()=>kc(r,n,a)).catch(Gl)}function kc(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const r of l.qa.get(n))l.ka.delete(r),a&&l.La.Ja(r,a);l.qa.delete(n),l.isPrimaryClient&&l.Ka.br(n).forEach(r=>{l.Ka.containsKey(r)||og(l,r)})}function og(l,n){l.Qa.delete(n.path.canonicalString());const a=l.$a.get(n);a!==null&&(xc(l.remoteStore,a),l.$a=l.$a.remove(n),l.Ua.delete(a),jc(l))}function cg(l,n,a){for(const r of a)r instanceof ag?(l.Ka.addReference(r.key,n),rA(l,r)):r instanceof sg?(Z(Pc,"Document no longer in limbo: "+r.key),l.Ka.removeReference(r.key,n),l.Ka.containsKey(r.key)||og(l,r.key)):ct()}function rA(l,n){const a=n.key,r=a.path.canonicalString();l.$a.get(a)||l.Qa.has(r)||(Z(Pc,"New document in limbo: "+a),l.Qa.add(r),jc(l))}function jc(l){for(;l.Qa.size>0&&l.$a.size<l.maxConcurrentLimboResolutions;){const n=l.Qa.values().next().value;l.Qa.delete(n);const a=new st(Xt.fromString(n)),r=l.za.next();l.Ua.set(r,new $T(a)),l.$a=l.$a.insert(a,r),Fm(l.remoteStore,new Mi(Cn(pc(a.path)),r,"TargetPurposeLimboResolution",Ql.ae))}}async function hg(l,n,a){const r=_t(l),c=[],f=[],m=[];r.ka.isEmpty()||(r.ka.forEach((y,E)=>{m.push(r.Ha(E,n,a).then(T=>{var w;if((T||a)&&r.isPrimaryClient){const B=T?!T.fromCache:(w=a==null?void 0:a.targetChanges.get(E.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(E.targetId,B?"current":"not-current")}if(T){c.push(T);const B=Cc.Yi(E.targetId,T);f.push(B)}}))}),await Promise.all(m),r.La.p_(c),await async function(E,T){const w=_t(E);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>Q.forEach(T,H=>Q.forEach(H.Hi,K=>w.persistence.referenceDelegate.addReference(B,H.targetId,K)).next(()=>Q.forEach(H.Ji,K=>w.persistence.referenceDelegate.removeReference(B,H.targetId,K)))))}catch(B){if(!as(B))throw B;Z(Vc,"Failed to update sequence numbers: "+B)}for(const B of T){const H=B.targetId;if(!B.fromCache){const K=w.Ts.get(H),J=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion(J);w.Ts=w.Ts.insert(H,nt)}}}(r.localStore,f))}async function lA(l,n){const a=_t(l);if(!a.currentUser.isEqual(n)){Z(Pc,"User change. New user:",n.toKey());const r=await Hm(a.localStore,n);a.currentUser=n,function(f,m){f.Ga.forEach(y=>{y.forEach(E=>{E.reject(new at(X.CANCELLED,m))})}),f.Ga.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await hg(a,r.Rs)}}function uA(l,n){const a=_t(l),r=a.Ua.get(n);if(r&&r.Ba)return St().add(r.key);{let c=St();const f=a.qa.get(n);if(!f)return c;for(const m of f){const y=a.ka.get(m);c=c.unionWith(y.view.Sa)}return c}}function fg(l){const n=_t(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=lg.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=uA.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=sA.bind(null,n),n.La.p_=YT.bind(null,n.eventManager),n.La.Ja=XT.bind(null,n.eventManager),n}class mu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Km(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),await this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)}tu(n,a){return null}nu(n,a){return null}eu(n){return TT(this.persistence,new _T,n.initialUser,this.serializer)}Xa(n){return new qm(Dc.ri,this.serializer)}Za(n){return new wT}async terminate(){var n,a;(n=this.gcScheduler)===null||n===void 0||n.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mu.provider={build:()=>new mu};class oA extends mu{constructor(n){super(),this.cacheSizeBytes=n}tu(n,a){Kt(this.persistence.referenceDelegate instanceof hu);const r=this.persistence.referenceDelegate.garbageCollector;return new iT(r,n.asyncQueue,a)}Xa(n){const a=this.cacheSizeBytes!==void 0?Qe.withCacheSize(this.cacheSizeBytes):Qe.DEFAULT;return new qm(r=>hu.ri(r,a),this.serializer)}}class Gc{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ug(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lA.bind(null,this.syncEngine),await kT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new GT}()}createDatastore(n){const a=Km(n.databaseInfo.databaseId),r=function(f){return new MT(f)}(n.databaseInfo);return function(f,m,y,E){return new UT(f,m,y,E)}(n.authCredentials,n.appCheckCredentials,r,a)}createRemoteStore(n){return function(r,c,f,m,y){return new LT(r,c,f,m,y)}(this.localStore,this.datastore,n.asyncQueue,a=>ug(this.syncEngine,a,0),function(){return Qm.D()?new Qm:new DT}())}createSyncEngine(n,a){return function(c,f,m,y,E,T,w){const B=new WT(c,f,m,y,E,T);return w&&(B.ja=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await async function(c){const f=_t(c);Z(fs,"RemoteStore shutting down."),f.W_.add(5),await Dr(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}Gc.provider={build:()=>new Gc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.iu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.iu(this.observer.error,n):Yn("Uncaught Error in snapshot listener:",n.toString()))}su(){this.muted=!0}iu(n,a){setTimeout(()=>{this.muted||n(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="FirestoreClient";class hA{constructor(n,a,r,c,f){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=c,this.user=Me.UNAUTHENTICATED,this.clientId=xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,async m=>{Z(Oi,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(r,m=>(Z(Oi,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const r=tg(a,"Failed to shutdown persistence");n.reject(r)}}),n.promise}}async function Qc(l,n){l.asyncQueue.verifyOperationInProgress(),Z(Oi,"Initializing OfflineComponentProvider");const a=l.configuration;await n.initialize(a);let r=a.initialUser;l.setCredentialChangeListener(async c=>{r.isEqual(c)||(await Hm(n.localStore,c),r=c)}),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}async function dg(l,n){l.asyncQueue.verifyOperationInProgress();const a=await fA(l);Z(Oi,"Initializing OnlineComponentProvider"),await n.initialize(a,l.configuration),l.setCredentialChangeListener(r=>Wm(n.remoteStore,r)),l.setAppCheckTokenChangeListener((r,c)=>Wm(n.remoteStore,c)),l._onlineComponents=n}async function fA(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Z(Oi,"Using user provided OfflineComponentProvider");try{await Qc(l,l._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!function(c){return c.name==="FirebaseError"?c.code===X.FAILED_PRECONDITION||c.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(a))throw a;ns("Error using user provided cache. Falling back to memory cache: "+a),await Qc(l,new mu)}}else Z(Oi,"Using default OfflineComponentProvider"),await Qc(l,new oA(void 0));return l._offlineComponents}async function dA(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Z(Oi,"Using user provided OnlineComponentProvider"),await dg(l,l._uninitializedComponentsProvider._online)):(Z(Oi,"Using default OnlineComponentProvider"),await dg(l,new Gc))),l._onlineComponents}async function mA(l){const n=await dA(l),a=n.eventManager;return a.onListen=tA.bind(null,n.syncEngine),a.onUnlisten=iA.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=eA.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=aA.bind(null,n.syncEngine),a}function gA(l,n,a={}){const r=new ha;return l.asyncQueue.enqueueAndForget(async()=>function(f,m,y,E,T){const w=new cA({next:H=>{w.su(),m.enqueueAndForget(()=>KT(f,B));const K=H.docs.has(y);!K&&H.fromCache?T.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&H.fromCache&&E&&E.source==="server"?T.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(H)},error:H=>T.reject(H)}),B=new FT(pc(y.path),w,{includeMetadataChanges:!0,Ta:!0});return QT(f,B)}(await mA(l),l.asyncQueue,n,a,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(l,n,a){if(!a)throw new at(X.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function yA(l,n,a,r){if(n===!0&&r===!0)throw new at(X.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function pg(l){if(!st.isDocumentKey(l))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function _A(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=function(r){return r.constructor?r.constructor.name:null}(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":ct()}function Kc(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=_A(l);throw new at(X.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="firestore.googleapis.com",_g=!0;class vg{constructor(n){var a,r;if(n.host===void 0){if(n.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yg,this.ssl=_g}else this.host=n.host,this.ssl=(a=n.ssl)!==null&&a!==void 0?a:_g;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=zm;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<eT)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}yA("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mg((r=n.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(r,c){return r.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Yc{constructor(n,a,r,c){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=r,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N0;switch(r.type){case"firstParty":return new x0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const r=gg.get(a);r&&(Z("ComponentProvider","Removing Datastore"),gg.delete(a),r.terminate())}(this),Promise.resolve()}}function vA(l,n,a,r={}){var c;const f=(l=Kc(l,Yc))._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:l._getEmulatorOptions()}),y=`${n}:${a}`;f.host!==yg&&f.host!==y&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},f),{host:y,ssl:!1,emulatorOptions:r});if(!ql(E,m)&&(l._setSettings(E),r.mockUserToken)){let T,w;if(typeof r.mockUserToken=="string")T=r.mockUserToken,w=Me.MOCK_USER;else{T=uv(r.mockUserToken,(c=l._app)===null||c===void 0?void 0:c.options.projectId);const B=r.mockUserToken.sub||r.mockUserToken.user_id;if(!B)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Me(B)}l._authCredentials=new M0(new Md(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(n,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new Xc(this.firestore,n,this._query)}}class Xn{constructor(n,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Xn(this.firestore,n,this._key)}}class Vr extends Xc{constructor(n,a,r){super(n,a,pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Xn(this.firestore,null,new st(n))}withConverter(n){return new Vr(this.firestore,n,this._path)}}function EA(l,n,...a){if(l=yv(l),arguments.length===1&&(n=xd.newId()),pA("doc","path",n),l instanceof Yc){const r=Xt.fromString(n,...a);return pg(r),new Xn(l,null,new st(r))}{if(!(l instanceof Xn||l instanceof Vr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(Xt.fromString(n,...a));return pg(r),new Xn(l.firestore,l instanceof Vr?l.converter:null,new st(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="AsyncQueue";class Tg{constructor(n=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Ym(this,"async_queue_retry"),this.Su=()=>{const r=Ic();r&&Z(Eg,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=n;const a=Ic();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Du(),this.vu(n)}enterRestrictedMode(n){if(!this.mu){this.mu=!0,this.yu=n||!1;const a=Ic();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.Su)}}enqueue(n){if(this.Du(),this.mu)return new Promise(()=>{});const a=new ha;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Vu.push(n),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(n){if(!as(n))throw n;Z(Eg,"Operation failed with retryable error: "+n)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(n){const a=this.bu.then(()=>(this.pu=!0,n().catch(r=>{this.gu=r,this.pu=!1;const c=function(m){let y=m.message||"";return m.stack&&(y=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),y}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",c),r}).then(r=>(this.pu=!1,r))));return this.bu=a,a}enqueueAfterDelay(n,a,r){this.Du(),this.wu.indexOf(n)>-1&&(a=0);const c=Bc.createAndSchedule(this,n,a,r,f=>this.Fu(f));return this.fu.push(c),c}Du(){this.gu&&ct()}verifyOperationInProgress(){}async Mu(){let n;do n=this.bu,await n;while(n!==this.bu)}xu(n){for(const a of this.fu)if(a.timerId===n)return!0;return!1}Ou(n){return this.Mu().then(()=>{this.fu.sort((a,r)=>a.targetTimeMs-r.targetTimeMs);for(const a of this.fu)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Mu()})}Nu(n){this.wu.push(n)}Fu(n){const a=this.fu.indexOf(n);this.fu.splice(a,1)}}class Ag extends Yc{constructor(n,a,r,c){super(n,a,r,c),this.type="firestore",this._queue=new Tg,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Tg(n),this._firestoreClient=void 0,await n}}}function TA(l,n){const a=typeof l=="object"?l:v0(),r=typeof l=="string"?l:Fl,c=m0(a,"firestore").getImmediate({identifier:r});if(!c._initialized){const f=rv("firestore");f&&vA(c,...f)}return c}function AA(l){if(l._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||SA(l),l._firestoreClient}function SA(l){var n,a,r;const c=l._freezeSettings(),f=function(y,E,T,w){return new Z0(y,E,T,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,mg(w.experimentalLongPollingOptions),w.useFetchStreams)}(l._databaseId,((n=l._app)===null||n===void 0?void 0:n.options.appId)||"",l._persistenceKey,c);l._componentsProvider||!((a=c.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((r=c.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(l._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),l._firestoreClient=new hA(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(y){const E=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(E),_online:E}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new gu(Se.fromBase64String(n))}catch(a){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new gu(Se.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return ft(this._lat,n._lat)||ft(this._long,n._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(n){this._values=(n||[]).map(a=>a)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(r,c){if(r.length!==c.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==c[f])return!1;return!0}(this._values,n._values)}}const wA=new RegExp("[~\\*/\\[\\]]");function DA(l,n,a){if(n.search(wA)>=0)throw bg(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new Sg(...n.split("."))._internalPath}catch{throw bg(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function bg(l,n,a,r,c){let f=`Function ${n}() called with invalid data`;f+=". ";let m="";return new at(X.INVALID_ARGUMENT,f+l+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(n,a,r,c,f){this._firestore=n,this._userDataWriter=a,this._key=r,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new CA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(wg("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class CA extends Rg{data(){return super.data()}}function wg(l,n){return typeof n=="string"?DA(l,n):n instanceof Sg?n._internalPath:n._delegate._internalPath}class VA{convertValue(n,a="none"){switch(Vi(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Wt(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(Ci(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw ct()}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const r={};return pr(n,(c,f)=>{r[c]=this.convertValue(f,a)}),r}convertVectorValue(n){var a,r,c;const f=(c=(r=(a=n.fields)===null||a===void 0?void 0:a[lc].arrayValue)===null||r===void 0?void 0:r.values)===null||c===void 0?void 0:c.map(m=>Wt(m.doubleValue));return new RA(f)}convertGeoPoint(n){return new bA(Wt(n.latitude),Wt(n.longitude))}convertArray(n,a){return(n.values||[]).map(r=>this.convertValue(r,a))}convertServerTimestamp(n,a){switch(a){case"previous":const r=Xl(n);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(yr(n));default:return null}}convertTimestamp(n){const a=Di(n);return new Ge(a.seconds,a.nanos)}convertDocumentKey(n,a){const r=Xt.fromString(n);Kt(xm(r));const c=new _r(r.get(1),r.get(3)),f=new st(r.popFirst(5));return c.isEqual(a)||Yn(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Dg extends Rg{constructor(n,a,r,c,f,m){super(n,a,r,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new MA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const r=this._document.data.field(wg("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}}class MA extends Dg{data(n={}){return super.data(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(l){l=Kc(l,Xn);const n=Kc(l.firestore,Ag);return gA(AA(n),l._key).then(a=>xA(n,l,a))}class IA extends VA{constructor(n){super(),this.firestore=n}convertBytes(n){return new gu(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new Xn(this.firestore,null,a)}}function xA(l,n,a){const r=a.docs.get(n._key),c=new IA(l);return new Dg(l,c,n._key,r,new NA(a.hasPendingWrites,a.fromCache),n.converter)}(function(n,a=!0){(function(c){ts=c})(_0),Pl(new fr("firestore",(r,{instanceIdentifier:c,options:f})=>{const m=r.getProvider("app").getImmediate(),y=new Ag(new O0(r.getProvider("auth-internal")),new U0(m,r.getProvider("app-check-internal")),function(T,w){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _r(T.options.projectId,w)}(m,c),m);return f=Object.assign({useFetchStreams:a},f),y._setSettings(f),y},"PUBLIC").setMultipleInstances(!0)),Wa(Vd,Nd,n),Wa(Vd,Nd,"esm2017")})();var UA="firebase",zA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa(UA,zA,"app");const LA=pd({apiKey:"AIzaSyB-0TL358O140wB7PeuA_NIEBvQaoFHM9A",authDomain:"whatsapp-chatbot-33551.firebaseapp.com",projectId:"whatsapp-chatbot-33551",storageBucket:"whatsapp-chatbot-33551.firebasestorage.app",messagingSenderId:"340832961461",appId:"1:340832961461:web:27141c87178c87cdff8ffc",measurementId:"G-53HFLMV94E"}),BA=TA(LA);function Cg({chatbotSize:l,logoUrl:n,initialQuestions:a=[],backgroundColor:r,onQuestionClick:c,mode:f="dashboard"}){const[m,y]=or.useState(!0);return m?Pt.jsxs("div",{className:f==="dashboard"?"preview-panel":"",style:{display:m?"block":"none"},children:[f==="dashboard"&&Pt.jsxs("div",{className:"preview-header",children:[Pt.jsx("span",{children:"Preview Widget"}),Pt.jsxs("div",{className:"preview-actions",children:[Pt.jsx("span",{children:"Open"}),Pt.jsx("span",{className:"dropdown-icon",children:""})]})]}),Pt.jsxs("div",{className:`chatbot-preview ${l||"medium"}`,style:{backgroundColor:r||"#000000"},children:[Pt.jsxs("div",{className:"chatbot-header",children:[Pt.jsx("div",{className:"chatbot-icon",children:n?Pt.jsx("img",{src:n,alt:"Bot"}):Pt.jsx("span",{children:""})}),Pt.jsx("div",{className:"chatbot-title",children:"abc"})]}),Pt.jsxs("div",{className:"chatbot-body",children:[Pt.jsx("div",{className:"chatbot-message",children:"Select relevant question to start"}),Pt.jsx("div",{className:"chatbot-questions",children:a.map((E,T)=>Pt.jsx("div",{className:"chatbot-question",onClick:()=>c==null?void 0:c(E),children:E||"What are some features?"},T))}),Pt.jsx("div",{className:"chatbot-hint",children:"Click one, or type your own"}),Pt.jsxs("div",{className:"chatbot-input",children:[Pt.jsx("input",{type:"text",placeholder:"Type here..."}),Pt.jsx("button",{className:"send-btn",children:""})]}),Pt.jsx("div",{className:"chatbot-footer",children:"Powered by "})]})]}),f==="dashboard"&&Pt.jsx("button",{className:"test-btn",children:"Test"})]}):null}typeof window<"u"&&(window.mountChatbot=(l,n)=>{const a=document.getElementById(l);if(!a){console.error(`Container with id ${l} not found`);return}ReactDOM.createRoot(a).render(Pt.jsx(Cg,{chatbotId:n.chatbotId,initialQuestions:n.initialQuestions||[],backgroundColor:n.backgroundColor||"#000000",mode:"embed"}))});function Vg({chatbotId:l}){const[n,a]=or.useState(null);return or.useEffect(()=>{l&&(async()=>{try{const c=EA(BA,"chatbots",l),f=await OA(c);f.exists()&&a(f.data())}catch(c){console.error("Error fetching chatbot settings:",c)}})()},[l]),n?(console.log("settings from Firestore:",n),Pt.jsx(Cg,{chatbotSize:n.chatbotSize||"medium",logoUrl:n.logoUrl||"",initialQuestions:n.initialQuestions||[],backgroundColor:n.backgroundColor||"#000000",mode:"embed"})):null}return window.mountChatbot=(l,n)=>{const a=document.getElementById(l);a&&F_.createRoot(a).render(Pt.jsx(or.StrictMode,{children:Pt.jsx(Vg,{...n})}))},Vg}(React,ReactDOM);
