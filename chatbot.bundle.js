(function(){"use strict";function ed(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ko={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function Z_(){if(nd)return hs;nd=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:l,type:s,key:m,ref:c!==void 0?c:null,props:f}}return hs.Fragment=n,hs.jsx=a,hs.jsxs=a,hs}var id;function $_(){return id||(id=1,ko.exports=Z_()),ko.exports}var Xt=$_(),jo={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function J_(){if(ad)return pt;ad=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),L=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=L&&D[L]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,st={};function tt(D,K,W){this.props=D,this.context=K,this.refs=st,this.updater=W||X}tt.prototype.isReactComponent={},tt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},tt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function qt(){}qt.prototype=tt.prototype;function Mt(D,K,W){this.props=D,this.context=K,this.refs=st,this.updater=W||X}var _t=Mt.prototype=new qt;_t.constructor=Mt,et(_t,tt.prototype),_t.isPureReactComponent=!0;var Lt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function O(D,K,W,F,lt,Tt){return W=Tt.ref,{$$typeof:l,type:D,key:K,ref:W!==void 0?W:null,props:Tt}}function A(D,K){return O(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===l}function V(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return K[W]})}var N=/\/+/g;function I(D,K){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):K.toString(36)}function R(){}function Me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,K,W,F,lt){var Tt=typeof D;(Tt==="undefined"||Tt==="boolean")&&(D=null);var dt=!1;if(D===null)dt=!0;else switch(Tt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(D.$$typeof){case l:case n:dt=!0;break;case S:return dt=D._init,ne(dt(D._payload),K,W,F,lt)}}if(dt)return lt=lt(D),dt=F===""?"."+I(D,0):F,Lt(lt)?(W="",dt!=null&&(W=dt.replace(N,"$&/")+"/"),ne(lt,K,W,"",function(xn){return xn})):lt!=null&&(w(lt)&&(lt=A(lt,W+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(N,"$&/")+"/")+dt)),K.push(lt)),1;dt=0;var be=F===""?".":F+":";if(Lt(D))for(var Ft=0;Ft<D.length;Ft++)F=D[Ft],Tt=be+I(F,Ft),dt+=ne(F,K,W,Tt,lt);else if(Ft=P(D),typeof Ft=="function")for(D=Ft.call(D),Ft=0;!(F=D.next()).done;)F=F.value,Tt=be+I(F,Ft++),dt+=ne(F,K,W,Tt,lt);else if(Tt==="object"){if(typeof D.then=="function")return ne(Me(D),K,W,F,lt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return dt}function k(D,K,W){if(D==null)return D;var F=[],lt=0;return ne(D,F,"","",function(Tt){return K.call(W,Tt,lt++)}),F}function $(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var rt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return pt.Children={map:k,forEach:function(D,K,W){k(D,function(){K.apply(this,arguments)},W)},count:function(D){var K=0;return k(D,function(){K++}),K},toArray:function(D){return k(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},pt.Component=tt,pt.Fragment=a,pt.Profiler=c,pt.PureComponent=Mt,pt.StrictMode=s,pt.Suspense=v,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,pt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return gt.H.useMemoCache(D)}},pt.cache=function(D){return function(){return D.apply(null,arguments)}},pt.cloneElement=function(D,K,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var F=et({},D.props),lt=D.key,Tt=void 0;if(K!=null)for(dt in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(lt=""+K.key),K)!xt.call(K,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&K.ref===void 0||(F[dt]=K[dt]);var dt=arguments.length-2;if(dt===1)F.children=W;else if(1<dt){for(var be=Array(dt),Ft=0;Ft<dt;Ft++)be[Ft]=arguments[Ft+2];F.children=be}return O(D.type,lt,void 0,void 0,Tt,F)},pt.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},pt.createElement=function(D,K,W){var F,lt={},Tt=null;if(K!=null)for(F in K.key!==void 0&&(Tt=""+K.key),K)xt.call(K,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(lt[F]=K[F]);var dt=arguments.length-2;if(dt===1)lt.children=W;else if(1<dt){for(var be=Array(dt),Ft=0;Ft<dt;Ft++)be[Ft]=arguments[Ft+2];lt.children=be}if(D&&D.defaultProps)for(F in dt=D.defaultProps,dt)lt[F]===void 0&&(lt[F]=dt[F]);return O(D,Tt,void 0,void 0,null,lt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(D){return{$$typeof:y,render:D}},pt.isValidElement=w,pt.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:$}},pt.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},pt.startTransition=function(D){var K=gt.T,W={};gt.T=W;try{var F=D(),lt=gt.S;lt!==null&&lt(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Ut,rt)}catch(Tt){rt(Tt)}finally{gt.T=K}},pt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},pt.use=function(D){return gt.H.use(D)},pt.useActionState=function(D,K,W){return gt.H.useActionState(D,K,W)},pt.useCallback=function(D,K){return gt.H.useCallback(D,K)},pt.useContext=function(D){return gt.H.useContext(D)},pt.useDebugValue=function(){},pt.useDeferredValue=function(D,K){return gt.H.useDeferredValue(D,K)},pt.useEffect=function(D,K,W){var F=gt.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(D,K)},pt.useId=function(){return gt.H.useId()},pt.useImperativeHandle=function(D,K,W){return gt.H.useImperativeHandle(D,K,W)},pt.useInsertionEffect=function(D,K){return gt.H.useInsertionEffect(D,K)},pt.useLayoutEffect=function(D,K){return gt.H.useLayoutEffect(D,K)},pt.useMemo=function(D,K){return gt.H.useMemo(D,K)},pt.useOptimistic=function(D,K){return gt.H.useOptimistic(D,K)},pt.useReducer=function(D,K,W){return gt.H.useReducer(D,K,W)},pt.useRef=function(D){return gt.H.useRef(D)},pt.useState=function(D){return gt.H.useState(D)},pt.useSyncExternalStore=function(D,K,W){return gt.H.useSyncExternalStore(D,K,W)},pt.useTransition=function(){return gt.H.useTransition()},pt.version="19.1.0",pt}var rd;function Go(){return rd||(rd=1,jo.exports=J_()),jo.exports}var Qo=Go();const sd=ed(Qo);var Yo={exports:{}},fs={},Ko={exports:{}},Xo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function W_(){return ld||(ld=1,function(l){function n(k,$){var rt=k.length;k.push($);t:for(;0<rt;){var Ut=rt-1>>>1,D=k[Ut];if(0<c(D,$))k[Ut]=$,k[rt]=D,rt=Ut;else break t}}function a(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var $=k[0],rt=k.pop();if(rt!==$){k[0]=rt;t:for(var Ut=0,D=k.length,K=D>>>1;Ut<K;){var W=2*(Ut+1)-1,F=k[W],lt=W+1,Tt=k[lt];if(0>c(F,rt))lt<D&&0>c(Tt,F)?(k[Ut]=Tt,k[lt]=rt,Ut=lt):(k[Ut]=F,k[W]=rt,Ut=W);else if(lt<D&&0>c(Tt,rt))k[Ut]=Tt,k[lt]=rt,Ut=lt;else break t}}return $}function c(k,$){var rt=k.sortIndex-$.sortIndex;return rt!==0?rt:k.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();l.unstable_now=function(){return m.now()-y}}var v=[],_=[],S=1,L=null,P=3,X=!1,et=!1,st=!1,tt=!1,qt=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Lt(k){for(var $=a(_);$!==null;){if($.callback===null)s(_);else if($.startTime<=k)s(_),$.sortIndex=$.expirationTime,n(v,$);else break;$=a(_)}}function gt(k){if(st=!1,Lt(k),!et)if(a(v)!==null)et=!0,xt||(xt=!0,I());else{var $=a(_);$!==null&&ne(gt,$.startTime-k)}}var xt=!1,O=-1,A=5,w=-1;function V(){return tt?!0:!(l.unstable_now()-w<A)}function N(){if(tt=!1,xt){var k=l.unstable_now();w=k;var $=!0;try{t:{et=!1,st&&(st=!1,Mt(O),O=-1),X=!0;var rt=P;try{e:{for(Lt(k),L=a(v);L!==null&&!(L.expirationTime>k&&V());){var Ut=L.callback;if(typeof Ut=="function"){L.callback=null,P=L.priorityLevel;var D=Ut(L.expirationTime<=k);if(k=l.unstable_now(),typeof D=="function"){L.callback=D,Lt(k),$=!0;break e}L===a(v)&&s(v),Lt(k)}else s(v);L=a(v)}if(L!==null)$=!0;else{var K=a(_);K!==null&&ne(gt,K.startTime-k),$=!1}}break t}finally{L=null,P=rt,X=!1}$=void 0}}finally{$?I():xt=!1}}}var I;if(typeof _t=="function")I=function(){_t(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=N,I=function(){Me.postMessage(null)}}else I=function(){qt(N,0)};function ne(k,$){O=qt(function(){k(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return P},l.unstable_next=function(k){switch(P){case 1:case 2:case 3:var $=3;break;default:$=P}var rt=P;P=$;try{return k()}finally{P=rt}},l.unstable_requestPaint=function(){tt=!0},l.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var rt=P;P=k;try{return $()}finally{P=rt}},l.unstable_scheduleCallback=function(k,$,rt){var Ut=l.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Ut+rt:Ut):rt=Ut,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=rt+D,k={id:S++,callback:$,priorityLevel:k,startTime:rt,expirationTime:D,sortIndex:-1},rt>Ut?(k.sortIndex=rt,n(_,k),a(v)===null&&k===a(_)&&(st?(Mt(O),O=-1):st=!0,ne(gt,rt-Ut))):(k.sortIndex=D,n(v,k),et||X||(et=!0,xt||(xt=!0,I()))),k},l.unstable_shouldYield=V,l.unstable_wrapCallback=function(k){var $=P;return function(){var rt=P;P=$;try{return k.apply(this,arguments)}finally{P=rt}}}}(Xo)),Xo}var ud;function tv(){return ud||(ud=1,Ko.exports=W_()),Ko.exports}var Fo={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function ev(){if(od)return Be;od=1;var l=Go();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(v,_,S){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:L==null?null:""+L,children:v,containerInfo:_,implementation:S}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Be.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(v,_,null,S)},Be.flushSync=function(v){var _=m.T,S=s.p;try{if(m.T=null,s.p=2,v)return v()}finally{m.T=_,s.p=S,s.d.f()}},Be.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Be.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Be.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,L=y(S,_.crossOrigin),P=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:L,integrity:P,fetchPriority:X}):S==="script"&&s.d.X(v,{crossOrigin:L,integrity:P,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Be.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Be.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,L=y(S,_.crossOrigin);s.d.L(v,S,{crossOrigin:L,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Be.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Be.requestFormReset=function(v){s.d.r(v)},Be.unstable_batchedUpdates=function(v,_){return v(_)},Be.useFormState=function(v,_,S){return m.H.useFormState(v,_,S)},Be.useFormStatus=function(){return m.H.useHostTransitionStatus()},Be.version="19.1.0",Be}var cd;function nv(){if(cd)return Fo.exports;cd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Fo.exports=ev(),Fo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function iv(){if(hd)return fs;hd=1;var l=tv(),n=Go(),a=nv();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(s(188))}function v(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var i=t,r=e;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return y(o),t;if(h===r)return y(o),e;h=h.sibling}throw Error(s(188))}if(i.return!==r.return)i=o,r=h;else{for(var p=!1,E=o.child;E;){if(E===i){p=!0,i=o,r=h;break}if(E===r){p=!0,r=o,i=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===i){p=!0,i=h,r=o;break}if(E===r){p=!0,r=h,i=o;break}E=E.sibling}if(!p)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,L=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),qt=Symbol.for("react.provider"),Mt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case tt:return"Profiler";case st:return"StrictMode";case gt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case Mt:return(t._context.displayName||"Context")+".Consumer";case Lt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return e=t.displayName||null,e!==null?e:Me(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return Me(t(e))}catch{}}return null}var ne=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function K(t){return{current:t}}function W(t){0>D||(t.current=Ut[D],Ut[D]=null,D--)}function F(t,e){D++,Ut[D]=t.current,t.current=e}var lt=K(null),Tt=K(null),dt=K(null),be=K(null);function Ft(t,e){switch(F(dt,e),F(Tt,t),F(lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=b_(e),t=R_(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(lt),F(lt,t)}function xn(){W(lt),W(Tt),W(dt)}function Li(t){t.memoizedState!==null&&F(be,t);var e=lt.current,i=R_(e,t.type);e!==i&&(F(Tt,t),F(lt,i))}function ti(t){Tt.current===t&&(W(lt),W(Tt)),be.current===t&&(W(be),xl._currentValue=rt)}var _a=Object.prototype.hasOwnProperty,va=l.unstable_scheduleCallback,Ea=l.unstable_cancelCallback,Ns=l.unstable_shouldYield,yu=l.unstable_requestPaint,cn=l.unstable_now,th=l.unstable_getCurrentPriorityLevel,Ms=l.unstable_ImmediatePriority,vr=l.unstable_UserBlockingPriority,Ta=l.unstable_NormalPriority,eh=l.unstable_LowPriority,Er=l.unstable_IdlePriority,Is=l.log,_u=l.unstable_setDisableYieldValue,ie=null,Ht=null;function tn(t){if(typeof Is=="function"&&_u(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ie,t)}catch{}}var ke=Math.clz32?Math.clz32:Aa,vu=Math.log,nh=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(vu(t)/nh|0)|0}var Sa=256,ba=4194304;function Sn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tr(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~h,r!==0?o=Sn(r):(p&=E,p!==0?o=Sn(p):i||(i=E&~t,i!==0&&(o=Sn(i))))):(E=r&~h,E!==0?o=Sn(E):p!==0?o=Sn(p):i||(i=r&~t,i!==0&&(o=Sn(i)))),o===0?0:e!==0&&e!==o&&(e&h)===0&&(h=o&-o,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:o}function Ra(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function xs(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var t=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),t}function zs(){var t=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),t}function ei(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ni(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,e,i,r,o,h){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(i=p&~i;0<i;){var j=31-ke(i),Q=1<<j;E[j]=0,b[j]=-1;var B=z[j];if(B!==null)for(z[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}i&=~Q}r!==0&&Un(t,r,0),h!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~e))}function Un(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-ke(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&4194090}function Bs(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-ke(i),o=1<<r;o&e|t[r]&e&&(t[r]|=e),i&=~o}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qi(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Eu(t,e){var i=$.p;try{return $.p=t,e()}finally{$.p=i}}var $t=Math.random().toString(36).slice(2),_e="__reactFiber$"+$t,fe="__reactProps$"+$t,hn="__reactContainer$"+$t,qs="__reactEvents$"+$t,ih="__reactListeners$"+$t,Hi="__reactHandles$"+$t,Tu="__reactResources$"+$t,wa="__reactMarker$"+$t;function Pi(t){delete t[_e],delete t[fe],delete t[qs],delete t[ih],delete t[Hi]}function ii(t){var e=t[_e];if(e)return e;for(var i=t.parentNode;i;){if(e=i[hn]||i[_e]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=V_(t);t!==null;){if(i=t[_e])return i;t=V_(t)}return e}t=i,i=t.parentNode}return null}function zn(t){if(t=t[_e]||t[hn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ln(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function Qe(t){var e=t[Tu];return e||(e=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ue(t){t[wa]=!0}var Hs=new Set,Sr={};function bn(t,e){ai(t,e),ai(t+"Capture",e)}function ai(t,e){for(Sr[t]=e,t=0;t<e.length;t++)Hs.add(e[t])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},Da={};function bu(t){return _a.call(Da,t)?!0:_a.call(Su,t)?!1:Au.test(t)?Da[t]=!0:(Su[t]=!0,!1)}function ki(t,e,i){if(bu(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Bn(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Ie(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}var Ca,Ru;function ri(t){if(Ca===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ca=e&&e[1]||"",Ru=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+t+Ru}var br=!1;function Rr(t,e){if(!t||br)return"";br=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){B=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var b=p.split(`
`),z=E.split(`
`);for(o=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(r===b.length||o===z.length)for(r=b.length-1,o=z.length-1;1<=r&&0<=o&&b[r]!==z[o];)o--;for(;1<=r&&0<=o;r--,o--)if(b[r]!==z[o]){if(r!==1||o!==1)do if(r--,o--,0>o||b[r]!==z[o]){var j=`
`+b[r].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=r&&0<=o);break}}}finally{br=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ri(i):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return ri("Activity");default:return""}}function wr(t){try{var e="";do e+=Ps(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ah(t){var e=ks(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,h=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(p){r=""+p,h.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dr(t){t._valueTracker||(t._valueTracker=ah(t))}function js(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=ks(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rh=/[\n"\\]/g;function de(t){return t.replace(rh,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function en(t,e,i,r,o,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ye(e)):t.value!==""+Ye(e)&&(t.value=""+Ye(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?ji(t,p,Ye(e)):i!=null?ji(t,p,Ye(i)):r!=null&&t.removeAttribute("value"),o==null&&h!=null&&(t.defaultChecked=!!h),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Oa(t,e,i,r,o,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;i=i!=null?""+Ye(i):"",e=e!=null?""+Ye(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function ji(t,e,i){e==="number"&&Va(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function si(t,e,i,r){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Ye(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function jt(t,e,i){if(e!=null&&(e=""+Ye(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ye(i):""}function Na(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(s(92));if(ne(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Ye(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r)}function fn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Ma.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Gs(t,e,i){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var o in e)r=e[o],e.hasOwnProperty(o)&&i[o]!==r&&wu(t,o,r)}else for(var h in e)e.hasOwnProperty(h)&&wu(t,h,e[h])}function Qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function Ys(t){var e=zn(t);if(e&&(t=e.stateNode)){var i=t[fe]||null;t:switch(t=e.stateNode,e.type){case"input":if(en(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+de(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var o=r[fe]||null;if(!o)throw Error(s(90));en(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&js(r)}break t;case"textarea":jt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&si(t,!!i.multiple,e,!1)}}}var qn=!1;function Du(t,e,i){if(qn)return t(e,i);qn=!0;try{var r=t(e);return r}finally{if(qn=!1,(ui!==null||oi!==null)&&(To(),ui&&(e=ui,t=oi,oi=ui=null,Ys(e),t)))for(e=0;e<t.length;e++)Ys(t[e])}}function Ia(t,e){var i=t.stateNode;if(i===null)return null;var r=i[fe]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,e,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Rn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){mn=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{mn=!1}var Hn=null,Gi=null,ci=null;function Ks(){if(ci)return ci;var t,e=Gi,i=e.length,r,o="value"in Hn?Hn.value:Hn.textContent,h=o.length;for(t=0;t<i&&e[t]===o[t];t++);var p=i-t;for(r=1;r<=p&&e[i-r]===o[h-r];r++);return ci=o.slice(t,1<r?1-r:void 0)}function Pn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Xs(){return!1}function Re(t){function e(i,r,o,h,p){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kn:Xs,this.isPropagationStopped=Xs,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),e}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=Re(Bt),Ua=S({},Bt,{view:0,detail:0}),Cu=Re(Ua),Or,Nr,jn,za=S({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Or=t.screenX-jn.screenX,Nr=t.screenY-jn.screenY):Nr=Or=0,jn=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),gn=Re(za),Vu=S({},za,{dataTransfer:0}),uh=Re(Vu),La=S({},Ua,{relatedTarget:0}),Mr=Re(La),Fs=S({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Re(Fs),Ou=S({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xr=Re(Ou),oh=S({},Bt,{data:0}),Zs=Re(oh),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mu[t])?!!e[t]:!1}function qa(){return $s}var Iu=S({},Ua,{key:function(t){if(t.key){var e=Ba[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Pn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ur=Re(Iu),xu=S({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=Re(xu),hi=S({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Uu=Re(hi),zu=S({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Re(zu),Bu=S({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=Re(Bu),Ke=S({},Bt,{newState:0,oldState:0}),qu=Re(Ke),Hu=[9,13,27,32],Gn=Rn&&"CompositionEvent"in window,u=null;Rn&&"documentMode"in document&&(u=document.documentMode);var d=Rn&&"TextEvent"in window&&!u,g=Rn&&(!Gn||u&&8<u&&11>=u),T=" ",x=!1;function H(t,e){switch(t){case"keyup":return Hu.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ct=!1;function ve(t,e){switch(t){case"compositionend":return Z(e);case"keypress":return e.which!==32?null:(x=!0,T);case"textInput":return t=e.data,t===T&&x?null:t;default:return null}}function Vt(t,e){if(Ct)return t==="compositionend"||!Gn&&H(t,e)?(t=Ks(),ci=Gi=Hn=null,Ct=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!we[t.type]:e==="textarea"}function fi(t,e,i,r){ui?oi?oi.push(r):oi=[r]:ui=r,e=Do(e,"onChange"),0<e.length&&(i=new Vr("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var xe=null,Qn=null;function Ws(t){v_(t,0)}function Pu(t){var e=Ln(t);if(js(e))return t}function Hg(t,e){if(t==="change")return e}var Pg=!1;if(Rn){var ch;if(Rn){var hh="oninput"in document;if(!hh){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),hh=typeof kg.oninput=="function"}ch=hh}else ch=!1;Pg=ch&&(!document.documentMode||9<document.documentMode)}function jg(){xe&&(xe.detachEvent("onpropertychange",Gg),Qn=xe=null)}function Gg(t){if(t.propertyName==="value"&&Pu(Qn)){var e=[];fi(e,Qn,t,dn(t)),Du(Ws,e)}}function $A(t,e,i){t==="focusin"?(jg(),xe=e,Qn=i,xe.attachEvent("onpropertychange",Gg)):t==="focusout"&&jg()}function JA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Qn)}function WA(t,e){if(t==="click")return Pu(e)}function tS(t,e){if(t==="input"||t==="change")return Pu(e)}function eS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:eS;function tl(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!_a.call(e,o)||!nn(t[o],e[o]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,e){var i=Qg(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Qg(i)}}function Kg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Va(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Va(t.document)}return e}function fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var nS=Rn&&"documentMode"in document&&11>=document.documentMode,Lr=null,dh=null,el=null,mh=!1;function Fg(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mh||Lr==null||Lr!==Va(r)||(r=Lr,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&tl(el,r)||(el=r,r=Do(dh,"onSelect"),0<r.length&&(e=new Vr("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Lr)))}function Ha(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Br={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},gh={},Zg={};Rn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Pa(t){if(gh[t])return gh[t];if(!Br[t])return t;var e=Br[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Zg)return gh[t]=e[i];return t}var $g=Pa("animationend"),Jg=Pa("animationiteration"),Wg=Pa("animationstart"),iS=Pa("transitionrun"),aS=Pa("transitionstart"),rS=Pa("transitioncancel"),tp=Pa("transitionend"),ep=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function wn(t,e){ep.set(t,e),bn(e,[t])}var np=new WeakMap;function pn(t,e){if(typeof t=="object"&&t!==null){var i=np.get(t);return i!==void 0?i:(e={value:t,source:e,stack:wr(e)},np.set(t,e),e)}return{value:t,source:e,stack:wr(e)}}var yn=[],qr=0,yh=0;function ku(){for(var t=qr,e=yh=qr=0;e<t;){var i=yn[e];yn[e++]=null;var r=yn[e];yn[e++]=null;var o=yn[e];yn[e++]=null;var h=yn[e];if(yn[e++]=null,r!==null&&o!==null){var p=r.pending;p===null?o.next=o:(o.next=p.next,p.next=o),r.pending=o}h!==0&&ip(i,o,h)}}function ju(t,e,i,r){yn[qr++]=t,yn[qr++]=e,yn[qr++]=i,yn[qr++]=r,yh|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function _h(t,e,i,r){return ju(t,e,i,r),Gu(t)}function Hr(t,e){return ju(t,null,null,e),Gu(t)}function ip(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var o=!1,h=t.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(o=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,o&&e!==null&&(o=31-ke(i),t=h.hiddenUpdates,r=t[o],r===null?t[o]=[e]:r.push(e),e.lane=i|536870912),h):null}function Gu(t){if(50<wl)throw wl=0,Rf=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Pr={};function sS(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,i,r){return new sS(t,e,i,r)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,e){var i=t.alternate;return i===null?(i=an(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ap(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Qu(t,e,i,r,o,h){var p=0;if(r=t,typeof t=="function")vh(t)&&(p=1);else if(typeof t=="string")p=u1(t,i,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,i,e,o),t.elementType=w,t.lanes=h,t;case et:return ka(i.children,o,h,e);case st:p=8,o|=24;break;case tt:return t=an(12,i,e,o|2),t.elementType=tt,t.lanes=h,t;case gt:return t=an(13,i,e,o),t.elementType=gt,t.lanes=h,t;case xt:return t=an(19,i,e,o),t.elementType=xt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qt:case _t:p=10;break t;case Mt:p=9;break t;case Lt:p=11;break t;case O:p=14;break t;case A:p=16,r=null;break t}p=29,i=Error(s(130,t===null?"null":typeof t,"")),r=null}return e=an(p,i,e,o),e.elementType=t,e.type=r,e.lanes=h,e}function ka(t,e,i,r){return t=an(7,t,r,e),t.lanes=i,t}function Eh(t,e,i){return t=an(6,t,null,e),t.lanes=i,t}function Th(t,e,i){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var kr=[],jr=0,Yu=null,Ku=0,_n=[],vn=0,ja=null,mi=1,gi="";function Ga(t,e){kr[jr++]=Ku,kr[jr++]=Yu,Yu=t,Ku=e}function rp(t,e,i){_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=ja,ja=t;var r=mi;t=gi;var o=32-ke(r)-1;r&=~(1<<o),i+=1;var h=32-ke(e)+o;if(30<h){var p=o-o%5;h=(r&(1<<p)-1).toString(32),r>>=p,o-=p,mi=1<<32-ke(e)+o|i<<o|r,gi=h+t}else mi=1<<h|i<<o|r,gi=t}function Ah(t){t.return!==null&&(Ga(t,1),rp(t,1,0))}function Sh(t){for(;t===Yu;)Yu=kr[--jr],kr[jr]=null,Ku=kr[--jr],kr[jr]=null;for(;t===ja;)ja=_n[--vn],_n[vn]=null,gi=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null}var Xe=null,ae=null,zt=!1,Qa=null,Yn=!1,bh=Error(s(519));function Ya(t){var e=Error(s(418,""));throw al(pn(e,t)),bh}function sp(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[_e]=t,e[fe]=r,i){case"dialog":bt("cancel",e),bt("close",e);break;case"iframe":case"object":case"embed":bt("load",e);break;case"video":case"audio":for(i=0;i<Cl.length;i++)bt(Cl[i],e);break;case"source":bt("error",e);break;case"img":case"image":case"link":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"input":bt("invalid",e),Oa(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Dr(e);break;case"select":bt("invalid",e);break;case"textarea":bt("invalid",e),Na(e,r.value,r.defaultValue,r.children),Dr(e)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||S_(e.textContent,i)?(r.popover!=null&&(bt("beforetoggle",e),bt("toggle",e)),r.onScroll!=null&&bt("scroll",e),r.onScrollEnd!=null&&bt("scrollend",e),r.onClick!=null&&(e.onclick=Co),e=!0):e=!1,e||Ya(t)}function lp(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xe=Xe.return}}function nl(t){if(t!==Xe)return!1;if(!zt)return lp(t),zt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Pf(t.type,t.memoizedProps)),i=!i),i&&ae&&Ya(t),lp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){ae=Cn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}ae=null}}else e===27?(e=ae,sa(t.type)?(t=Qf,Qf=null,ae=t):ae=e):ae=Xe?Cn(t.stateNode.nextSibling):null;return!0}function il(){ae=Xe=null,zt=!1}function up(){var t=Qa;return t!==null&&(We===null?We=t:We.push.apply(We,t),Qa=null),t}function al(t){Qa===null?Qa=[t]:Qa.push(t)}var Rh=K(null),Ka=null,pi=null;function Qi(t,e,i){F(Rh,e._currentValue),e._currentValue=i}function yi(t){t._currentValue=Rh.current,W(Rh)}function wh(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function Dh(t,e,i,r){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){var p=o.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=o;for(var b=0;b<e.length;b++)if(E.context===e[b]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),wh(h.return,i,t),r||(p=null);break t}h=E.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(s(341));p.lanes|=i,h=p.alternate,h!==null&&(h.lanes|=i),wh(p,i,t),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function rl(t,e,i,r){t=null;for(var o=e,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=o.type;nn(o.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(o===be.current){if(p=o.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}o=o.return}t!==null&&Dh(e,t,i,r),e.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xa(t){Ka=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return op(Ka,t)}function Fu(t,e){return Ka===null&&Xa(t),op(t,e)}function op(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},pi===null){if(t===null)throw Error(s(308));pi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else pi=pi.next=e;return i}var lS=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},uS=l.unstable_scheduleCallback,oS=l.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new lS,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&uS(oS,function(){t.controller.abort()})}var ll=null,Vh=0,Gr=0,Qr=null;function cS(t,e){if(ll===null){var i=ll=[];Vh=0,Gr=Mf(),Qr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Vh++,e.then(cp,cp),e}function cp(){if(--Vh===0&&ll!==null){Qr!==null&&(Qr.status="fulfilled");var t=ll;ll=null,Gr=0,Qr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function hS(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var o=0;o<i.length;o++)(0,i[o])(e)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var hp=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&cS(t,e),hp!==null&&hp(t,e)};var Fa=K(null);function Oh(){var t=Fa.current;return t!==null?t:Zt.pooledCache}function Zu(t,e){e===null?F(Fa,Fa.current):F(Fa,e.pool)}function fp(){var t=Oh();return t===null?null:{parent:Te._currentValue,pool:t}}var ul=Error(s(460)),dp=Error(s(474)),$u=Error(s(542)),Nh={then:function(){}};function mp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function gp(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Ju,Ju),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yp(t),t;default:if(typeof e.status=="string")e.then(Ju,Ju);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=r}},function(r){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yp(t),t}throw ol=e,ul}}var ol=null;function pp(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function yp(t){if(t===ul||t===$u)throw Error(s(483))}var Yi=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Pt&2)!==0){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,e=Gu(t),ip(t,null,i),e}return ju(t,r,e,i),Gu(t)}function cl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Bs(t,i)}}function xh(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?o=h=e:h=h.next=e}else o=h=e;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Uh=!1;function hl(){if(Uh){var t=Qr;if(t!==null)throw t}}function fl(t,e,i,r){Uh=!1;var o=t.updateQueue;Yi=!1;var h=o.firstBaseUpdate,p=o.lastBaseUpdate,E=o.shared.pending;if(E!==null){o.shared.pending=null;var b=E,z=b.next;b.next=null,p===null?h=z:p.next=z,p=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==p&&(E===null?j.firstBaseUpdate=z:E.next=z,j.lastBaseUpdate=b))}if(h!==null){var Q=o.baseState;p=0,j=z=b=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(r&B)===B){B!==0&&B===Gr&&(Uh=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ut=E;B=e;var Yt=i;switch(ut.tag){case 1:if(ft=ut.payload,typeof ft=="function"){Q=ft.call(Yt,Q,B);break t}Q=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ut.payload,B=typeof ft=="function"?ft.call(Yt,Q,B):ft,B==null)break t;Q=S({},Q,B);break t;case 2:Yi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=o.callbacks,q===null?o.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(z=j=q,b=Q):j=j.next=q,p|=B;if(E=E.next,E===null){if(E=o.shared.pending,E===null)break;q=E,E=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);j===null&&(b=Q),o.baseState=b,o.firstBaseUpdate=z,o.lastBaseUpdate=j,h===null&&(o.shared.lanes=0),na|=p,t.lanes=p,t.memoizedState=Q}}function _p(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function vp(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)_p(i[t],e)}var Yr=K(null),Wu=K(0);function Ep(t,e){t=bi,F(Wu,t),F(Yr,e),bi=t|e.baseLanes}function zh(){F(Wu,bi),F(Yr,Yr.current)}function Lh(){bi=Wu.current,W(Yr),W(Wu)}var Fi=0,vt=null,Gt=null,me=null,to=!1,Kr=!1,Za=!1,eo=0,dl=0,Xr=null,fS=0;function oe(){throw Error(s(321))}function Bh(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!nn(t[i],e[i]))return!1;return!0}function qh(t,e,i,r,o,h){return Fi=h,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?iy:ay,Za=!1,h=i(r,o),Za=!1,Kr&&(h=Ap(e,i,r,o)),Tp(t),h}function Tp(t){k.H=lo;var e=Gt!==null&&Gt.next!==null;if(Fi=0,me=Gt=vt=null,to=!1,dl=0,Xr=null,e)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Xu(t)&&(De=!0))}function Ap(t,e,i,r){vt=t;var o=0;do{if(Kr&&(Xr=null),dl=0,Kr=!1,25<=o)throw Error(s(301));if(o+=1,me=Gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=vS,h=e(i,r)}while(Kr);return h}function dS(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?ml(e):e,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(vt.flags|=1024),e}function Hh(){var t=eo!==0;return eo=0,t}function Ph(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function kh(t){if(to){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}to=!1}Fi=0,me=Gt=vt=null,Kr=!1,dl=eo=0,Xr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?vt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Gt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=me===null?vt.memoizedState:me.next;if(e!==null)me=e,Gt=t;else{if(t===null)throw vt.alternate===null?Error(s(467)):Error(s(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},me===null?vt.memoizedState=me=t:me=me.next=t}return me}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var e=dl;return dl+=1,Xr===null&&(Xr=[]),t=gp(Xr,t,e),e=vt,(me===null?e.memoizedState:me.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?iy:ay),t}function no(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===_t)return je(t)}throw Error(s(438,String(t)))}function Gh(t){var e=null,i=vt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=vt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=jh(),vt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=V;return e.index++,i}function _i(t,e){return typeof e=="function"?e(t):e}function io(t){var e=ge();return Qh(e,Gt,t)}function Qh(t,e,i){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var o=t.baseQueue,h=r.pending;if(h!==null){if(o!==null){var p=o.next;o.next=h.next,h.next=p}e.baseQueue=o=h,r.pending=null}if(h=t.baseState,o===null)t.memoizedState=h;else{e=o.next;var E=p=null,b=null,z=e,j=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ot&Q)===Q:(Fi&Q)===Q){var B=z.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Gr&&(j=!0);else if((Fi&B)===B){z=z.next,B===Gr&&(j=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Q,p=h):b=b.next=Q,vt.lanes|=B,na|=B;Q=z.action,Za&&i(h,Q),h=z.hasEagerState?z.eagerState:i(h,Q)}else B={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=B,p=h):b=b.next=B,vt.lanes|=Q,na|=Q;z=z.next}while(z!==null&&z!==e);if(b===null?p=h:b.next=E,!nn(h,t.memoizedState)&&(De=!0,j&&(i=Qr,i!==null)))throw i;t.memoizedState=h,t.baseState=p,t.baseQueue=b,r.lastRenderedState=h}return o===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Yh(t){var e=ge(),i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var r=i.dispatch,o=i.pending,h=e.memoizedState;if(o!==null){i.pending=null;var p=o=o.next;do h=t(h,p.action),p=p.next;while(p!==o);nn(h,e.memoizedState)||(De=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,r]}function Sp(t,e,i){var r=vt,o=ge(),h=zt;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=e();var p=!nn((Gt||o).memoizedState,i);p&&(o.memoizedState=i,De=!0),o=o.queue;var E=wp.bind(null,r,o,t);if(gl(2048,8,E,[t]),o.getSnapshot!==e||p||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,Fr(9,ao(),Rp.bind(null,r,o,i,e),null),Zt===null)throw Error(s(349));h||(Fi&124)!==0||bp(r,e,i)}return i}function bp(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=vt.updateQueue,e===null?(e=jh(),vt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Rp(t,e,i,r){e.value=i,e.getSnapshot=r,Dp(e)&&Cp(t)}function wp(t,e,i){return i(function(){Dp(e)&&Cp(t)})}function Dp(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!nn(t,i)}catch{return!0}}function Cp(t){var e=Hr(t,2);e!==null&&on(e,t,2)}function Kh(t){var e=$e();if(typeof t=="function"){var i=t;if(t=i(),Za){tn(!0);try{i()}finally{tn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function Vp(t,e,i,r){return t.baseState=i,Qh(t,Gt,typeof r=="function"?r:_i)}function mS(t,e,i,r,o){if(so(t))throw Error(s(485));if(t=e.action,t!==null){var h={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};k.T!==null?i(!0):h.isTransition=!1,r(h),i=e.pending,i===null?(h.next=e.pending=h,Op(e,h)):(h.next=i.next,e.pending=i.next=h)}}function Op(t,e){var i=e.action,r=e.payload,o=t.state;if(e.isTransition){var h=k.T,p={};k.T=p;try{var E=i(o,r),b=k.S;b!==null&&b(p,E),Np(t,e,E)}catch(z){Xh(t,e,z)}finally{k.T=h}}else try{h=i(o,r),Np(t,e,h)}catch(z){Xh(t,e,z)}}function Np(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Mp(t,e,r)},function(r){return Xh(t,e,r)}):Mp(t,e,i)}function Mp(t,e,i){e.status="fulfilled",e.value=i,Ip(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Op(t,i)))}function Xh(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Ip(e),e=e.next;while(e!==r)}t.action=null}function Ip(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function xp(t,e){return e}function Up(t,e){if(zt){var i=Zt.formState;if(i!==null){t:{var r=vt;if(zt){if(ae){e:{for(var o=ae,h=Yn;o.nodeType!==8;){if(!h){o=null;break e}if(o=Cn(o.nextSibling),o===null){o=null;break e}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){ae=Cn(o.nextSibling),r=o.data==="F!";break t}}Ya(r)}r=!1}r&&(e=i[0])}}return i=$e(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:e},i.queue=r,i=ty.bind(null,vt,r),r.dispatch=i,r=Kh(!1),h=Wh.bind(null,vt,!1,r.queue),r=$e(),o={state:e,dispatch:null,action:t,pending:null},r.queue=o,i=mS.bind(null,vt,o,h,i),o.dispatch=i,r.memoizedState=t,[e,i,!1]}function zp(t){var e=ge();return Lp(e,Gt,t)}function Lp(t,e,i){if(e=Qh(t,e,xp)[0],t=io(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ml(e)}catch(p){throw p===ul?$u:p}else r=e;e=ge();var o=e.queue,h=o.dispatch;return i!==e.memoizedState&&(vt.flags|=2048,Fr(9,ao(),gS.bind(null,o,i),null)),[r,h,t]}function gS(t,e){t.action=e}function Bp(t){var e=ge(),i=Gt;if(i!==null)return Lp(e,i,t);ge(),e=e.memoizedState,i=ge();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function Fr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=vt.updateQueue,e===null&&(e=jh(),vt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function ao(){return{destroy:void 0,resource:void 0}}function qp(){return ge().memoizedState}function ro(t,e,i,r){var o=$e();r=r===void 0?null:r,vt.flags|=t,o.memoizedState=Fr(1|e,ao(),i,r)}function gl(t,e,i,r){var o=ge();r=r===void 0?null:r;var h=o.memoizedState.inst;Gt!==null&&r!==null&&Bh(r,Gt.memoizedState.deps)?o.memoizedState=Fr(e,h,i,r):(vt.flags|=t,o.memoizedState=Fr(1|e,h,i,r))}function Hp(t,e){ro(8390656,8,t,e)}function Pp(t,e){gl(2048,8,t,e)}function kp(t,e){return gl(4,2,t,e)}function jp(t,e){return gl(4,4,t,e)}function Gp(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qp(t,e,i){i=i!=null?i.concat([t]):null,gl(4,4,Gp.bind(null,e,t),i)}function Fh(){}function Yp(t,e){var i=ge();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Bh(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Kp(t,e){var i=ge();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Bh(e,r[1]))return r[0];if(r=t(),Za){tn(!0);try{t()}finally{tn(!1)}}return i.memoizedState=[r,e],r}function Zh(t,e,i){return i===void 0||(Fi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Zy(),vt.lanes|=t,na|=t,i)}function Xp(t,e,i,r){return nn(i,e)?i:Yr.current!==null?(t=Zh(t,i,r),nn(t,e)||(De=!0),t):(Fi&42)===0?(De=!0,t.memoizedState=i):(t=Zy(),vt.lanes|=t,na|=t,e)}function Fp(t,e,i,r,o){var h=$.p;$.p=h!==0&&8>h?h:8;var p=k.T,E={};k.T=E,Wh(t,!1,e,i);try{var b=o(),z=k.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=hS(b,r);pl(t,e,j,un(t))}else pl(t,e,r,un(t))}catch(Q){pl(t,e,{then:function(){},status:"rejected",reason:Q},un())}finally{$.p=h,k.T=p}}function pS(){}function $h(t,e,i,r){if(t.tag!==5)throw Error(s(476));var o=Zp(t).queue;Fp(t,o,e,rt,i===null?pS:function(){return $p(t),i(r)})}function Zp(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:rt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function $p(t){var e=Zp(t).next.queue;pl(t,e,{},un())}function Jh(){return je(xl)}function Jp(){return ge().memoizedState}function Wp(){return ge().memoizedState}function yS(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=un();t=Ki(i);var r=Xi(e,t,i);r!==null&&(on(r,e,i),cl(r,e,i)),e={cache:Ch()},t.payload=e;return}e=e.return}}function _S(t,e,i){var r=un();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},so(t)?ey(e,i):(i=_h(t,e,i,r),i!==null&&(on(i,t,r),ny(i,e,r)))}function ty(t,e,i){var r=un();pl(t,e,i,r)}function pl(t,e,i,r){var o={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(so(t))ey(e,o);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var p=e.lastRenderedState,E=h(p,i);if(o.hasEagerState=!0,o.eagerState=E,nn(E,p))return ju(t,e,o,0),Zt===null&&ku(),!1}catch{}finally{}if(i=_h(t,e,o,r),i!==null)return on(i,t,r),ny(i,e,r),!0}return!1}function Wh(t,e,i,r){if(r={lane:2,revertLane:Mf(),action:r,hasEagerState:!1,eagerState:null,next:null},so(t)){if(e)throw Error(s(479))}else e=_h(t,i,r,2),e!==null&&on(e,t,2)}function so(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function ey(t,e){Kr=to=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function ny(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Bs(t,i)}}var lo={readContext:je,use:no,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},iy={readContext:je,use:no,useCallback:function(t,e){return $e().memoizedState=[t,e===void 0?null:e],t},useContext:je,useEffect:Hp,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,ro(4194308,4,Gp.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ro(4194308,4,t,e)},useInsertionEffect:function(t,e){ro(4,2,t,e)},useMemo:function(t,e){var i=$e();e=e===void 0?null:e;var r=t();if(Za){tn(!0);try{t()}finally{tn(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=$e();if(i!==void 0){var o=i(e);if(Za){tn(!0);try{i(e)}finally{tn(!1)}}}else o=e;return r.memoizedState=r.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},r.queue=t,t=t.dispatch=_S.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=$e();return t={current:t},e.memoizedState=t},useState:function(t){t=Kh(t);var e=t.queue,i=ty.bind(null,vt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Fh,useDeferredValue:function(t,e){var i=$e();return Zh(i,t,e)},useTransition:function(){var t=Kh(!1);return t=Fp.bind(null,vt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=vt,o=$e();if(zt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=e(),Zt===null)throw Error(s(349));(Ot&124)!==0||bp(r,e,i)}o.memoizedState=i;var h={value:i,getSnapshot:e};return o.queue=h,Hp(wp.bind(null,r,h,t),[t]),r.flags|=2048,Fr(9,ao(),Rp.bind(null,r,h,i,e),null),i},useId:function(){var t=$e(),e=Zt.identifierPrefix;if(zt){var i=gi,r=mi;i=(r&~(1<<32-ke(r)-1)).toString(32)+i,e="«"+e+"R"+i,i=eo++,0<i&&(e+="H"+i.toString(32)),e+="»"}else i=fS++,e="«"+e+"r"+i.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Jh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var e=$e();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Wh.bind(null,vt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Gh,useCacheRefresh:function(){return $e().memoizedState=yS.bind(null,vt)}},ay={readContext:je,use:no,useCallback:Yp,useContext:je,useEffect:Pp,useImperativeHandle:Qp,useInsertionEffect:kp,useLayoutEffect:jp,useMemo:Kp,useReducer:io,useRef:qp,useState:function(){return io(_i)},useDebugValue:Fh,useDeferredValue:function(t,e){var i=ge();return Xp(i,Gt.memoizedState,t,e)},useTransition:function(){var t=io(_i)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:Sp,useId:Jp,useHostTransitionStatus:Jh,useFormState:zp,useActionState:zp,useOptimistic:function(t,e){var i=ge();return Vp(i,Gt,t,e)},useMemoCache:Gh,useCacheRefresh:Wp},vS={readContext:je,use:no,useCallback:Yp,useContext:je,useEffect:Pp,useImperativeHandle:Qp,useInsertionEffect:kp,useLayoutEffect:jp,useMemo:Kp,useReducer:Yh,useRef:qp,useState:function(){return Yh(_i)},useDebugValue:Fh,useDeferredValue:function(t,e){var i=ge();return Gt===null?Zh(i,t,e):Xp(i,Gt.memoizedState,t,e)},useTransition:function(){var t=Yh(_i)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:Sp,useId:Jp,useHostTransitionStatus:Jh,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,e){var i=ge();return Gt!==null?Vp(i,Gt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:Wp},Zr=null,yl=0;function uo(t){var e=yl;return yl+=1,Zr===null&&(Zr=[]),gp(Zr,t,e)}function _l(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function oo(t,e){throw e.$$typeof===L?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ry(t){var e=t._init;return e(t._payload)}function sy(t){function e(M,C){if(t){var U=M.deletions;U===null?(M.deletions=[C],M.flags|=16):U.push(C)}}function i(M,C){if(!t)return null;for(;C!==null;)e(M,C),C=C.sibling;return null}function r(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function o(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function h(M,C,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<C?(M.flags|=67108866,C):U):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,U,G){return C===null||C.tag!==6?(C=Eh(U,M.mode,G),C.return=M,C):(C=o(C,U),C.return=M,C)}function b(M,C,U,G){var it=U.type;return it===et?j(M,C,U.props.children,G,U.key):C!==null&&(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&ry(it)===C.type)?(C=o(C,U.props),_l(C,U),C.return=M,C):(C=Qu(U.type,U.key,U.props,null,M.mode,G),_l(C,U),C.return=M,C)}function z(M,C,U,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==U.containerInfo||C.stateNode.implementation!==U.implementation?(C=Th(U,M.mode,G),C.return=M,C):(C=o(C,U.children||[]),C.return=M,C)}function j(M,C,U,G,it){return C===null||C.tag!==7?(C=ka(U,M.mode,G,it),C.return=M,C):(C=o(C,U),C.return=M,C)}function Q(M,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Eh(""+C,M.mode,U),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case P:return U=Qu(C.type,C.key,C.props,null,M.mode,U),_l(U,C),U.return=M,U;case X:return C=Th(C,M.mode,U),C.return=M,C;case A:var G=C._init;return C=G(C._payload),Q(M,C,U)}if(ne(C)||I(C))return C=ka(C,M.mode,U,null),C.return=M,C;if(typeof C.then=="function")return Q(M,uo(C),U);if(C.$$typeof===_t)return Q(M,Fu(M,C),U);oo(M,C)}return null}function B(M,C,U,G){var it=C!==null?C.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return it!==null?null:E(M,C,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===it?b(M,C,U,G):null;case X:return U.key===it?z(M,C,U,G):null;case A:return it=U._init,U=it(U._payload),B(M,C,U,G)}if(ne(U)||I(U))return it!==null?null:j(M,C,U,G,null);if(typeof U.then=="function")return B(M,C,uo(U),G);if(U.$$typeof===_t)return B(M,C,Fu(M,U),G);oo(M,U)}return null}function q(M,C,U,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(U)||null,E(C,M,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case P:return M=M.get(G.key===null?U:G.key)||null,b(C,M,G,it);case X:return M=M.get(G.key===null?U:G.key)||null,z(C,M,G,it);case A:var At=G._init;return G=At(G._payload),q(M,C,U,G,it)}if(ne(G)||I(G))return M=M.get(U)||null,j(C,M,G,it,null);if(typeof G.then=="function")return q(M,C,U,uo(G),it);if(G.$$typeof===_t)return q(M,C,U,Fu(C,G),it);oo(C,G)}return null}function ft(M,C,U,G){for(var it=null,At=null,at=C,ht=C=0,Ve=null;at!==null&&ht<U.length;ht++){at.index>ht?(Ve=at,at=null):Ve=at.sibling;var It=B(M,at,U[ht],G);if(It===null){at===null&&(at=Ve);break}t&&at&&It.alternate===null&&e(M,at),C=h(It,C,ht),At===null?it=It:At.sibling=It,At=It,at=Ve}if(ht===U.length)return i(M,at),zt&&Ga(M,ht),it;if(at===null){for(;ht<U.length;ht++)at=Q(M,U[ht],G),at!==null&&(C=h(at,C,ht),At===null?it=at:At.sibling=at,At=at);return zt&&Ga(M,ht),it}for(at=r(at);ht<U.length;ht++)Ve=q(at,M,ht,U[ht],G),Ve!==null&&(t&&Ve.alternate!==null&&at.delete(Ve.key===null?ht:Ve.key),C=h(Ve,C,ht),At===null?it=Ve:At.sibling=Ve,At=Ve);return t&&at.forEach(function(ha){return e(M,ha)}),zt&&Ga(M,ht),it}function ut(M,C,U,G){if(U==null)throw Error(s(151));for(var it=null,At=null,at=C,ht=C=0,Ve=null,It=U.next();at!==null&&!It.done;ht++,It=U.next()){at.index>ht?(Ve=at,at=null):Ve=at.sibling;var ha=B(M,at,It.value,G);if(ha===null){at===null&&(at=Ve);break}t&&at&&ha.alternate===null&&e(M,at),C=h(ha,C,ht),At===null?it=ha:At.sibling=ha,At=ha,at=Ve}if(It.done)return i(M,at),zt&&Ga(M,ht),it;if(at===null){for(;!It.done;ht++,It=U.next())It=Q(M,It.value,G),It!==null&&(C=h(It,C,ht),At===null?it=It:At.sibling=It,At=It);return zt&&Ga(M,ht),it}for(at=r(at);!It.done;ht++,It=U.next())It=q(at,M,ht,It.value,G),It!==null&&(t&&It.alternate!==null&&at.delete(It.key===null?ht:It.key),C=h(It,C,ht),At===null?it=It:At.sibling=It,At=It);return t&&at.forEach(function(E1){return e(M,E1)}),zt&&Ga(M,ht),it}function Yt(M,C,U,G){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:t:{for(var it=U.key;C!==null;){if(C.key===it){if(it=U.type,it===et){if(C.tag===7){i(M,C.sibling),G=o(C,U.props.children),G.return=M,M=G;break t}}else if(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&ry(it)===C.type){i(M,C.sibling),G=o(C,U.props),_l(G,U),G.return=M,M=G;break t}i(M,C);break}else e(M,C);C=C.sibling}U.type===et?(G=ka(U.props.children,M.mode,G,U.key),G.return=M,M=G):(G=Qu(U.type,U.key,U.props,null,M.mode,G),_l(G,U),G.return=M,M=G)}return p(M);case X:t:{for(it=U.key;C!==null;){if(C.key===it)if(C.tag===4&&C.stateNode.containerInfo===U.containerInfo&&C.stateNode.implementation===U.implementation){i(M,C.sibling),G=o(C,U.children||[]),G.return=M,M=G;break t}else{i(M,C);break}else e(M,C);C=C.sibling}G=Th(U,M.mode,G),G.return=M,M=G}return p(M);case A:return it=U._init,U=it(U._payload),Yt(M,C,U,G)}if(ne(U))return ft(M,C,U,G);if(I(U)){if(it=I(U),typeof it!="function")throw Error(s(150));return U=it.call(U),ut(M,C,U,G)}if(typeof U.then=="function")return Yt(M,C,uo(U),G);if(U.$$typeof===_t)return Yt(M,C,Fu(M,U),G);oo(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,C!==null&&C.tag===6?(i(M,C.sibling),G=o(C,U),G.return=M,M=G):(i(M,C),G=Eh(U,M.mode,G),G.return=M,M=G),p(M)):i(M,C)}return function(M,C,U,G){try{yl=0;var it=Yt(M,C,U,G);return Zr=null,it}catch(at){if(at===ul||at===$u)throw at;var At=an(29,at,null,M.mode);return At.lanes=G,At.return=M,At}finally{}}}var $r=sy(!0),ly=sy(!1),En=K(null),Kn=null;function Zi(t){var e=t.alternate;F(Ae,Ae.current&1),F(En,t),Kn===null&&(e===null||Yr.current!==null||e.memoizedState!==null)&&(Kn=t)}function uy(t){if(t.tag===22){if(F(Ae,Ae.current),F(En,t),Kn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Kn=t)}}else $i()}function $i(){F(Ae,Ae.current),F(En,En.current)}function vi(t){W(En),Kn===t&&(Kn=null),W(Ae)}var Ae=K(0);function co(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Gf(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function tf(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:S({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ef={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=un(),o=Ki(r);o.payload=e,i!=null&&(o.callback=i),e=Xi(t,o,r),e!==null&&(on(e,t,r),cl(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=un(),o=Ki(r);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=Xi(t,o,r),e!==null&&(on(e,t,r),cl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=un(),r=Ki(i);r.tag=2,e!=null&&(r.callback=e),e=Xi(t,r,i),e!==null&&(on(e,t,i),cl(e,t,i))}};function oy(t,e,i,r,o,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,p):e.prototype&&e.prototype.isPureReactComponent?!tl(i,r)||!tl(o,h):!0}function cy(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function $a(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=S({},i));for(var o in t)i[o]===void 0&&(i[o]=t[o])}return i}var ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hy(t){ho(t)}function fy(t){console.error(t)}function dy(t){ho(t)}function fo(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function my(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function nf(t,e,i){return i=Ki(i),i.tag=3,i.payload={element:null},i.callback=function(){fo(t,e)},i}function gy(t){return t=Ki(t),t.tag=3,t}function py(t,e,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=r.value;t.payload=function(){return o(h)},t.callback=function(){my(e,i,r)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){my(e,i,r),typeof o!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function ES(t,e,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&rl(e,i,o,!0),i=En.current,i!==null){switch(i.tag){case 13:return Kn===null?Df():i.alternate===null&&re===0&&(re=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Nh?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),Vf(t,r,o)),!1;case 22:return i.flags|=65536,r===Nh?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),Vf(t,r,o)),!1}throw Error(s(435,i.tag))}return Vf(t,r,o),Df(),!1}if(zt)return e=En.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,r!==bh&&(t=Error(s(422),{cause:r}),al(pn(t,i)))):(r!==bh&&(e=Error(s(423),{cause:r}),al(pn(e,i))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,r=pn(r,i),o=nf(t.stateNode,r,o),xh(t,o),re!==4&&(re=2)),!1;var h=Error(s(520),{cause:r});if(h=pn(h,i),Rl===null?Rl=[h]:Rl.push(h),re!==4&&(re=2),e===null)return!0;r=pn(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=o&-o,i.lanes|=t,t=nf(i.stateNode,r,t),xh(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ia===null||!ia.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=gy(o),py(o,t,i,r),xh(i,o),!1}i=i.return}while(i!==null);return!1}var yy=Error(s(461)),De=!1;function Ue(t,e,i,r){e.child=t===null?ly(e,null,i,r):$r(e,t.child,i,r)}function _y(t,e,i,r,o){i=i.render;var h=e.ref;if("ref"in r){var p={};for(var E in r)E!=="ref"&&(p[E]=r[E])}else p=r;return Xa(e),r=qh(t,e,i,p,h,o),E=Hh(),t!==null&&!De?(Ph(t,e,o),Ei(t,e,o)):(zt&&E&&Ah(e),e.flags|=1,Ue(t,e,r,o),e.child)}function vy(t,e,i,r,o){if(t===null){var h=i.type;return typeof h=="function"&&!vh(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,Ey(t,e,h,r,o)):(t=Qu(i.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!hf(t,o)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:tl,i(p,r)&&t.ref===e.ref)return Ei(t,e,o)}return e.flags|=1,t=di(h,r),t.ref=e.ref,t.return=e,e.child=t}function Ey(t,e,i,r,o){if(t!==null){var h=t.memoizedProps;if(tl(h,r)&&t.ref===e.ref)if(De=!1,e.pendingProps=r=h,hf(t,o))(t.flags&131072)!==0&&(De=!0);else return e.lanes=t.lanes,Ei(t,e,o)}return af(t,e,i,r,o)}function Ty(t,e,i){var r=e.pendingProps,o=r.children,h=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;e.childLanes=h&~r}else e.childLanes=0,e.child=null;return Ay(t,e,r,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(e,h!==null?h.cachePool:null),h!==null?Ep(e,h):zh(),uy(e);else return e.lanes=e.childLanes=536870912,Ay(t,e,h!==null?h.baseLanes|i:i,i)}else h!==null?(Zu(e,h.cachePool),Ep(e,h),$i(),e.memoizedState=null):(t!==null&&Zu(e,null),zh(),$i());return Ue(t,e,o,i),e.child}function Ay(t,e,i,r){var o=Oh();return o=o===null?null:{parent:Te._currentValue,pool:o},e.memoizedState={baseLanes:i,cachePool:o},t!==null&&Zu(e,null),zh(),uy(e),t!==null&&rl(t,e,r,!0),null}function mo(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function af(t,e,i,r,o){return Xa(e),i=qh(t,e,i,r,void 0,o),r=Hh(),t!==null&&!De?(Ph(t,e,o),Ei(t,e,o)):(zt&&r&&Ah(e),e.flags|=1,Ue(t,e,i,o),e.child)}function Sy(t,e,i,r,o,h){return Xa(e),e.updateQueue=null,i=Ap(e,r,i,o),Tp(t),r=Hh(),t!==null&&!De?(Ph(t,e,h),Ei(t,e,h)):(zt&&r&&Ah(e),e.flags|=1,Ue(t,e,i,h),e.child)}function by(t,e,i,r,o){if(Xa(e),e.stateNode===null){var h=Pr,p=i.contextType;typeof p=="object"&&p!==null&&(h=je(p)),h=new i(r,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ef,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=r,h.state=e.memoizedState,h.refs={},Mh(e),p=i.contextType,h.context=typeof p=="object"&&p!==null?je(p):Pr,h.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(tf(e,i,p,r),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&ef.enqueueReplaceState(h,h.state,null),fl(e,r,h,o),hl(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,b=$a(i,E);h.props=b;var z=h.context,j=i.contextType;p=Pr,typeof j=="object"&&j!==null&&(p=je(j));var Q=i.getDerivedStateFromProps;j=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||z!==p)&&cy(e,h,r,p),Yi=!1;var B=e.memoizedState;h.state=B,fl(e,r,h,o),hl(),z=e.memoizedState,E||B!==z||Yi?(typeof Q=="function"&&(tf(e,i,Q,r),z=e.memoizedState),(b=Yi||oy(e,i,b,r,B,z,p))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=z),h.props=r,h.state=z,h.context=p,r=b):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,Ih(t,e),p=e.memoizedProps,j=$a(i,p),h.props=j,Q=e.pendingProps,B=h.context,z=i.contextType,b=Pr,typeof z=="object"&&z!==null&&(b=je(z)),E=i.getDerivedStateFromProps,(z=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==Q||B!==b)&&cy(e,h,r,b),Yi=!1,B=e.memoizedState,h.state=B,fl(e,r,h,o),hl();var q=e.memoizedState;p!==Q||B!==q||Yi||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof E=="function"&&(tf(e,i,E,r),q=e.memoizedState),(j=Yi||oy(e,i,j,r,B,q,b)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,q,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,q,b)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=q),h.props=r,h.state=q,h.context=b,r=j):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),r=!1)}return h=r,mo(t,e),r=(e.flags&128)!==0,h||r?(h=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&r?(e.child=$r(e,t.child,null,o),e.child=$r(e,null,i,o)):Ue(t,e,i,o),e.memoizedState=h.state,t=e.child):t=Ei(t,e,o),t}function Ry(t,e,i,r){return il(),e.flags|=256,Ue(t,e,i,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(t){return{baseLanes:t,cachePool:fp()}}function lf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Tn),t}function wy(t,e,i){var r=e.pendingProps,o=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(o=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(zt){if(o?Zi(e):$i(),zt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Cn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(e.memoizedState={dehydrated:E,treeContext:ja!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=e,e.child=b,Xe=e,ae=null,b=!0):b=!1}b||Ya(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Gf(E)?e.lanes=32:e.lanes=536870912,null;vi(e)}return E=r.children,r=r.fallback,o?($i(),o=e.mode,E=go({mode:"hidden",children:E},o),r=ka(r,o,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,o=e.child,o.memoizedState=sf(i),o.childLanes=lf(t,p,i),e.memoizedState=rf,r):(Zi(e),uf(e,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)e.flags&256?(Zi(e),e.flags&=-257,e=of(t,e,i)):e.memoizedState!==null?($i(),e.child=t.child,e.flags|=128,e=null):($i(),o=r.fallback,E=e.mode,r=go({mode:"visible",children:r.children},E),o=ka(o,E,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,$r(e,t.child,null,i),r=e.child,r.memoizedState=sf(i),r.childLanes=lf(t,p,i),e.memoizedState=rf,e=o);else if(Zi(e),Gf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,r=Error(s(419)),r.stack="",r.digest=p,al({value:r,source:null,stack:null}),e=of(t,e,i)}else if(De||rl(t,e,i,!1),p=(i&t.childLanes)!==0,De||p){if(p=Zt,p!==null&&(r=i&-i,r=(r&42)!==0?1:Bi(r),r=(r&(p.suspendedLanes|i))!==0?0:r,r!==0&&r!==b.retryLane))throw b.retryLane=r,Hr(t,r),on(p,t,r),yy;E.data==="$?"||Df(),e=of(t,e,i)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=b.treeContext,ae=Cn(E.nextSibling),Xe=e,zt=!0,Qa=null,Yn=!1,t!==null&&(_n[vn++]=mi,_n[vn++]=gi,_n[vn++]=ja,mi=t.id,gi=t.overflow,ja=e),e=uf(e,r.children),e.flags|=4096);return e}return o?($i(),o=r.fallback,E=e.mode,b=t.child,z=b.sibling,r=di(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,z!==null?o=di(z,o):(o=ka(o,E,i,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,E=t.child.memoizedState,E===null?E=sf(i):(b=E.cachePool,b!==null?(z=Te._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=fp(),E={baseLanes:E.baseLanes|i,cachePool:b}),o.memoizedState=E,o.childLanes=lf(t,p,i),e.memoizedState=rf,r):(Zi(e),i=t.child,t=i.sibling,i=di(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function uf(t,e){return e=go({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function go(t,e){return t=an(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function of(t,e,i){return $r(e,t.child,null,i),t=uf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dy(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wh(t.return,e,i)}function cf(t,e,i,r,o){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=o)}function Cy(t,e,i){var r=e.pendingProps,o=r.revealOrder,h=r.tail;if(Ue(t,e,r.children,i),r=Ae.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,i,e);else if(t.tag===19)Dy(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(F(Ae,r),o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&co(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),cf(e,!1,o,i,h);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&co(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}cf(e,!0,i,null,h);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ei(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(rl(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,i=di(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=di(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function hf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function TS(t,e,i){switch(e.tag){case 3:Ft(e,e.stateNode.containerInfo),Qi(e,Te,t.memoizedState.cache),il();break;case 27:case 5:Li(e);break;case 4:Ft(e,e.stateNode.containerInfo);break;case 10:Qi(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Zi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?wy(t,e,i):(Zi(e),t=Ei(t,e,i),t!==null?t.sibling:null);Zi(e);break;case 19:var o=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(rl(t,e,i,!1),r=(i&e.childLanes)!==0),o){if(r)return Cy(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,Ty(t,e,i);case 24:Qi(e,Te,t.memoizedState.cache)}return Ei(t,e,i)}function Vy(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)De=!0;else{if(!hf(t,i)&&(e.flags&128)===0)return De=!1,TS(t,e,i);De=(t.flags&131072)!==0}else De=!1,zt&&(e.flags&1048576)!==0&&rp(e,Ku,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,o=r._init;if(r=o(r._payload),e.type=r,typeof r=="function")vh(r)?(t=$a(r,t),e.tag=1,e=by(null,e,r,t,i)):(e.tag=0,e=af(null,e,r,t,i));else{if(r!=null){if(o=r.$$typeof,o===Lt){e.tag=11,e=_y(null,e,r,t,i);break t}else if(o===O){e.tag=14,e=vy(null,e,r,t,i);break t}}throw e=Me(r)||r,Error(s(306,e,""))}}return e;case 0:return af(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,o=$a(r,e.pendingProps),by(t,e,r,o,i);case 3:t:{if(Ft(e,e.stateNode.containerInfo),t===null)throw Error(s(387));r=e.pendingProps;var h=e.memoizedState;o=h.element,Ih(t,e),fl(e,r,null,i);var p=e.memoizedState;if(r=p.cache,Qi(e,Te,r),r!==h.cache&&Dh(e,[Te],i,!0),hl(),r=p.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Ry(t,e,r,i);break t}else if(r!==o){o=pn(Error(s(424)),e),al(o),e=Ry(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Cn(t.firstChild),Xe=e,zt=!0,Qa=null,Yn=!0,i=ly(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(il(),r===o){e=Ei(t,e,i);break t}Ue(t,e,r,i)}e=e.child}return e;case 26:return mo(t,e),t===null?(i=I_(e.type,null,e.pendingProps,null))?e.memoizedState=i:zt||(i=e.type,t=e.pendingProps,r=Vo(dt.current).createElement(i),r[_e]=e,r[fe]=t,Le(r,i,t),ue(r),e.stateNode=r):e.memoizedState=I_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Li(e),t===null&&zt&&(r=e.stateNode=O_(e.type,e.pendingProps,dt.current),Xe=e,Yn=!0,o=ae,sa(e.type)?(Qf=o,ae=Cn(r.firstChild)):ae=o),Ue(t,e,e.pendingProps.children,i),mo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&zt&&((o=r=ae)&&(r=FS(r,e.type,e.pendingProps,Yn),r!==null?(e.stateNode=r,Xe=e,ae=Cn(r.firstChild),Yn=!1,o=!0):o=!1),o||Ya(e)),Li(e),o=e.type,h=e.pendingProps,p=t!==null?t.memoizedProps:null,r=h.children,Pf(o,h)?r=null:p!==null&&Pf(o,p)&&(e.flags|=32),e.memoizedState!==null&&(o=qh(t,e,dS,null,null,i),xl._currentValue=o),mo(t,e),Ue(t,e,r,i),e.child;case 6:return t===null&&zt&&((t=i=ae)&&(i=ZS(i,e.pendingProps,Yn),i!==null?(e.stateNode=i,Xe=e,ae=null,t=!0):t=!1),t||Ya(e)),null;case 13:return wy(t,e,i);case 4:return Ft(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,i):Ue(t,e,r,i),e.child;case 11:return _y(t,e,e.type,e.pendingProps,i);case 7:return Ue(t,e,e.pendingProps,i),e.child;case 8:return Ue(t,e,e.pendingProps.children,i),e.child;case 12:return Ue(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,Qi(e,e.type,r.value),Ue(t,e,r.children,i),e.child;case 9:return o=e.type._context,r=e.pendingProps.children,Xa(e),o=je(o),r=r(o),e.flags|=1,Ue(t,e,r,i),e.child;case 14:return vy(t,e,e.type,e.pendingProps,i);case 15:return Ey(t,e,e.type,e.pendingProps,i);case 19:return Cy(t,e,i);case 31:return r=e.pendingProps,i=e.mode,r={mode:r.mode,children:r.children},t===null?(i=go(r,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=di(t.child,r),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return Ty(t,e,i);case 24:return Xa(e),r=je(Te),t===null?(o=Oh(),o===null&&(o=Zt,h=Ch(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),e.memoizedState={parent:r,cache:o},Mh(e),Qi(e,Te,o)):((t.lanes&i)!==0&&(Ih(t,e),fl(e,null,null,i),hl()),o=t.memoizedState,h=e.memoizedState,o.parent!==r?(o={parent:r,cache:r},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Qi(e,Te,r)):(r=h.cache,Qi(e,Te,r),r!==o.cache&&Dh(e,[Te],i,!0))),Ue(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function Ti(t){t.flags|=4}function Oy(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!B_(e)){if(e=En.current,e!==null&&((Ot&4194048)===Ot?Kn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||e!==Kn))throw ol=Nh,dp;t.flags|=8192}}function po(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?zs():536870912,t.lanes|=e,es|=e)}function vl(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function te(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function AS(t,e,i){var r=e.pendingProps;switch(Sh(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(e),null;case 1:return te(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),yi(Te),xn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(nl(e)?Ti(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,up())),te(e),null;case 26:return i=e.memoizedState,t===null?(Ti(e),i!==null?(te(e),Oy(e,i)):(te(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Ti(e),te(e),Oy(e,i)):(te(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ti(e),te(e),e.flags&=-16777217),null;case 27:ti(e),i=dt.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(s(166));return te(e),null}t=lt.current,nl(e)?sp(e):(t=O_(o,r,i),e.stateNode=t,Ti(e))}return te(e),null;case 5:if(ti(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(s(166));return te(e),null}if(t=lt.current,nl(e))sp(e);else{switch(o=Vo(dt.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}t[_e]=e,t[fe]=r;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;t:switch(Le(t,i,r),i){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(e)}}return te(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(s(166));if(t=dt.current,nl(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,o=Xe,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}t[_e]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||S_(t.nodeValue,i)),t||Ya(e)}else t=Vo(t).createTextNode(r),t[_e]=e,e.stateNode=t}return te(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(s(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[_e]=e}else il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;te(e),o=!1}else o=up(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(vi(e),e):(vi(e),null)}if(vi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=r!==null,t=t!==null&&t.memoizedState!==null,i){r=e.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==o&&(r.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),po(e,e.updateQueue),te(e),null;case 4:return xn(),t===null&&zf(e.stateNode.containerInfo),te(e),null;case 10:return yi(e.type),te(e),null;case 19:if(W(Ae),o=e.memoizedState,o===null)return te(e),null;if(r=(e.flags&128)!==0,h=o.rendering,h===null)if(r)vl(o,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=co(t),h!==null){for(e.flags|=128,vl(o,!1),t=h.updateQueue,e.updateQueue=t,po(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)ap(i,t),i=i.sibling;return F(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&cn()>vo&&(e.flags|=128,r=!0,vl(o,!1),e.lanes=4194304)}else{if(!r)if(t=co(h),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,po(e,t),vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!zt)return te(e),null}else 2*cn()-o.renderingStartTime>vo&&i!==536870912&&(e.flags|=128,r=!0,vl(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=cn(),e.sibling=null,t=Ae.current,F(Ae,r?t&1|2:t&1),e):(te(e),null);case 22:case 23:return vi(e),Lh(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(te(e),e.subtreeFlags&6&&(e.flags|=8192)):te(e),i=e.updateQueue,i!==null&&po(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&W(Fa),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),yi(Te),te(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function SS(t,e){switch(Sh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yi(Te),xn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ti(e),null;case 13:if(vi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(Ae),null;case 4:return xn(),null;case 10:return yi(e.type),null;case 22:case 23:return vi(e),Lh(),t!==null&&W(Fa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return yi(Te),null;case 25:return null;default:return null}}function Ny(t,e){switch(Sh(e),e.tag){case 3:yi(Te),xn();break;case 26:case 27:case 5:ti(e);break;case 4:xn();break;case 13:vi(e);break;case 19:W(Ae);break;case 10:yi(e.type);break;case 22:case 23:vi(e),Lh(),t!==null&&W(Fa);break;case 24:yi(Te)}}function El(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&t)===t){r=void 0;var h=i.create,p=i.inst;r=h(),p.destroy=r}i=i.next}while(i!==o)}}catch(E){Kt(e,e.return,E)}}function Ji(t,e,i){try{var r=e.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){var p=r.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,o=e;var b=i,z=E;try{z()}catch(j){Kt(o,b,j)}}}r=r.next}while(r!==h)}}catch(j){Kt(e,e.return,j)}}function My(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{vp(e,i)}catch(r){Kt(t,t.return,r)}}}function Iy(t,e,i){i.props=$a(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Kt(t,e,r)}}function Tl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(o){Kt(t,e,o)}}function Xn(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){Kt(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Kt(t,e,o)}else i.current=null}function xy(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){Kt(t,t.return,o)}}function ff(t,e,i){try{var r=t.stateNode;GS(r,t.type,i,e),r[fe]=e}catch(o){Kt(t,t.return,o)}}function Uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sa(t.type)||t.tag===4}function df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Co));else if(r!==4&&(r===27&&sa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(mf(t,e,i),t=t.sibling;t!==null;)mf(t,e,i),t=t.sibling}function yo(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&sa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(yo(t,e,i),t=t.sibling;t!==null;)yo(t,e,i),t=t.sibling}function zy(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Le(e,r,i),e[_e]=t,e[fe]=i}catch(h){Kt(t,t.return,h)}}var Ai=!1,ce=!1,gf=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function bS(t,e){if(t=t.containerInfo,qf=Uo,t=Xg(t),fh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var p=0,E=-1,b=-1,z=0,j=0,Q=t,B=null;e:for(;;){for(var q;Q!==i||o!==0&&Q.nodeType!==3||(E=p+o),Q!==h||r!==0&&Q.nodeType!==3||(b=p+r),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===t)break e;if(B===i&&++z===o&&(E=p),B===h&&++j===r&&(b=p),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}i=E===-1||b===-1?null:{start:E,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hf={focusedElem:t,selectionRange:i},Uo=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){switch(e=Ce,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,o=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var ft=$a(i.type,o,i.elementType===i.type);t=r.getSnapshotBeforeUpdate(ft,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Kt(i,i.return,ut)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)jf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}}function By(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Wi(t,i),r&4&&El(5,i);break;case 1:if(Wi(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){Kt(i,i.return,p)}else{var o=$a(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(i,i.return,p)}}r&64&&My(i),r&512&&Tl(i,i.return);break;case 3:if(Wi(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{vp(t,e)}catch(p){Kt(i,i.return,p)}}break;case 27:e===null&&r&4&&zy(i);case 26:case 5:Wi(t,i),e===null&&r&4&&xy(i),r&512&&Tl(i,i.return);break;case 12:Wi(t,i);break;case 13:Wi(t,i),r&4&&Py(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=IS.bind(null,i),$S(t,i))));break;case 22:if(r=i.memoizedState!==null||Ai,!r){e=e!==null&&e.memoizedState!==null||ce,o=Ai;var h=ce;Ai=r,(ce=e)&&!h?ta(t,i,(i.subtreeFlags&8772)!==0):Wi(t,i),Ai=o,ce=h}break;case 30:break;default:Wi(t,i)}}function qy(t){var e=t.alternate;e!==null&&(t.alternate=null,qy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Pi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,Je=!1;function Si(t,e,i){for(i=i.child;i!==null;)Hy(t,e,i),i=i.sibling}function Hy(t,e,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:ce||Xn(i,e),Si(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ce||Xn(i,e);var r=Jt,o=Je;sa(i.type)&&(Jt=i.stateNode,Je=!1),Si(t,e,i),Ol(i.stateNode),Jt=r,Je=o;break;case 5:ce||Xn(i,e);case 6:if(r=Jt,o=Je,Jt=null,Si(t,e,i),Jt=r,Je=o,Jt!==null)if(Je)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(i.stateNode)}catch(h){Kt(i,e,h)}else try{Jt.removeChild(i.stateNode)}catch(h){Kt(i,e,h)}break;case 18:Jt!==null&&(Je?(t=Jt,C_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Bl(t)):C_(Jt,i.stateNode));break;case 4:r=Jt,o=Je,Jt=i.stateNode.containerInfo,Je=!0,Si(t,e,i),Jt=r,Je=o;break;case 0:case 11:case 14:case 15:ce||Ji(2,i,e),ce||Ji(4,i,e),Si(t,e,i);break;case 1:ce||(Xn(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Iy(i,e,r)),Si(t,e,i);break;case 21:Si(t,e,i);break;case 22:ce=(r=ce)||i.memoizedState!==null,Si(t,e,i),ce=r;break;default:Si(t,e,i)}}function Py(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(i){Kt(e,e.return,i)}}function RS(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ly),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ly),e;default:throw Error(s(435,t.tag))}}function pf(t,e){var i=RS(t);e.forEach(function(r){var o=xS.bind(null,t,r);i.has(r)||(i.add(r),r.then(o,o))})}function rn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],h=t,p=e,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(sa(E.type)){Jt=E.stateNode,Je=!1;break t}break;case 5:Jt=E.stateNode,Je=!1;break t;case 3:case 4:Jt=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(Jt===null)throw Error(s(160));Hy(h,p,o),Jt=null,Je=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)ky(e,t),e=e.sibling}var Dn=null;function ky(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(e,t),sn(t),r&4&&(Ji(3,t,t.return),El(3,t),Ji(5,t,t.return));break;case 1:rn(e,t),sn(t),r&512&&(ce||i===null||Xn(i,i.return)),r&64&&Ai&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=Dn;if(rn(e,t),sn(t),r&512&&(ce||i===null||Xn(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,o=o.ownerDocument||o;e:switch(r){case"title":h=o.getElementsByTagName("title")[0],(!h||h[wa]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(r),o.head.insertBefore(h,o.querySelector("head > title"))),Le(h,r,i),h[_e]=t,ue(h),r=h;break t;case"link":var p=z_("link","href",o).get(r+(i.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(E,1);break e}}h=o.createElement(r),Le(h,r,i),o.head.appendChild(h);break;case"meta":if(p=z_("meta","content",o).get(r+(i.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(E,1);break e}}h=o.createElement(r),Le(h,r,i),o.head.appendChild(h);break;default:throw Error(s(468,r))}h[_e]=t,ue(h),r=h}t.stateNode=r}else L_(o,t.type,t.stateNode);else t.stateNode=U_(o,r,t.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?L_(o,t.type,t.stateNode):U_(o,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ff(t,t.memoizedProps,i.memoizedProps)}break;case 27:rn(e,t),sn(t),r&512&&(ce||i===null||Xn(i,i.return)),i!==null&&r&4&&ff(t,t.memoizedProps,i.memoizedProps);break;case 5:if(rn(e,t),sn(t),r&512&&(ce||i===null||Xn(i,i.return)),t.flags&32){o=t.stateNode;try{fn(o,"")}catch(q){Kt(t,t.return,q)}}r&4&&t.stateNode!=null&&(o=t.memoizedProps,ff(t,o,i!==null?i.memoizedProps:o)),r&1024&&(gf=!0);break;case 6:if(rn(e,t),sn(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(q){Kt(t,t.return,q)}}break;case 3:if(Mo=null,o=Dn,Dn=Oo(e.containerInfo),rn(e,t),Dn=o,sn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(q){Kt(t,t.return,q)}gf&&(gf=!1,jy(t));break;case 4:r=Dn,Dn=Oo(t.stateNode.containerInfo),rn(e,t),sn(t),Dn=r;break;case 12:rn(e,t),sn(t);break;case 13:rn(e,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Af=cn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,pf(t,r)));break;case 22:o=t.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,z=Ai,j=ce;if(Ai=z||o,ce=j||b,rn(e,t),ce=j,Ai=z,sn(t),r&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(i===null||b||Ai||ce||Ja(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){b=i=e;try{if(h=b.stateNode,o)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(e.tag===6){if(i===null){b=e;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,pf(t,i))));break;case 19:rn(e,t),sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,pf(t,r)));break;case 30:break;case 21:break;default:rn(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Uy(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var o=i.stateNode,h=df(t);yo(t,h,o);break;case 5:var p=i.stateNode;i.flags&32&&(fn(p,""),i.flags&=-33);var E=df(t);yo(t,E,p);break;case 3:case 4:var b=i.stateNode.containerInfo,z=df(t);mf(t,z,b);break;default:throw Error(s(161))}}catch(j){Kt(t,t.return,j)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;jy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Wi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)By(t,e.alternate,e),e=e.sibling}function Ja(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ji(4,e,e.return),Ja(e);break;case 1:Xn(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Iy(e,e.return,i),Ja(e);break;case 27:Ol(e.stateNode);case 26:case 5:Xn(e,e.return),Ja(e);break;case 22:e.memoizedState===null&&Ja(e);break;case 30:Ja(e);break;default:Ja(e)}t=t.sibling}}function ta(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,o=t,h=e,p=h.flags;switch(h.tag){case 0:case 11:case 15:ta(o,h,i),El(4,h);break;case 1:if(ta(o,h,i),r=h,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Kt(r,r.return,z)}if(r=h,o=r.updateQueue,o!==null){var E=r.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)_p(b[o],E)}catch(z){Kt(r,r.return,z)}}i&&p&64&&My(h),Tl(h,h.return);break;case 27:zy(h);case 26:case 5:ta(o,h,i),i&&r===null&&p&4&&xy(h),Tl(h,h.return);break;case 12:ta(o,h,i);break;case 13:ta(o,h,i),i&&p&4&&Py(o,h);break;case 22:h.memoizedState===null&&ta(o,h,i),Tl(h,h.return);break;case 30:break;default:ta(o,h,i)}e=e.sibling}}function yf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&sl(i))}function _f(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t))}function Fn(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gy(t,e,i,r),e=e.sibling}function Gy(t,e,i,r){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Fn(t,e,i,r),o&2048&&El(9,e);break;case 1:Fn(t,e,i,r);break;case 3:Fn(t,e,i,r),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t)));break;case 12:if(o&2048){Fn(t,e,i,r),t=e.stateNode;try{var h=e.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(e,e.return,b)}}else Fn(t,e,i,r);break;case 13:Fn(t,e,i,r);break;case 23:break;case 22:h=e.stateNode,p=e.alternate,e.memoizedState!==null?h._visibility&2?Fn(t,e,i,r):Al(t,e):h._visibility&2?Fn(t,e,i,r):(h._visibility|=2,Jr(t,e,i,r,(e.subtreeFlags&10256)!==0)),o&2048&&yf(p,e);break;case 24:Fn(t,e,i,r),o&2048&&_f(e.alternate,e);break;default:Fn(t,e,i,r)}}function Jr(t,e,i,r,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,p=e,E=i,b=r,z=p.flags;switch(p.tag){case 0:case 11:case 15:Jr(h,p,E,b,o),El(8,p);break;case 23:break;case 22:var j=p.stateNode;p.memoizedState!==null?j._visibility&2?Jr(h,p,E,b,o):Al(h,p):(j._visibility|=2,Jr(h,p,E,b,o)),o&&z&2048&&yf(p.alternate,p);break;case 24:Jr(h,p,E,b,o),o&&z&2048&&_f(p.alternate,p);break;default:Jr(h,p,E,b,o)}e=e.sibling}}function Al(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,o=r.flags;switch(r.tag){case 22:Al(i,r),o&2048&&yf(r.alternate,r);break;case 24:Al(i,r),o&2048&&_f(r.alternate,r);break;default:Al(i,r)}e=e.sibling}}var Sl=8192;function Wr(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 26:Wr(t),t.flags&Sl&&t.memoizedState!==null&&c1(Dn,t.memoizedState,t.memoizedProps);break;case 5:Wr(t);break;case 3:case 4:var e=Dn;Dn=Oo(t.stateNode.containerInfo),Wr(t),Dn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Sl,Sl=16777216,Wr(t),Sl=e):Wr(t));break;default:Wr(t)}}function Yy(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function bl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Ce=r,Xy(r,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,_o(t)):bl(t);break;default:bl(t)}}function _o(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Ce=r,Xy(r,t)}Yy(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ji(8,e,e.return),_o(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,_o(e));break;default:_o(e)}t=t.sibling}}function Xy(t,e){for(;Ce!==null;){var i=Ce;switch(i.tag){case 0:case 11:case 15:Ji(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sl(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Ce=r;else t:for(i=t;Ce!==null;){r=Ce;var o=r.sibling,h=r.return;if(qy(r),r===i){Ce=null;break t}if(o!==null){o.return=h,Ce=o;break t}Ce=h}}}var wS={getCacheForType:function(t){var e=je(Te),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},DS=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Zt=null,St=null,Ot=0,kt=0,ln=null,ea=!1,ts=!1,vf=!1,bi=0,re=0,na=0,Wa=0,Ef=0,Tn=0,es=0,Rl=null,We=null,Tf=!1,Af=0,vo=1/0,Eo=null,ia=null,ze=0,aa=null,ns=null,is=0,Sf=0,bf=null,Fy=null,wl=0,Rf=null;function un(){if((Pt&2)!==0&&Ot!==0)return Ot&-Ot;if(k.T!==null){var t=Gr;return t!==0?t:Mf()}return qi()}function Zy(){Tn===0&&(Tn=(Ot&536870912)===0||zt?Us():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function on(t,e,i){(t===Zt&&(kt===2||kt===9)||t.cancelPendingCommit!==null)&&(as(t,0),ra(t,Ot,Tn,!1)),ni(t,i),((Pt&2)===0||t!==Zt)&&(t===Zt&&((Pt&2)===0&&(Wa|=i),re===4&&ra(t,Ot,Tn,!1)),Zn(t))}function $y(t,e,i){if((Pt&6)!==0)throw Error(s(327));var r=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Ra(t,e),o=r?OS(t,e):Cf(t,e,!0),h=r;do{if(o===0){ts&&!r&&ra(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!CS(i)){o=Cf(t,e,!1),h=!1;continue}if(o===2){if(h=e,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var E=t;o=Rl;var b=E.current.memoizedState.isDehydrated;if(b&&(as(E,p).flags|=256),p=Cf(E,p,!1),p!==2){if(vf&&!b){E.errorRecoveryDisabledLanes|=h,Wa|=h,o=4;break t}h=We,We=o,h!==null&&(We===null?We=h:We.push.apply(We,h))}o=p}if(h=!1,o!==2)continue}}if(o===1){as(t,0),ra(t,e,0,!0);break}t:{switch(r=t,h=o,h){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:ra(r,e,Tn,!ea);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(o=Af+300-cn(),10<o)){if(ra(r,e,Tn,!ea),Tr(r,0,!0)!==0)break t;r.timeoutHandle=w_(Jy.bind(null,r,i,We,Eo,Tf,e,Tn,Wa,es,ea,h,2,-0,0),o);break t}Jy(r,i,We,Eo,Tf,e,Tn,Wa,es,ea,h,0,-0,0)}}break}while(!0);Zn(t)}function Jy(t,e,i,r,o,h,p,E,b,z,j,Q,B,q){if(t.timeoutHandle=-1,Q=e.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:o1},Qy(e),Q=h1(),Q!==null)){t.cancelPendingCommit=Q(r_.bind(null,t,e,h,i,r,o,p,E,b,j,1,B,q)),ra(t,h,p,!z);return}r_(t,e,h,i,r,o,p,E,b)}function CS(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],h=o.getSnapshot;o=o.value;try{if(!nn(h(),o))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e,i,r){e&=~Ef,e&=~Wa,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var o=e;0<o;){var h=31-ke(o),p=1<<h;r[h]=-1,o&=~p}i!==0&&Un(t,i,e)}function To(){return(Pt&6)===0?(Dl(0),!1):!0}function wf(){if(St!==null){if(kt===0)var t=St.return;else t=St,pi=Ka=null,kh(t),Zr=null,yl=0,t=St;for(;t!==null;)Ny(t.alternate,t),t=t.return;St=null}}function as(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,YS(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),wf(),Zt=t,St=i=di(t.current,null),Ot=e,kt=0,ln=null,ea=!1,ts=Ra(t,e),vf=!1,es=Tn=Ef=Wa=na=re=0,We=Rl=null,Tf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var o=31-ke(r),h=1<<o;e|=t[o],r&=~h}return bi=e,ku(),i}function Wy(t,e){vt=null,k.H=lo,e===ul||e===$u?(e=pp(),kt=3):e===dp?(e=pp(),kt=4):kt=e===yy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,St===null&&(re=1,fo(t,pn(e,t.current)))}function t_(){var t=k.H;return k.H=lo,t===null?lo:t}function e_(){var t=k.A;return k.A=wS,t}function Df(){re=4,ea||(Ot&4194048)!==Ot&&En.current!==null||(ts=!0),(na&134217727)===0&&(Wa&134217727)===0||Zt===null||ra(Zt,Ot,Tn,!1)}function Cf(t,e,i){var r=Pt;Pt|=2;var o=t_(),h=e_();(Zt!==t||Ot!==e)&&(Eo=null,as(t,e)),e=!1;var p=re;t:do try{if(kt!==0&&St!==null){var E=St,b=ln;switch(kt){case 8:wf(),p=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(e=!0);var z=kt;if(kt=0,ln=null,rs(t,E,b,z),i&&ts){p=0;break t}break;default:z=kt,kt=0,ln=null,rs(t,E,b,z)}}VS(),p=re;break}catch(j){Wy(t,j)}while(!0);return e&&t.shellSuspendCounter++,pi=Ka=null,Pt=r,k.H=o,k.A=h,St===null&&(Zt=null,Ot=0,ku()),p}function VS(){for(;St!==null;)n_(St)}function OS(t,e){var i=Pt;Pt|=2;var r=t_(),o=e_();Zt!==t||Ot!==e?(Eo=null,vo=cn()+500,as(t,e)):ts=Ra(t,e);t:do try{if(kt!==0&&St!==null){e=St;var h=ln;e:switch(kt){case 1:kt=0,ln=null,rs(t,e,h,1);break;case 2:case 9:if(mp(h)){kt=0,ln=null,i_(e);break}e=function(){kt!==2&&kt!==9||Zt!==t||(kt=7),Zn(t)},h.then(e,e);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:mp(h)?(kt=0,ln=null,i_(e)):(kt=0,ln=null,rs(t,e,h,7));break;case 5:var p=null;switch(St.tag){case 26:p=St.memoizedState;case 5:case 27:var E=St;if(!p||B_(p)){kt=0,ln=null;var b=E.sibling;if(b!==null)St=b;else{var z=E.return;z!==null?(St=z,Ao(z)):St=null}break e}}kt=0,ln=null,rs(t,e,h,5);break;case 6:kt=0,ln=null,rs(t,e,h,6);break;case 8:wf(),re=6;break t;default:throw Error(s(462))}}NS();break}catch(j){Wy(t,j)}while(!0);return pi=Ka=null,k.H=r,k.A=o,Pt=i,St!==null?0:(Zt=null,Ot=0,ku(),re)}function NS(){for(;St!==null&&!Ns();)n_(St)}function n_(t){var e=Vy(t.alternate,t,bi);t.memoizedProps=t.pendingProps,e===null?Ao(t):St=e}function i_(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Sy(i,e,e.pendingProps,e.type,void 0,Ot);break;case 11:e=Sy(i,e,e.pendingProps,e.type.render,e.ref,Ot);break;case 5:kh(e);default:Ny(i,e),e=St=ap(e,bi),e=Vy(i,e,bi)}t.memoizedProps=t.pendingProps,e===null?Ao(t):St=e}function rs(t,e,i,r){pi=Ka=null,kh(e),Zr=null,yl=0;var o=e.return;try{if(ES(t,o,e,i,Ot)){re=1,fo(t,pn(i,t.current)),St=null;return}}catch(h){if(o!==null)throw St=o,h;re=1,fo(t,pn(i,t.current)),St=null;return}e.flags&32768?(zt||r===1?t=!0:ts||(Ot&536870912)!==0?t=!1:(ea=t=!0,(r===2||r===9||r===3||r===6)&&(r=En.current,r!==null&&r.tag===13&&(r.flags|=16384))),a_(e,t)):Ao(e)}function Ao(t){var e=t;do{if((e.flags&32768)!==0){a_(e,ea);return}t=e.return;var i=AS(e.alternate,e,bi);if(i!==null){St=i;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);re===0&&(re=5)}function a_(t,e){do{var i=SS(t.alternate,t);if(i!==null){i.flags&=32767,St=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){St=t;return}St=t=i}while(t!==null);re=6,St=null}function r_(t,e,i,r,o,h,p,E,b){t.cancelPendingCommit=null;do So();while(ze!==0);if((Pt&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(h=e.lanes|e.childLanes,h|=yh,Ls(t,i,h,p,E,b),t===Zt&&(St=Zt=null,Ot=0),ns=e,aa=t,is=i,Sf=h,bf=o,Fy=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,US(Ta,function(){return c_(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,o=$.p,$.p=2,p=Pt,Pt|=4;try{bS(t,e,i)}finally{Pt=p,$.p=o,k.T=r}}ze=1,s_(),l_(),u_()}}function s_(){if(ze===1){ze=0;var t=aa,e=ns,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var r=$.p;$.p=2;var o=Pt;Pt|=4;try{ky(e,t);var h=Hf,p=Xg(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&Kg(E.ownerDocument.documentElement,E)){if(b!==null&&fh(E)){var z=b.start,j=b.end;if(j===void 0&&(j=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),ft=E.textContent.length,ut=Math.min(b.start,ft),Yt=b.end===void 0?ut:Math.min(b.end,ft);!q.extend&&ut>Yt&&(p=Yt,Yt=ut,ut=p);var M=Yg(E,ut),C=Yg(E,Yt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var U=Q.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),ut>Yt?(q.addRange(U),q.extend(C.node,C.offset)):(U.setEnd(C.node,C.offset),q.addRange(U))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Uo=!!qf,Hf=qf=null}finally{Pt=o,$.p=r,k.T=i}}t.current=e,ze=2}}function l_(){if(ze===2){ze=0;var t=aa,e=ns,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var r=$.p;$.p=2;var o=Pt;Pt|=4;try{By(t,e.alternate,e)}finally{Pt=o,$.p=r,k.T=i}}ze=3}}function u_(){if(ze===4||ze===3){ze=0,yu();var t=aa,e=ns,i=is,r=Fy;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ze=5:(ze=0,ns=aa=null,o_(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(ia=null),Ar(i),e=e.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ie,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=k.T,o=$.p,$.p=2,k.T=null;try{for(var h=t.onRecoverableError,p=0;p<r.length;p++){var E=r[p];h(E.value,{componentStack:E.stack})}}finally{k.T=e,$.p=o}}(is&3)!==0&&So(),Zn(t),o=t.pendingLanes,(i&4194090)!==0&&(o&42)!==0?t===Rf?wl++:(wl=0,Rf=t):wl=0,Dl(0)}}function o_(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sl(e)))}function So(t){return s_(),l_(),u_(),c_()}function c_(){if(ze!==5)return!1;var t=aa,e=Sf;Sf=0;var i=Ar(is),r=k.T,o=$.p;try{$.p=32>i?32:i,k.T=null,i=bf,bf=null;var h=aa,p=is;if(ze=0,ns=aa=null,is=0,(Pt&6)!==0)throw Error(s(331));var E=Pt;if(Pt|=4,Ky(h.current),Gy(h,h.current,p,i),Pt=E,Dl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ie,h)}catch{}return!0}finally{$.p=o,k.T=r,o_(t,e)}}function h_(t,e,i){e=pn(i,e),e=nf(t.stateNode,e,2),t=Xi(t,e,2),t!==null&&(ni(t,2),Zn(t))}function Kt(t,e,i){if(t.tag===3)h_(t,t,i);else for(;e!==null;){if(e.tag===3){h_(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){t=pn(i,t),i=gy(2),r=Xi(e,i,2),r!==null&&(py(i,r,e,t),ni(r,2),Zn(r));break}}e=e.return}}function Vf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new DS;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(i)||(vf=!0,o.add(i),t=MS.bind(null,t,e,i),e.then(t,t))}function MS(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Zt===t&&(Ot&i)===i&&(re===4||re===3&&(Ot&62914560)===Ot&&300>cn()-Af?(Pt&2)===0&&as(t,0):Ef|=i,es===Ot&&(es=0)),Zn(t)}function f_(t,e){e===0&&(e=zs()),t=Hr(t,e),t!==null&&(ni(t,e),Zn(t))}function IS(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),f_(t,i)}function xS(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(e),f_(t,i)}function US(t,e){return va(t,e)}var bo=null,ss=null,Of=!1,Ro=!1,Nf=!1,tr=0;function Zn(t){t!==ss&&t.next===null&&(ss===null?bo=ss=t:ss=ss.next=t),Ro=!0,Of||(Of=!0,LS())}function Dl(t,e){if(!Nf&&Ro){Nf=!0;do for(var i=!1,r=bo;r!==null;){if(t!==0){var o=r.pendingLanes;if(o===0)var h=0;else{var p=r.suspendedLanes,E=r.pingedLanes;h=(1<<31-ke(42|t)+1)-1,h&=o&~(p&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,p_(r,h))}else h=Ot,h=Tr(r,r===Zt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Ra(r,h)||(i=!0,p_(r,h));r=r.next}while(i);Nf=!1}}function zS(){d_()}function d_(){Ro=Of=!1;var t=0;tr!==0&&(QS()&&(t=tr),tr=0);for(var e=cn(),i=null,r=bo;r!==null;){var o=r.next,h=m_(r,e);h===0?(r.next=null,i===null?bo=o:i.next=o,o===null&&(ss=i)):(i=r,(t!==0||(h&3)!==0)&&(Ro=!0)),r=o}Dl(t)}function m_(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-ke(h),E=1<<p,b=o[p];b===-1?((E&i)===0||(E&r)!==0)&&(o[p]=xs(E,e)):b<=e&&(t.expiredLanes|=E),h&=~E}if(e=Zt,i=Ot,i=Tr(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(kt===2||kt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ea(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ra(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Ea(r),Ar(i)){case 2:case 8:i=vr;break;case 32:i=Ta;break;case 268435456:i=Er;break;default:i=Ta}return r=g_.bind(null,t),i=va(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Ea(r),t.callbackPriority=2,t.callbackNode=null,2}function g_(t,e){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(So()&&t.callbackNode!==i)return null;var r=Ot;return r=Tr(t,t===Zt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:($y(t,r,e),m_(t,cn()),t.callbackNode!=null&&t.callbackNode===i?g_.bind(null,t):null)}function p_(t,e){if(So())return null;$y(t,e,!0)}function LS(){KS(function(){(Pt&6)!==0?va(Ms,zS):d_()})}function Mf(){return tr===0&&(tr=Us()),tr}function y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function __(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function BS(t,e,i,r,o){if(e==="submit"&&i&&i.stateNode===o){var h=y_((o[fe]||null).action),p=r.submitter;p&&(e=(e=p[fe]||null)?y_(e.formAction):p.getAttribute("formAction"),e!==null&&(h=e,p=null));var E=new Vr("action","action",null,r,o);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(tr!==0){var b=p?__(o,p):new FormData(o);$h(i,{pending:!0,data:b,method:o.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=p?__(o,p):new FormData(o),$h(i,{pending:!0,data:b,method:o.method,action:h},h,b))},currentTarget:o}]})}}for(var If=0;If<ph.length;If++){var xf=ph[If],qS=xf.toLowerCase(),HS=xf[0].toUpperCase()+xf.slice(1);wn(qS,"on"+HS)}wn($g,"onAnimationEnd"),wn(Jg,"onAnimationIteration"),wn(Wg,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(iS,"onTransitionRun"),wn(aS,"onTransitionStart"),wn(rS,"onTransitionCancel"),wn(tp,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function v_(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],o=r.event;r=r.listeners;t:{var h=void 0;if(e)for(var p=r.length-1;0<=p;p--){var E=r[p],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==h&&o.isPropagationStopped())break t;h=E,o.currentTarget=z;try{h(o)}catch(j){ho(j)}o.currentTarget=null,h=b}else for(p=0;p<r.length;p++){if(E=r[p],b=E.instance,z=E.currentTarget,E=E.listener,b!==h&&o.isPropagationStopped())break t;h=E,o.currentTarget=z;try{h(o)}catch(j){ho(j)}o.currentTarget=null,h=b}}}}function bt(t,e){var i=e[qs];i===void 0&&(i=e[qs]=new Set);var r=t+"__bubble";i.has(r)||(E_(e,t,2,!1),i.add(r))}function Uf(t,e,i){var r=0;e&&(r|=4),E_(i,t,r,e)}var wo="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[wo]){t[wo]=!0,Hs.forEach(function(i){i!=="selectionchange"&&(PS.has(i)||Uf(i,!1,t),Uf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wo]||(e[wo]=!0,Uf("selectionchange",!1,e))}}function E_(t,e,i,r){switch(G_(e)){case 2:var o=m1;break;case 8:o=g1;break;default:o=Zf}i=o.bind(null,e,i,t),o=void 0,!mn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function Lf(t,e,i,r,o){var h=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var E=r.stateNode.containerInfo;if(E===o)break;if(p===4)for(p=r.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;E!==null;){if(p=ii(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){r=h=p;continue t}E=E.parentNode}}r=r.return}Du(function(){var z=h,j=dn(i),Q=[];t:{var B=ep.get(t);if(B!==void 0){var q=Vr,ft=t;switch(t){case"keypress":if(Pn(i)===0)break t;case"keydown":case"keyup":q=Ur;break;case"focusin":ft="focus",q=Mr;break;case"focusout":ft="blur",q=Mr;break;case"beforeblur":case"afterblur":q=Mr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Uu;break;case $g:case Jg:case Wg:q=Ir;break;case tp:q=Lu;break;case"scroll":case"scrollend":q=Cu;break;case"wheel":q=zr;break;case"copy":case"cut":case"paste":q=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Js;break;case"toggle":case"beforetoggle":q=qu}var ut=(e&4)!==0,Yt=!ut&&(t==="scroll"||t==="scrollend"),M=ut?B!==null?B+"Capture":null:B;ut=[];for(var C=z,U;C!==null;){var G=C;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||M===null||(G=Ia(C,M),G!=null&&ut.push(Vl(C,G,U))),Yt)break;C=C.return}0<ut.length&&(B=new q(B,ft,null,i,j),Q.push({event:B,listeners:ut}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&i!==li&&(ft=i.relatedTarget||i.fromElement)&&(ii(ft)||ft[hn]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ft=i.relatedTarget||i.toElement,q=z,ft=ft?ii(ft):null,ft!==null&&(Yt=f(ft),ut=ft.tag,ft!==Yt||ut!==5&&ut!==27&&ut!==6)&&(ft=null)):(q=null,ft=z),q!==ft)){if(ut=gn,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ut=Js,G="onPointerLeave",M="onPointerEnter",C="pointer"),Yt=q==null?B:Ln(q),U=ft==null?B:Ln(ft),B=new ut(G,C+"leave",q,i,j),B.target=Yt,B.relatedTarget=U,G=null,ii(j)===z&&(ut=new ut(M,C+"enter",ft,i,j),ut.target=U,ut.relatedTarget=Yt,G=ut),Yt=G,q&&ft)e:{for(ut=q,M=ft,C=0,U=ut;U;U=ls(U))C++;for(U=0,G=M;G;G=ls(G))U++;for(;0<C-U;)ut=ls(ut),C--;for(;0<U-C;)M=ls(M),U--;for(;C--;){if(ut===M||M!==null&&ut===M.alternate)break e;ut=ls(ut),M=ls(M)}ut=null}else ut=null;q!==null&&T_(Q,B,q,ut,!1),ft!==null&&Yt!==null&&T_(Q,Yt,ft,ut,!0)}}t:{if(B=z?Ln(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var it=Hg;else if(Ee(B))if(Pg)it=tS;else{it=JA;var At=$A}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Qs(z.elementType)&&(it=Hg):it=WA;if(it&&(it=it(t,z))){fi(Q,it,i,j);break t}At&&At(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ji(B,"number",B.value)}switch(At=z?Ln(z):window,t){case"focusin":(Ee(At)||At.contentEditable==="true")&&(Lr=At,dh=z,el=null);break;case"focusout":el=dh=Lr=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Fg(Q,i,j);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":Fg(Q,i,j)}var at;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Ct?H(t,i)&&(ht="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ht="onCompositionStart");ht&&(g&&i.locale!=="ko"&&(Ct||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Ct&&(at=Ks()):(Hn=j,Gi="value"in Hn?Hn.value:Hn.textContent,Ct=!0)),At=Do(z,ht),0<At.length&&(ht=new Zs(ht,t,null,i,j),Q.push({event:ht,listeners:At}),at?ht.data=at:(at=Z(i),at!==null&&(ht.data=at)))),(at=d?ve(t,i):Vt(t,i))&&(ht=Do(z,"onBeforeInput"),0<ht.length&&(At=new Zs("onBeforeInput","beforeinput",null,i,j),Q.push({event:At,listeners:ht}),At.data=at)),BS(Q,t,z,i,j)}v_(Q,e)})}function Vl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Do(t,e){for(var i=e+"Capture",r=[];t!==null;){var o=t,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=Ia(t,i),o!=null&&r.unshift(Vl(t,o,h)),o=Ia(t,e),o!=null&&r.push(Vl(t,o,h))),t.tag===3)return r;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T_(t,e,i,r,o){for(var h=e._reactName,p=[];i!==null&&i!==r;){var E=i,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===r)break;E!==5&&E!==26&&E!==27||z===null||(b=z,o?(z=Ia(i,h),z!=null&&p.unshift(Vl(i,z,b))):o||(z=Ia(i,h),z!=null&&p.push(Vl(i,z,b)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var kS=/\r\n?/g,jS=/\u0000|\uFFFD/g;function A_(t){return(typeof t=="string"?t:""+t).replace(kS,`
`).replace(jS,"")}function S_(t,e){return e=A_(e),A_(t)===e}function Co(){}function Qt(t,e,i,r,o,h){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||fn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&fn(t,""+r);break;case"className":Bn(t,"class",r);break;case"tabIndex":Bn(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,i,r);break;case"style":Gs(t,r,h);break;case"data":if(e!=="object"){Bn(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Cr(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Qt(t,e,"name",o.name,o,null),Qt(t,e,"formEncType",o.formEncType,o,null),Qt(t,e,"formMethod",o.formMethod,o,null),Qt(t,e,"formTarget",o.formTarget,o,null)):(Qt(t,e,"encType",o.encType,o,null),Qt(t,e,"method",o.method,o,null),Qt(t,e,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Cr(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Co);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Cr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":bt("beforetoggle",t),bt("toggle",t),ki(t,"popover",r);break;case"xlinkActuate":Ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ie(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ie(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ie(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ie(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ki(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=sh.get(i)||i,ki(t,i,r))}}function Bf(t,e,i,r,o,h){switch(i){case"style":Gs(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof r=="string"?fn(t,r):(typeof r=="number"||typeof r=="bigint")&&fn(t,""+r);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),e=i.slice(2,o?i.length-7:void 0),h=t[fe]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,o),typeof r=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,o);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):ki(t,i,r)}}}function Le(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var r=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var p=i[h];if(p!=null)switch(h){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Qt(t,e,h,p,i,null)}}o&&Qt(t,e,"srcSet",i.srcSet,i,null),r&&Qt(t,e,"src",i.src,i,null);return;case"input":bt("invalid",t);var E=h=p=o=null,b=null,z=null;for(r in i)if(i.hasOwnProperty(r)){var j=i[r];if(j!=null)switch(r){case"name":o=j;break;case"type":p=j;break;case"checked":b=j;break;case"defaultChecked":z=j;break;case"value":h=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,e));break;default:Qt(t,e,r,j,i,null)}}Oa(t,h,E,b,z,p,o,!1),Dr(t);return;case"select":bt("invalid",t),r=p=h=null;for(o in i)if(i.hasOwnProperty(o)&&(E=i[o],E!=null))switch(o){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":r=E;default:Qt(t,e,o,E,i,null)}e=h,i=p,t.multiple=!!r,e!=null?si(t,!!r,e,!1):i!=null&&si(t,!!r,i,!0);return;case"textarea":bt("invalid",t),h=o=r=null;for(p in i)if(i.hasOwnProperty(p)&&(E=i[p],E!=null))switch(p){case"value":r=E;break;case"defaultValue":o=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(t,e,p,E,i,null)}Na(t,r,o,h),Dr(t);return;case"option":for(b in i)if(i.hasOwnProperty(b)&&(r=i[b],r!=null))switch(b){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qt(t,e,b,r,i,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(r=0;r<Cl.length;r++)bt(Cl[r],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(r=i[z],r!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Qt(t,e,z,r,i,null)}return;default:if(Qs(e)){for(j in i)i.hasOwnProperty(j)&&(r=i[j],r!==void 0&&Bf(t,e,j,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&Qt(t,e,E,r,i,null))}function GS(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,p=null,E=null,b=null,z=null,j=null;for(q in i){var Q=i[q];if(i.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Q;default:r.hasOwnProperty(q)||Qt(t,e,q,null,r,Q)}}for(var B in r){var q=r[B];if(Q=i[B],r.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":h=q;break;case"name":o=q;break;case"checked":z=q;break;case"defaultChecked":j=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,e));break;default:q!==Q&&Qt(t,e,B,q,r,Q)}}en(t,p,E,b,z,j,h,o);return;case"select":q=p=E=B=null;for(h in i)if(b=i[h],i.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":q=b;default:r.hasOwnProperty(h)||Qt(t,e,h,null,r,b)}for(o in r)if(h=r[o],b=i[o],r.hasOwnProperty(o)&&(h!=null||b!=null))switch(o){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==b&&Qt(t,e,o,h,r,b)}e=E,i=p,r=q,B!=null?si(t,!!i,B,!1):!!r!=!!i&&(e!=null?si(t,!!i,e,!0):si(t,!!i,i?[]:"",!1));return;case"textarea":q=B=null;for(E in i)if(o=i[E],i.hasOwnProperty(E)&&o!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,e,E,null,r,o)}for(p in r)if(o=r[p],h=i[p],r.hasOwnProperty(p)&&(o!=null||h!=null))switch(p){case"value":B=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==h&&Qt(t,e,p,o,r,h)}jt(t,B,q);return;case"option":for(var ft in i)if(B=i[ft],i.hasOwnProperty(ft)&&B!=null&&!r.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Qt(t,e,ft,null,r,B)}for(b in r)if(B=r[b],q=i[b],r.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(t,e,b,B,r,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in i)B=i[ut],i.hasOwnProperty(ut)&&B!=null&&!r.hasOwnProperty(ut)&&Qt(t,e,ut,null,r,B);for(z in r)if(B=r[z],q=i[z],r.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,e));break;default:Qt(t,e,z,B,r,q)}return;default:if(Qs(e)){for(var Yt in i)B=i[Yt],i.hasOwnProperty(Yt)&&B!==void 0&&!r.hasOwnProperty(Yt)&&Bf(t,e,Yt,void 0,r,B);for(j in r)B=r[j],q=i[j],!r.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||Bf(t,e,j,B,r,q);return}}for(var M in i)B=i[M],i.hasOwnProperty(M)&&B!=null&&!r.hasOwnProperty(M)&&Qt(t,e,M,null,r,B);for(Q in r)B=r[Q],q=i[Q],!r.hasOwnProperty(Q)||B===q||B==null&&q==null||Qt(t,e,Q,B,r,q)}var qf=null,Hf=null;function Vo(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Pf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kf=null;function QS(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(XS)}:w_;function XS(t){setTimeout(function(){throw t})}function sa(t){return t==="head"}function C_(t,e){var i=e,r=0,o=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<r&&8>r){i=r;var p=t.ownerDocument;if(i&1&&Ol(p.documentElement),i&2&&Ol(p.body),i&4)for(i=p.head,Ol(i),p=i.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[wa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=E}}if(o===0){t.removeChild(h),Bl(e);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:r=i.charCodeAt(0)-48;else r=0;i=h}while(i);Bl(e)}function jf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":jf(i),Pi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function FS(t,e,i,r){for(;t.nodeType===1;){var o=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[wa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function ZS(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cn(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $S(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Qf=null;function V_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function O_(t,e,i){switch(e=Vo(i),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Pi(t)}var An=new Map,N_=new Set;function Oo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=$.d;$.d={f:JS,r:WS,D:t1,C:e1,L:n1,m:i1,X:r1,S:a1,M:s1};function JS(){var t=Ri.f(),e=To();return t||e}function WS(t){var e=zn(t);e!==null&&e.tag===5&&e.type==="form"?$p(e):Ri.r(t)}var us=typeof document>"u"?null:document;function M_(t,e,i){var r=us;if(r&&typeof e=="string"&&e){var o=de(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),N_.has(o)||(N_.add(o),t={rel:t,crossOrigin:i,href:e},r.querySelector(o)===null&&(e=r.createElement("link"),Le(e,"link",t),ue(e),r.head.appendChild(e)))}}function t1(t){Ri.D(t),M_("dns-prefetch",t,null)}function e1(t,e){Ri.C(t,e),M_("preconnect",t,e)}function n1(t,e,i){Ri.L(t,e,i);var r=us;if(r&&t&&e){var o='link[rel="preload"][as="'+de(e)+'"]';e==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+de(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+de(i.imageSizes)+'"]')):o+='[href="'+de(t)+'"]';var h=o;switch(e){case"style":h=os(t);break;case"script":h=cs(t)}An.has(h)||(t=S({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),An.set(h,t),r.querySelector(o)!==null||e==="style"&&r.querySelector(Nl(h))||e==="script"&&r.querySelector(Ml(h))||(e=r.createElement("link"),Le(e,"link",t),ue(e),r.head.appendChild(e)))}}function i1(t,e){Ri.m(t,e);var i=us;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+de(r)+'"][href="'+de(t)+'"]',h=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=cs(t)}if(!An.has(h)&&(t=S({rel:"modulepreload",href:t},e),An.set(h,t),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ml(h)))return}r=i.createElement("link"),Le(r,"link",t),ue(r),i.head.appendChild(r)}}}function a1(t,e,i){Ri.S(t,e,i);var r=us;if(r&&t){var o=Qe(r).hoistableStyles,h=os(t);e=e||"default";var p=o.get(h);if(!p){var E={loading:0,preload:null};if(p=r.querySelector(Nl(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},i),(i=An.get(h))&&Yf(t,i);var b=p=r.createElement("link");ue(b),Le(b,"link",t),b._p=new Promise(function(z,j){b.onload=z,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,No(p,e,r)}p={type:"stylesheet",instance:p,count:1,state:E},o.set(h,p)}}}function r1(t,e){Ri.X(t,e);var i=us;if(i&&t){var r=Qe(i).hoistableScripts,o=cs(t),h=r.get(o);h||(h=i.querySelector(Ml(o)),h||(t=S({src:t,async:!0},e),(e=An.get(o))&&Kf(t,e),h=i.createElement("script"),ue(h),Le(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function s1(t,e){Ri.M(t,e);var i=us;if(i&&t){var r=Qe(i).hoistableScripts,o=cs(t),h=r.get(o);h||(h=i.querySelector(Ml(o)),h||(t=S({src:t,async:!0,type:"module"},e),(e=An.get(o))&&Kf(t,e),h=i.createElement("script"),ue(h),Le(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function I_(t,e,i,r){var o=(o=dt.current)?Oo(o):null;if(!o)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=os(i.href),i=Qe(o).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=os(i.href);var h=Qe(o).hoistableStyles,p=h.get(t);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=o.querySelector(Nl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),An.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},An.set(t,i),h||l1(o,t,i,p.state))),e&&r===null)throw Error(s(528,""));return p}if(e&&r!==null)throw Error(s(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=cs(i),i=Qe(o).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function os(t){return'href="'+de(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function l1(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Le(e,"link",i),ue(e),t.head.appendChild(e))}function cs(t){return'[src="'+de(t)+'"]'}function Ml(t){return"script[async]"+t}function U_(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+de(i.href)+'"]');if(r)return e.instance=r,ue(r),r;var o=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ue(r),Le(r,"style",o),No(r,i.precedence,t),e.instance=r;case"stylesheet":o=os(i.href);var h=t.querySelector(Nl(o));if(h)return e.state.loading|=4,e.instance=h,ue(h),h;r=x_(i),(o=An.get(o))&&Yf(r,o),h=(t.ownerDocument||t).createElement("link"),ue(h);var p=h;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Le(h,"link",r),e.state.loading|=4,No(h,i.precedence,t),e.instance=h;case"script":return h=cs(i.src),(o=t.querySelector(Ml(h)))?(e.instance=o,ue(o),o):(r=i,(o=An.get(h))&&(r=S({},i),Kf(r,o)),t=t.ownerDocument||t,o=t.createElement("script"),ue(o),Le(o,"link",r),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,No(r,i.precedence,t));return e.instance}function No(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,h=o,p=0;p<r.length;p++){var E=r[p];if(E.dataset.precedence===e)h=E;else if(h!==o)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Yf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Kf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Mo=null;function z_(t,e,i){if(Mo===null){var r=new Map,o=Mo=new Map;o.set(i,r)}else o=Mo,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),o=0;o<i.length;o++){var h=i[o];if(!(h[wa]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(e)||"";p=t+p;var E=r.get(p);E?E.push(h):r.set(p,[h])}}return r}function L_(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function u1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function B_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function o1(){}function c1(t,e,i){if(Il===null)throw Error(s(475));var r=Il;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var o=os(i.href),h=t.querySelector(Nl(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Io.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=h,ue(h);return}h=t.ownerDocument||t,i=x_(i),(o=An.get(o))&&Yf(i,o),h=h.createElement("link"),ue(h);var p=h;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Le(h,"link",i),e.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=Io.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function h1(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Io(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xo=null;function Xf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xo=new Map,e.forEach(f1,t),xo=null,Io.call(t))}function f1(t,e){if(!(e.state.loading&4)){var i=xo.get(t);if(i)var r=i.get(null);else{i=new Map,xo.set(t,i);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var p=o[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),r=p)}r&&i.set(null,r)}o=e.instance,p=o.getAttribute("data-precedence"),h=i.get(p)||r,h===r&&i.set(null,o),i.set(p,o),this.count++,r=Io.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),h?h.parentNode.insertBefore(o,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var xl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function d1(t,e,i,r,o,h,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function q_(t,e,i,r,o,h,p,E,b,z,j,Q){return t=new d1(t,e,i,p,E,b,z,Q),e=1,h===!0&&(e|=24),h=an(3,null,null,e),t.current=h,h.stateNode=t,e=Ch(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:e},Mh(h),t}function H_(t){return t?(t=Pr,t):Pr}function P_(t,e,i,r,o,h){o=H_(o),r.context===null?r.context=o:r.pendingContext=o,r=Ki(e),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=Xi(t,r,e),i!==null&&(on(i,t,e),cl(i,t,e))}function k_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Ff(t,e){k_(t,e),(t=t.alternate)&&k_(t,e)}function j_(t){if(t.tag===13){var e=Hr(t,67108864);e!==null&&on(e,t,67108864),Ff(t,67108864)}}var Uo=!0;function m1(t,e,i,r){var o=k.T;k.T=null;var h=$.p;try{$.p=2,Zf(t,e,i,r)}finally{$.p=h,k.T=o}}function g1(t,e,i,r){var o=k.T;k.T=null;var h=$.p;try{$.p=8,Zf(t,e,i,r)}finally{$.p=h,k.T=o}}function Zf(t,e,i,r){if(Uo){var o=$f(r);if(o===null)Lf(t,e,r,zo,i),Q_(t,r);else if(y1(o,t,e,i,r))r.stopPropagation();else if(Q_(t,r),e&4&&-1<p1.indexOf(t)){for(;o!==null;){var h=zn(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Sn(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-ke(p);E.entanglements[1]|=b,p&=~b}Zn(h),(Pt&6)===0&&(vo=cn()+500,Dl(0))}}break;case 13:E=Hr(h,2),E!==null&&on(E,h,2),To(),Ff(h,2)}if(h=$f(r),h===null&&Lf(t,e,r,zo,i),h===o)break;o=h}o!==null&&r.stopPropagation()}else Lf(t,e,r,null,i)}}function $f(t){return t=dn(t),Jf(t)}var zo=null;function Jf(t){if(zo=null,t=ii(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zo=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(th()){case Ms:return 2;case vr:return 8;case Ta:case eh:return 32;case Er:return 268435456;default:return 32}default:return 32}}var Wf=!1,la=null,ua=null,oa=null,Ul=new Map,zl=new Map,ca=[],p1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,e){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Ll(t,e,i,r,o,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[o]},e!==null&&(e=zn(e),e!==null&&j_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function y1(t,e,i,r,o){switch(e){case"focusin":return la=Ll(la,t,e,i,r,o),!0;case"dragenter":return ua=Ll(ua,t,e,i,r,o),!0;case"mouseover":return oa=Ll(oa,t,e,i,r,o),!0;case"pointerover":var h=o.pointerId;return Ul.set(h,Ll(Ul.get(h)||null,t,e,i,r,o)),!0;case"gotpointercapture":return h=o.pointerId,zl.set(h,Ll(zl.get(h)||null,t,e,i,r,o)),!0}return!1}function Y_(t){var e=ii(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,Eu(t.priority,function(){if(i.tag===13){var r=un();r=Bi(r);var o=Hr(i,r);o!==null&&on(o,i,r),Ff(i,r)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=$f(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);li=r,i.target.dispatchEvent(r),li=null}else return e=zn(i),e!==null&&j_(e),t.blockedOn=i,!1;e.shift()}return!0}function K_(t,e,i){Lo(t)&&i.delete(e)}function _1(){Wf=!1,la!==null&&Lo(la)&&(la=null),ua!==null&&Lo(ua)&&(ua=null),oa!==null&&Lo(oa)&&(oa=null),Ul.forEach(K_),zl.forEach(K_)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,Wf||(Wf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,_1)))}var qo=null;function X_(t){qo!==t&&(qo=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){qo===t&&(qo=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],o=t[e+2];if(typeof r!="function"){if(Jf(r||i)===null)continue;break}var h=zn(i);h!==null&&(t.splice(e,3),e-=3,$h(h,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Bl(t){function e(b){return Bo(b,t)}la!==null&&Bo(la,t),ua!==null&&Bo(ua,t),oa!==null&&Bo(oa,t),Ul.forEach(e),zl.forEach(e);for(var i=0;i<ca.length;i++){var r=ca[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ca.length&&(i=ca[0],i.blockedOn===null);)Y_(i),i.blockedOn===null&&ca.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],h=i[r+1],p=o[fe]||null;if(typeof h=="function")p||X_(i);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(o=h,p=h[fe]||null)E=p.formAction;else if(Jf(o)!==null)continue}else E=p.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),X_(i)}}}function td(t){this._internalRoot=t}Ho.prototype.render=td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var i=e.current,r=un();P_(i,r,t,e,null,null)},Ho.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;P_(t.current,2,null,t,null,null),To(),e[hn]=null}};function Ho(t){this._internalRoot=t}Ho.prototype.unstable_scheduleHydration=function(t){if(t){var e=qi();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ca.length&&e!==0&&e<ca[i].priority;i++);ca.splice(i,0,t),i===0&&Y_(t)}};var F_=n.version;if(F_!=="19.1.0")throw Error(s(527,F_,"19.1.0"));$.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var v1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{ie=Po.inject(v1),Ht=Po}catch{}}return fs.createRoot=function(t,e){if(!c(t))throw Error(s(299));var i=!1,r="",o=hy,h=fy,p=dy,E=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=q_(t,1,!1,null,null,i,r,o,h,p,E,null),t[hn]=e.current,zf(t),new td(e)},fs.hydrateRoot=function(t,e,i){if(!c(t))throw Error(s(299));var r=!1,o="",h=hy,p=fy,E=dy,b=null,z=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks),i.formState!==void 0&&(z=i.formState)),e=q_(t,1,!0,e,i??null,r,o,h,p,E,b,z),e.context=H_(null),i=e.current,r=un(),r=Bi(r),o=Ki(r),o.callback=null,Xi(i,o,r),i=r,e.current.lanes=i,ni(e,i),Zn(e),t[hn]=e.current,zf(t),new Ho(e)},fs.version="19.1.0",fs}var fd;function av(){if(fd)return Yo.exports;fd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Yo.exports=iv(),Yo.exports}var rv=av();const sv=ed(rv),lv=()=>{};var dd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&s+1<l.length&&(l.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++s)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},uv=function(l){const n=[];let a=0,s=0;for(;a<l.length;){const c=l[a++];if(c<128)n[s++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[a++];n[s++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[a++],m=l[a++],y=l[a++],v=((c&7)<<18|(f&63)<<12|(m&63)<<6|y&63)-65536;n[s++]=String.fromCharCode(55296+(v>>10)),n[s++]=String.fromCharCode(56320+(v&1023))}else{const f=l[a++],m=l[a++];n[s++]=String.fromCharCode((c&15)<<12|(f&63)<<6|m&63)}}return n.join("")},gd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<l.length;c+=3){const f=l[c],m=c+1<l.length,y=m?l[c+1]:0,v=c+2<l.length,_=v?l[c+2]:0,S=f>>2,L=(f&3)<<4|y>>4;let P=(y&15)<<2|_>>6,X=_&63;v||(X=64,m||(P=64)),s.push(a[S],a[L],a[P],a[X])}return s.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(md(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):uv(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<l.length;){const f=a[l.charAt(c++)],y=c<l.length?a[l.charAt(c)]:0;++c;const _=c<l.length?a[l.charAt(c)]:64;++c;const L=c<l.length?a[l.charAt(c)]:64;if(++c,f==null||y==null||_==null||L==null)throw new ov;const P=f<<2|y>>4;if(s.push(P),_!==64){const X=y<<4&240|_>>2;if(s.push(X),L!==64){const et=_<<6&192|L;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class ov extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cv=function(l){const n=md(l);return gd.encodeByteArray(n,!0)},ql=function(l){return cv(l).replace(/\./g,"")},hv=function(l){try{return gd.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=()=>fv().__FIREBASE_DEFAULTS__,mv=()=>{if(typeof process>"u"||typeof dd>"u")return;const l=dd.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},gv=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&hv(l[1]);return n&&JSON.parse(n)},Zo=()=>{try{return lv()||dv()||mv()||gv()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},pv=l=>{var n,a;return(a=(n=Zo())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[l]},yv=l=>{const n=pv(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},pd=()=>{var l;return(l=Zo())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[ql(JSON.stringify(a)),ql(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tv(){var l;const n=(l=Zo())===null||l===void 0?void 0:l.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Av(){return!Tv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sv(){try{return typeof indexedDB=="object"}catch{return!1}}function bv(){return new Promise((l,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(s),l(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{var f;n(((f=c.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="FirebaseError";class er extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=Rv,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},c=`${this.service}/${n}`,f=this.errors[n],m=f?wv(f,s):"Error",y=`${this.serviceName}: ${m} (${c}).`;return new er(c,y,s)}}function wv(l,n){return l.replace(Dv,(a,s)=>{const c=n[s];return c!=null?String(c):`<${s}?>`})}const Dv=/\{\$([^}]+)}/g;function Hl(l,n){if(l===n)return!0;const a=Object.keys(l),s=Object.keys(n);for(const c of a){if(!s.includes(c))return!1;const f=l[c],m=n[c];if(_d(f)&&_d(m)){if(!Hl(f,m))return!1}else if(f!==m)return!1}for(const c of s)if(!a.includes(c))return!1;return!0}function _d(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(l){return l&&l._delegate?l._delegate:l}class ds{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new _v;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),c=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(c)return null;throw f}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Nv(n))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:c});s.resolve(f)}catch{}}}}clearInstance(n=fa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=fa){return this.instances.has(n)}getOptions(n=fa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[f,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&m.resolve(c)}return c}onInit(n,a){var s;const c=this.normalizeInstanceIdentifier(a),f=(s=this.onInitCallbacks.get(c))!==null&&s!==void 0?s:new Set;f.add(n),this.onInitCallbacks.set(c,f);const m=this.instances.get(c);return m&&n(m,c),()=>{f.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const c of s)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ov(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=fa){return this.component?this.component.multipleInstances?n:fa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ov(l){return l===fa?void 0:l}function Nv(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new Vv(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Rt||(Rt={}));const Iv={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},xv=Rt.INFO,Uv={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},zv=(l,n,...a)=>{if(n<l.logLevel)return;const s=new Date().toISOString(),c=Uv[n];if(c)console[c](`[${s}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class vd{constructor(n){this.name=n,this._logLevel=xv,this._logHandler=zv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Rt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Iv[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...n),this._logHandler(this,Rt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...n),this._logHandler(this,Rt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...n),this._logHandler(this,Rt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...n),this._logHandler(this,Rt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...n),this._logHandler(this,Rt.ERROR,...n)}}const Lv=(l,n)=>n.some(a=>l instanceof a);let Ed,Td;function Bv(){return Ed||(Ed=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qv(){return Td||(Td=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ad=new WeakMap,$o=new WeakMap,Sd=new WeakMap,Jo=new WeakMap,Wo=new WeakMap;function Hv(l){const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",m)},f=()=>{a(wi(l.result)),c()},m=()=>{s(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&Ad.set(a,l)}).catch(()=>{}),Wo.set(n,l),n}function Pv(l){if($o.has(l))return;const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",m),l.removeEventListener("abort",m)},f=()=>{a(),c()},m=()=>{s(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",m),l.addEventListener("abort",m)});$o.set(l,n)}let tc={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return $o.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Sd.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return wi(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function kv(l){tc=l(tc)}function jv(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=l.call(ec(this),n,...a);return Sd.set(s,n.sort?n.sort():[n]),wi(s)}:qv().includes(l)?function(...n){return l.apply(ec(this),n),wi(Ad.get(this))}:function(...n){return wi(l.apply(ec(this),n))}}function Gv(l){return typeof l=="function"?jv(l):(l instanceof IDBTransaction&&Pv(l),Lv(l,Bv())?new Proxy(l,tc):l)}function wi(l){if(l instanceof IDBRequest)return Hv(l);if(Jo.has(l))return Jo.get(l);const n=Gv(l);return n!==l&&(Jo.set(l,n),Wo.set(n,l)),n}const ec=l=>Wo.get(l);function Qv(l,n,{blocked:a,upgrade:s,blocking:c,terminated:f}={}){const m=indexedDB.open(l,n),y=wi(m);return s&&m.addEventListener("upgradeneeded",v=>{s(wi(m.result),v.oldVersion,v.newVersion,wi(m.transaction),v)}),a&&m.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),c&&v.addEventListener("versionchange",_=>c(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const Yv=["get","getKey","getAll","getAllKeys","count"],Kv=["put","add","delete","clear"],nc=new Map;function bd(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(nc.get(n))return nc.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,c=Kv.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(c||Yv.includes(a)))return;const f=async function(m,...y){const v=this.transaction(m,c?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),c&&v.done]))[0]};return nc.set(n,f),f}kv(l=>({...l,get:(n,a,s)=>bd(n,a)||l.get(n,a,s),has:(n,a)=>!!bd(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Fv(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function Fv(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const ic="@firebase/app",Rd="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new vd("@firebase/app"),Zv="@firebase/app-compat",$v="@firebase/analytics-compat",Jv="@firebase/analytics",Wv="@firebase/app-check-compat",t0="@firebase/app-check",e0="@firebase/auth",n0="@firebase/auth-compat",i0="@firebase/database",a0="@firebase/data-connect",r0="@firebase/database-compat",s0="@firebase/functions",l0="@firebase/functions-compat",u0="@firebase/installations",o0="@firebase/installations-compat",c0="@firebase/messaging",h0="@firebase/messaging-compat",f0="@firebase/performance",d0="@firebase/performance-compat",m0="@firebase/remote-config",g0="@firebase/remote-config-compat",p0="@firebase/storage",y0="@firebase/storage-compat",_0="@firebase/firestore",v0="@firebase/vertexai",E0="@firebase/firestore-compat",T0="firebase",A0="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]",S0={[ic]:"fire-core",[Zv]:"fire-core-compat",[Jv]:"fire-analytics",[$v]:"fire-analytics-compat",[t0]:"fire-app-check",[Wv]:"fire-app-check-compat",[e0]:"fire-auth",[n0]:"fire-auth-compat",[i0]:"fire-rtdb",[a0]:"fire-data-connect",[r0]:"fire-rtdb-compat",[s0]:"fire-fn",[l0]:"fire-fn-compat",[u0]:"fire-iid",[o0]:"fire-iid-compat",[c0]:"fire-fcm",[h0]:"fire-fcm-compat",[f0]:"fire-perf",[d0]:"fire-perf-compat",[m0]:"fire-rc",[g0]:"fire-rc-compat",[p0]:"fire-gcs",[y0]:"fire-gcs-compat",[_0]:"fire-fst",[E0]:"fire-fst-compat",[v0]:"fire-vertex","fire-js":"fire-js",[T0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Map,b0=new Map,rc=new Map;function wd(l,n){try{l.container.addComponent(n)}catch(a){$n.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function kl(l){const n=l.name;if(rc.has(n))return $n.debug(`There were multiple attempts to register component ${n}.`),!1;rc.set(n,l);for(const a of Pl.values())wd(a,l);for(const a of b0.values())wd(a,l);return!0}function R0(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function w0(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new yd("app","Firebase",D0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(n,a,s){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=A0;function Dd(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const s=Object.assign({name:ac,automaticDataCollectionEnabled:!1},n),c=s.name;if(typeof c!="string"||!c)throw Di.create("bad-app-name",{appName:String(c)});if(a||(a=pd()),!a)throw Di.create("no-options");const f=Pl.get(c);if(f){if(Hl(a,f.options)&&Hl(s,f.config))return f;throw Di.create("duplicate-app",{appName:c})}const m=new Mv(c);for(const v of rc.values())m.addComponent(v);const y=new C0(a,s,m);return Pl.set(c,y),y}function O0(l=ac){const n=Pl.get(l);if(!n&&l===ac&&pd())return Dd();if(!n)throw Di.create("no-app",{appName:l});return n}function nr(l,n,a){var s;let c=(s=S0[l])!==null&&s!==void 0?s:l;a&&(c+=`-${a}`);const f=c.match(/\s|\//),m=n.match(/\s|\//);if(f||m){const y=[`Unable to register library "${c}" with version "${n}":`];f&&y.push(`library name "${c}" contains illegal characters (whitespace or "/")`),f&&m&&y.push("and"),m&&y.push(`version name "${n}" contains illegal characters (whitespace or "/")`),$n.warn(y.join(" "));return}kl(new ds(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firebase-heartbeat-database",M0=1,ms="firebase-heartbeat-store";let sc=null;function Cd(){return sc||(sc=Qv(N0,M0,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(ms)}catch(a){console.warn(a)}}}}).catch(l=>{throw Di.create("idb-open",{originalErrorMessage:l.message})})),sc}async function I0(l){try{const a=(await Cd()).transaction(ms),s=await a.objectStore(ms).get(Od(l));return await a.done,s}catch(n){if(n instanceof er)$n.warn(n.message);else{const a=Di.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});$n.warn(a.message)}}}async function Vd(l,n){try{const s=(await Cd()).transaction(ms,"readwrite");await s.objectStore(ms).put(n,Od(l)),await s.done}catch(a){if(a instanceof er)$n.warn(a.message);else{const s=Di.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});$n.warn(s.message)}}}function Od(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=1024,U0=30;class z0{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new B0(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,a;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Nd();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(m=>m.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>U0){const m=q0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$n.warn(s)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Nd(),{heartbeatsToSend:s,unsentEntries:c}=L0(this._heartbeatsCache.heartbeats),f=ql(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return $n.warn(a),""}}}function Nd(){return new Date().toISOString().substring(0,10)}function L0(l,n=x0){const a=[];let s=l.slice();for(const c of l){const f=a.find(m=>m.agent===c.agent);if(f){if(f.dates.push(c.date),Md(a)>n){f.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),Md(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class B0{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sv()?bv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await I0(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const c=await this.read();return Vd(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const c=await this.read();return Vd(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Md(l){return ql(JSON.stringify({version:2,heartbeats:l})).length}function q0(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let s=1;s<l.length;s++)l[s].date<a&&(a=l[s].date,n=s);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(l){kl(new ds("platform-logger",n=>new Xv(n),"PRIVATE")),kl(new ds("heartbeat",n=>new z0(n),"PRIVATE")),nr(ic,Rd,l),nr(ic,Rd,"esm2017"),nr("fire-js","")}H0("");var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,xd;(function(){var l;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function n(O,A){function w(){}w.prototype=A.prototype,O.D=A.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,N,I){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return A.prototype[N].apply(V,R)}}function a(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(s,a),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(O,A,w){w||(w=0);var V=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)V[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=O.g[0],w=O.g[1],N=O.g[2];var I=O.g[3],R=A+(I^w&(N^I))+V[0]+3614090360&4294967295;A=w+(R<<7&4294967295|R>>>25),R=I+(N^A&(w^N))+V[1]+3905402710&4294967295,I=A+(R<<12&4294967295|R>>>20),R=N+(w^I&(A^w))+V[2]+606105819&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(A^N&(I^A))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=A+(I^w&(N^I))+V[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=I+(N^A&(w^N))+V[5]+1200080426&4294967295,I=A+(R<<12&4294967295|R>>>20),R=N+(w^I&(A^w))+V[6]+2821735955&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(A^N&(I^A))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=A+(I^w&(N^I))+V[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=I+(N^A&(w^N))+V[9]+2336552879&4294967295,I=A+(R<<12&4294967295|R>>>20),R=N+(w^I&(A^w))+V[10]+4294925233&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(A^N&(I^A))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=A+(I^w&(N^I))+V[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=I+(N^A&(w^N))+V[13]+4254626195&4294967295,I=A+(R<<12&4294967295|R>>>20),R=N+(w^I&(A^w))+V[14]+2792965006&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(A^N&(I^A))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=A+(N^I&(w^N))+V[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(A^w))+V[6]+3225465664&4294967295,I=A+(R<<9&4294967295|R>>>23),R=N+(A^w&(I^A))+V[11]+643717713&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^A&(N^I))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=A+(N^I&(w^N))+V[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(A^w))+V[10]+38016083&4294967295,I=A+(R<<9&4294967295|R>>>23),R=N+(A^w&(I^A))+V[15]+3634488961&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^A&(N^I))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=A+(N^I&(w^N))+V[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(A^w))+V[14]+3275163606&4294967295,I=A+(R<<9&4294967295|R>>>23),R=N+(A^w&(I^A))+V[3]+4107603335&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^A&(N^I))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=A+(N^I&(w^N))+V[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(A^w))+V[2]+4243563512&4294967295,I=A+(R<<9&4294967295|R>>>23),R=N+(A^w&(I^A))+V[7]+1735328473&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^A&(N^I))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=A+(w^N^I)+V[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=I+(A^w^N)+V[8]+2272392833&4294967295,I=A+(R<<11&4294967295|R>>>21),R=N+(I^A^w)+V[11]+1839030562&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^A)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=A+(w^N^I)+V[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=I+(A^w^N)+V[4]+1272893353&4294967295,I=A+(R<<11&4294967295|R>>>21),R=N+(I^A^w)+V[7]+4139469664&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^A)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=A+(w^N^I)+V[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=I+(A^w^N)+V[0]+3936430074&4294967295,I=A+(R<<11&4294967295|R>>>21),R=N+(I^A^w)+V[3]+3572445317&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^A)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=A+(w^N^I)+V[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=I+(A^w^N)+V[12]+3873151461&4294967295,I=A+(R<<11&4294967295|R>>>21),R=N+(I^A^w)+V[15]+530742520&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^A)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=A+(N^(w|~I))+V[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=I+(w^(A|~N))+V[7]+1126891415&4294967295,I=A+(R<<10&4294967295|R>>>22),R=N+(A^(I|~w))+V[14]+2878612391&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~A))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=A+(N^(w|~I))+V[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=I+(w^(A|~N))+V[3]+2399980690&4294967295,I=A+(R<<10&4294967295|R>>>22),R=N+(A^(I|~w))+V[10]+4293915773&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~A))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=A+(N^(w|~I))+V[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=I+(w^(A|~N))+V[15]+4264355552&4294967295,I=A+(R<<10&4294967295|R>>>22),R=N+(A^(I|~w))+V[6]+2734768916&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~A))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=A+(N^(w|~I))+V[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=I+(w^(A|~N))+V[11]+3174756917&4294967295,I=A+(R<<10&4294967295|R>>>22),R=N+(A^(I|~w))+V[2]+718787259&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~A))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+I&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var w=A-this.blockSize,V=this.B,N=this.h,I=0;I<A;){if(N==0)for(;I<=w;)c(this,O,I),I+=this.blockSize;if(typeof O=="string"){for(;I<A;)if(V[N++]=O.charCodeAt(I++),N==this.blockSize){c(this,V),N=0;break}}else for(;I<A;)if(V[N++]=O[I++],N==this.blockSize){c(this,V),N=0;break}}this.h=N,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var w=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=w&255,w/=256;for(this.u(O),O=Array(16),A=w=0;4>A;++A)for(var V=0;32>V;V+=8)O[w++]=this.g[A]>>>V&255;return O};function f(O,A){var w=y;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=A(O)}function m(O,A){this.h=A;for(var w=[],V=!0,N=O.length-1;0<=N;N--){var I=O[N]|0;V&&I==A||(w[N]=I,V=!1)}this.g=w}var y={};function v(O){return-128<=O&&128>O?f(O,function(A){return new m([A|0],0>A?-1:0)}):new m([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return L;if(0>O)return tt(_(-O));for(var A=[],w=1,V=0;O>=w;V++)A[V]=O/w|0,w*=4294967296;return new m(A,0)}function S(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return tt(S(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(A,8)),V=L,N=0;N<O.length;N+=8){var I=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+I),A);8>I?(I=_(Math.pow(A,I)),V=V.j(I).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var L=v(0),P=v(1),X=v(16777216);l=m.prototype,l.m=function(){if(st(this))return-tt(this).m();for(var O=0,A=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*A,A*=4294967296}return O},l.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(et(this))return"0";if(st(this))return"-"+tt(this).toString(O);for(var A=_(Math.pow(O,6)),w=this,V="";;){var N=Lt(w,A).g;w=qt(w,N.j(A));var I=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,et(w))return I+V;for(;6>I.length;)I="0"+I;V=I+V}},l.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function et(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function st(O){return O.h==-1}l.l=function(O){return O=qt(this,O),st(O)?-1:et(O)?0:1};function tt(O){for(var A=O.g.length,w=[],V=0;V<A;V++)w[V]=~O.g[V];return new m(w,~O.h).add(P)}l.abs=function(){return st(this)?tt(this):this},l.add=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],V=0,N=0;N<=A;N++){var I=V+(this.i(N)&65535)+(O.i(N)&65535),R=(I>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=R>>>16,I&=65535,R&=65535,w[N]=R<<16|I}return new m(w,w[w.length-1]&-2147483648?-1:0)};function qt(O,A){return O.add(tt(A))}l.j=function(O){if(et(this)||et(O))return L;if(st(this))return st(O)?tt(this).j(tt(O)):tt(tt(this).j(O));if(st(O))return tt(this.j(tt(O)));if(0>this.l(X)&&0>O.l(X))return _(this.m()*O.m());for(var A=this.g.length+O.g.length,w=[],V=0;V<2*A;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<O.g.length;N++){var I=this.i(V)>>>16,R=this.i(V)&65535,Me=O.i(N)>>>16,ne=O.i(N)&65535;w[2*V+2*N]+=R*ne,Mt(w,2*V+2*N),w[2*V+2*N+1]+=I*ne,Mt(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Me,Mt(w,2*V+2*N+1),w[2*V+2*N+2]+=I*Me,Mt(w,2*V+2*N+2)}for(V=0;V<A;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=A;V<2*A;V++)w[V]=0;return new m(w,0)};function Mt(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function _t(O,A){this.g=O,this.h=A}function Lt(O,A){if(et(A))throw Error("division by zero");if(et(O))return new _t(L,L);if(st(O))return A=Lt(tt(O),A),new _t(tt(A.g),tt(A.h));if(st(A))return A=Lt(O,tt(A)),new _t(tt(A.g),A.h);if(30<O.g.length){if(st(O)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var w=P,V=A;0>=V.l(O);)w=gt(w),V=gt(V);var N=xt(w,1),I=xt(V,1);for(V=xt(V,2),w=xt(w,2);!et(V);){var R=I.add(V);0>=R.l(O)&&(N=N.add(w),I=R),V=xt(V,1),w=xt(w,1)}return A=qt(O,N.j(A)),new _t(N,A)}for(N=L;0<=O.l(A);){for(w=Math.max(1,Math.floor(O.m()/A.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),I=_(w),R=I.j(A);st(R)||0<R.l(O);)w-=V,I=_(w),R=I.j(A);et(I)&&(I=P),N=N.add(I),O=qt(O,R)}return new _t(N,O)}l.A=function(O){return Lt(this,O).h},l.and=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],V=0;V<A;V++)w[V]=this.i(V)&O.i(V);return new m(w,this.h&O.h)},l.or=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],V=0;V<A;V++)w[V]=this.i(V)|O.i(V);return new m(w,this.h|O.h)},l.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],V=0;V<A;V++)w[V]=this.i(V)^O.i(V);return new m(w,this.h^O.h)};function gt(O){for(var A=O.g.length+1,w=[],V=0;V<A;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new m(w,O.h)}function xt(O,A){var w=A>>5;A%=32;for(var V=O.g.length-w,N=[],I=0;I<V;I++)N[I]=0<A?O.i(I+w)>>>A|O.i(I+w+1)<<32-A:O.i(I+w);return new m(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xd=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=S,Ci=m}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ud,gs,zd,Gl,lc,Ld,Bd,qd;(function(){var l,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=a(this);function c(u,d){if(d)t:{var g=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in g))break t;g=g[x]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&n(g,u,{configurable:!0,writable:!0,value:d})}}function f(u,d){u instanceof String&&(u+="");var g=0,T=!1,x={next:function(){if(!T&&g<u.length){var H=g++;return{value:d(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}c("Array.prototype.values",function(u){return u||function(){return f(this,function(d,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var m=m||{},y=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function S(u,d,g){return u.call.apply(u.bind,arguments)}function L(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),u.apply(d,x)}}return function(){return u.apply(d,arguments)}}function P(u,d,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:L,P.apply(null,arguments)}function X(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function et(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,x,H){for(var Z=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Z[Ct-2]=arguments[Ct];return d.prototype[x].apply(T,Z)}}function st(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function tt(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const x=u.length||0,H=T.length||0;u.length=x+H;for(let Z=0;Z<H;Z++)u[x+Z]=T[Z]}else u.push(T)}}class qt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Mt(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var gt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function xt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function O(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function A(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)u[g]=T[g];for(let H=0;H<w.length;H++)g=w[H],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function I(u){y.setTimeout(()=>{throw u},0)}function R(){var u=Ut;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Me{constructor(){this.h=this.g=null}add(d,g){const T=ne.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new qt(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,rt=!1,Ut=new Me,D=()=>{const u=y.Promise.resolve(void 0);$=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){I(g)}var d=ne;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}rt=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function Tt(u,d){if(F.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(gt){t:{try{Lt(d.nodeName);var x=!0;break t}catch{}x=!1}x||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:dt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}et(Tt,F);var dt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function xn(u,d,g,T,x){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=x,this.key=++Ft,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,d,g,T,x){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var Z=va(u,d,T,x);return-1<Z?(d=u[Z],g||(d.fa=!1)):(d=new xn(d,this.src,H,!!T,x),d.fa=g,u.push(d)),d};function _a(u,d){var g=d.type;if(g in u.g){var T=u.g[g],x=Array.prototype.indexOf.call(T,d,void 0),H;(H=0<=x)&&Array.prototype.splice.call(T,x,1),H&&(Li(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function va(u,d,g,T){for(var x=0;x<u.length;++x){var H=u[x];if(!H.da&&H.listener==d&&H.capture==!!g&&H.ha==T)return x}return-1}var Ea="closure_lm_"+(1e6*Math.random()|0),Ns={};function yu(u,d,g,T,x){if(Array.isArray(d)){for(var H=0;H<d.length;H++)yu(u,d[H],g,T,x);return null}return g=_u(g),u&&u[be]?u.K(d,g,_(T)?!!T.capture:!1,x):cn(u,d,g,!1,T,x)}function cn(u,d,g,T,x,H){if(!d)throw Error("Invalid event type");var Z=_(x)?!!x.capture:!!x,Ct=Er(u);if(Ct||(u[Ea]=Ct=new ti(u)),g=Ct.add(d,g,T,Z,H),g.proxy)return g;if(T=th(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)lt||(x=Z),x===void 0&&(x=!1),u.addEventListener(d.toString(),T,x);else if(u.attachEvent)u.attachEvent(Ta(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function th(){function u(g){return d.call(u.src,u.listener,g)}const d=eh;return u}function Ms(u,d,g,T,x){if(Array.isArray(d))for(var H=0;H<d.length;H++)Ms(u,d[H],g,T,x);else T=_(T)?!!T.capture:!!T,g=_u(g),u&&u[be]?(u=u.i,d=String(d).toString(),d in u.g&&(H=u.g[d],g=va(H,g,T,x),-1<g&&(Li(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete u.g[d],u.h--)))):u&&(u=Er(u))&&(d=u.g[d.toString()],u=-1,d&&(u=va(d,g,T,x)),(g=-1<u?d[u]:null)&&vr(g))}function vr(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[be])_a(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(Ta(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=Er(d))?(_a(g,u),g.h==0&&(g.src=null,d[Ea]=null)):Li(u)}}}function Ta(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function eh(u,d){if(u.da)u=!0;else{d=new Tt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&vr(u),u=g.call(T,d)}return u}function Er(u){return u=u[Ea],u instanceof ti?u:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(d){return u.handleEvent(d)}),u[Is])}function ie(){W.call(this),this.i=new ti(this),this.M=this,this.F=null}et(ie,W),ie.prototype[be]=!0,ie.prototype.removeEventListener=function(u,d,g,T){Ms(this,u,d,g,T)};function Ht(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new F(d,u);else if(d instanceof F)d.target=d.target||u;else{var x=d;d=new F(T,u),V(d,x)}if(x=!0,g)for(var H=g.length-1;0<=H;H--){var Z=d.g=g[H];x=tn(Z,T,!0,d)&&x}if(Z=d.g=u,x=tn(Z,T,!0,d)&&x,x=tn(Z,T,!1,d)&&x,g)for(H=0;H<g.length;H++)Z=d.g=g[H],x=tn(Z,T,!1,d)&&x}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)Li(g[T]);delete u.g[d],u.h--}}this.F=null},ie.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ie.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function tn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,H=0;H<d.length;++H){var Z=d[H];if(Z&&!Z.da&&Z.capture==g){var Ct=Z.listener,ve=Z.ha||Z.src;Z.fa&&_a(u.i,Z),x=Ct.call(ve,T)!==!1&&x}}return x&&!T.defaultPrevented}function ke(u,d,g){if(typeof u=="function")g&&(u=P(u,g));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function vu(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,vu(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class nh extends W{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(u){W.call(this),this.h=u,this.g={}}et(Aa,W);var Sa=[];function ba(u){xt(u.g,function(d,g){this.g.hasOwnProperty(g)&&vr(d)},u),u.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),ba(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=y.JSON.stringify,Tr=y.JSON.parse,Ra=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function xs(){}xs.prototype.h=null;function Us(u){return u.h||(u.h=u.i())}function zs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){F.call(this,"d")}et(ni,F);function Ls(){F.call(this,"c")}et(Ls,F);var Un={},Bs=null;function Bi(){return Bs=Bs||new ie}Un.La="serverreachability";function Ar(u){F.call(this,Un.La,u)}et(Ar,F);function qi(u){const d=Bi();Ht(d,new Ar(d))}Un.STAT_EVENT="statevent";function Eu(u,d){F.call(this,Un.STAT_EVENT,u),this.stat=d}et(Eu,F);function $t(u){const d=Bi();Ht(d,new Eu(d,u))}Un.Ma="timingevent";function _e(u,d){F.call(this,Un.Ma,u),this.size=d}et(_e,F);function fe(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function qs(u,d,g,T,x,H){u.info(function(){if(u.g)if(H)for(var Z="",Ct=H.split("&"),ve=0;ve<Ct.length;ve++){var Vt=Ct[ve].split("=");if(1<Vt.length){var we=Vt[0];Vt=Vt[1];var Ee=we.split("_");Z=2<=Ee.length&&Ee[1]=="type"?Z+(we+"="+Vt+"&"):Z+(we+"=redacted&")}}else Z=null;else Z=H;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+d+`
`+g+`
`+Z})}function ih(u,d,g,T,x,H,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+d+`
`+g+`
`+H+" "+Z})}function Hi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+wa(u,g)+(T?" "+T:"")})}function Tu(u,d){u.info(function(){return"TIMEOUT: "+d})}hn.prototype.info=function(){};function wa(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(var Z=1;Z<x.length;Z++)x[Z]=""}}}}return Sn(g)}catch{return d}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}et(Ln,xs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Qe(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Hs={},Sr={};function bn(u,d,g){u.L=1,u.v=Na(en(d)),u.m=g,u.P=!0,ai(u,null)}function ai(u,d){u.F=Date.now(),Da(u),u.A=en(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ys(g.i,"t",T),u.C=0,g=u.j.J,u.h=new ue,u.g=Lu(u.j,g?d:null,!u.m),0<u.O&&(u.M=new nh(P(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Sa[0]=x.toString()),x=Sa);for(var H=0;H<x.length;H++){var Z=yu(g,x[H],T||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),qi(),qs(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const d=this.M;d&&gn(u)==3?d.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=gn(this.g);var d=this.g.Ba();const fi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Ee!=4||d==7||(d==8||0>=fi?qi(3):qi(2)),ki(this);var g=this.g.Z();this.X=g;e:if(Au(this)){var T=Vu(this.g);u="";var x=T.length,H=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ie(this),Bn(this);var Z="";break e}this.h.i=new y.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(H&&d==x-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,ih(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ct,ve=this.g;if((Ct=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mt(Ct)){var Vt=Ct;break e}}Vt=null}if(g=Vt)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,g);else{this.o=!1,this.s=3,$t(12),Ie(this),Bn(this);break t}}if(this.P){g=!0;let xe;for(;!this.J&&this.C<Z.length;)if(xe=Su(this,Z),xe==Sr){Ee==4&&(this.s=4,$t(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Hs){this.s=4,$t(15),Hi(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,xe,null),Ca(this,xe);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||Z.length!=0||this.h.h||(this.s=1,$t(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,Z,"[Invalid Chunked Response]"),Ie(this),Bn(this);else if(0<Z.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),qa(we),we.M=!0,$t(11))}}else Hi(this.i,this.l,Z,null),Ca(this,Z);Ee==4&&Ie(this),this.o&&!this.J&&(Ee==4?xu(this.j,this):(this.o=!1,Da(this)))}else uh(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Ie(this),Bn(this)}}}catch{}finally{}};function Au(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Su(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?Sr:(g=Number(d.substring(g,T)),isNaN(g)?Hs:(T+=1,T+g>d.length?Sr:(d=d.slice(T,T+g),u.C=T+g,d)))}Qe.prototype.cancel=function(){this.J=!0,Ie(this)};function Da(u){u.S=Date.now()+u.I,bu(u,u.I)}function bu(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(P(u.ba,u),d)}function ki(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Tu(this.i,this.A),this.L!=2&&(qi(),$t(17)),Ie(this),this.s=2,Bn(this)):bu(this,this.S-u)};function Bn(u){u.j.G==0||u.J||xu(u.j,u)}function Ie(u){ki(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,ba(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Ca(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Ps(g.h,u))){if(!u.K&&Ps(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Ur(g),Ir(g);else break t;$s(g),$t(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(P(g.Za,g),6e3));if(1>=Rr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hi(g,11)}else if((u.K||g.g==u)&&Ur(g),!Mt(d))for(x=g.Da.g.parse(d),d=0;d<x.length;d++){let Vt=x[d];if(g.T=Vt[0],Vt=Vt[1],g.G==2)if(Vt[0]=="c"){g.K=Vt[1],g.ia=Vt[2];const we=Vt[3];we!=null&&(g.la=we,g.j.info("VER="+g.la));const Ee=Vt[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const fi=Vt[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const xe=u.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var H=T.h;H.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wr(H,H.h),H.h=null))}if(T.D){const Ws=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(T.ya=Ws,jt(T.I,T.D,Ws))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var Z=u;if(T.qa=zu(T,T.J?T.ia:null,T.W),Z.K){Ye(T.h,Z);var Ct=Z,ve=T.L;ve&&(Ct.I=ve),Ct.B&&(ki(Ct),Da(Ct)),T.g=Z}else Mu(T);0<g.i.length&&xr(g)}else Vt[0]!="stop"&&Vt[0]!="close"||hi(g,7);else g.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?hi(g,7):Fs(g):Vt[0]!="noop"&&g.l&&g.l.ta(Vt),g.v=0)}}qi(4)}catch{}}var Ru=class{constructor(u,d){this.g=u,this.map=d}};function ri(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rr(u){return u.h?1:u.g?u.g.size:0}function Ps(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function wr(u,d){u.g?u.g.add(d):u.h=d}function Ye(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}ri.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ks(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return st(u.i)}function ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function Dr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function js(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=Dr(u),T=ah(u),x=T.length,H=0;H<x;H++)d.call(void 0,T[H],g&&g[H],u)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rh(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),x=null;if(0<=T){var H=u[g].substring(0,T);x=u[g].substring(T+1)}else H=u[g];d(H,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Oa(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var d=u.i,g=new li;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),si(this,g),this.m=u.m}else u&&(d=String(u).match(Va))?(this.h=!1,Oa(this,d[1]||"",!0),this.o=fn(d[2]||""),this.g=fn(d[3]||"",!0),ji(this,d[4]),this.l=fn(d[5]||"",!0),si(this,d[6]||"",!0),this.m=fn(d[7]||"")):(this.h=!1,this.i=new li(null,this.h))}de.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ma(d,Gs,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ma(d,Gs,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ma(g,g.charAt(0)=="/"?sh:Qs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ma(g,Cr)),u.join("")};function en(u){return new de(u)}function Oa(u,d,g){u.j=g?fn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function si(u,d,g){d instanceof li?(u.i=d,Du(u.i,u.h)):(g||(d=Ma(d,lh)),u.i=new li(d,u.h))}function jt(u,d,g){u.i.set(d,g)}function Na(u){return jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ma(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,wu),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Qs=/[#\?:]/g,sh=/[#\?]/g,lh=/[#\?@]/g,Cr=/#/g;function li(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&rh(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}l=li.prototype,l.add=function(u,d){dn(this),this.i=null,u=qn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function ui(u,d){dn(u),d=qn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function oi(u,d){return dn(u),d=qn(u,d),u.g.has(d)}l.forEach=function(u,d){dn(this),this.g.forEach(function(g,T){g.forEach(function(x){u.call(d,x,T,this)},this)},this)},l.na=function(){dn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const x=u[T];for(let H=0;H<x.length;H++)g.push(d[T])}return g},l.V=function(u){dn(this);let d=[];if(typeof u=="string")oi(this,u)&&(d=d.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},l.set=function(u,d){return dn(this),this.i=null,u=qn(this,u),oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},l.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Ys(u,d,g){ui(u,d),0<g.length&&(u.i=null,u.g.set(qn(u,d),st(g)),u.h+=g.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const H=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var x=H;Z[T]!==""&&(x+="="+encodeURIComponent(String(Z[T]))),u.push(x)}}return this.i=u.join("&")};function qn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function Du(u,d){d&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(ui(this,T),Ys(this,x,g))},u)),u.j=d}function Ia(u,d){const g=new hn;if(y.Image){const T=new Image;T.onload=X(mn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=X(mn,g,"TestLoadImage: error",!1,d,T),T.onabort=X(mn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=X(mn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Rn(u,d){const g=new hn,T=new AbortController,x=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(x),H.ok?mn(g,"TestPingServer: ok",!0,d):mn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),mn(g,"TestPingServer: error",!1,d)})}function mn(u,d,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function xa(){this.g=new Ra}function Hn(u,d,g){const T=g||"";try{js(u,function(x,H){let Z=x;_(x)&&(Z=Sn(x)),d.push(T+H+"="+encodeURIComponent(Z))})}catch(x){throw d.push(T+"type="+encodeURIComponent("_badmap")),x}}function Gi(u){this.l=u.Ub||null,this.j=u.eb||!1}et(Gi,xs),Gi.prototype.g=function(){return new ci(this.l,this.j)},Gi.prototype.i=function(u){return function(){return u}}({});function ci(u,d){ie.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}et(ci,ie),l=ci.prototype,l.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,kn(this)},l.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},l.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}l.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Pn(this):kn(this),this.readyState==3&&Ks(this)}},l.Ra=function(u){this.g&&(this.response=this.responseText=u,Pn(this))},l.Qa=function(u){this.g&&(this.response=u,Pn(this))},l.ga=function(){this.g&&Pn(this)};function Pn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}l.setRequestHeader=function(u,d){this.u.append(u,d)},l.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let d="";return xt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function Re(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Xs(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):jt(u,d,g))}function Bt(u){ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}et(Bt,ie);var Vr=/^https?$/i,Ua=["POST","PUT"];l=Bt.prototype,l.Ha=function(u){this.J=u},l.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Us(this.o):Us(zn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(H){Cu(this,H);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())g.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),x=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Ua,d,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,Z]of g)this.g.setRequestHeader(H,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Cu(this,H)}};function Cu(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Or(u),jn(u)}function Or(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}l.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),jn(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),Bt.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},l.bb=function(){Nr(this)};function Nr(u){if(u.h&&typeof m<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)ke(u.Ea,0,u);else if(Ht(u,"readystatechange"),gn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=Z===0){var x=String(u.D).match(Va)[1]||null;!x&&y.self&&y.self.location&&(x=y.self.location.protocol.slice(0,-1)),T=!Vr.test(x?x.toLowerCase():"")}g=T}if(g)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var H=2<gn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Or(u)}}finally{jn(u)}}}}function jn(u,d){if(u.g){za(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Ht(u,"ready");try{g.onreadystatechange=T}catch{}}}function za(u){u.I&&(y.clearTimeout(u.I),u.I=null)}l.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}l.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),Tr(d)}};function Vu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(u){const d={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Mt(u[T]))continue;var g=N(u[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=d[x]||[];d[x]=H,H.push(g)}O(d,function(T){return T.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Mr(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,u),this.cb=La("retryDelaySeedMs",1e4,u),this.Wa=La("forwardChannelMaxRetries",2,u),this.wa=La("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new xa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=Mr.prototype,l.la=8,l.G=1,l.connect=function(u,d,g,T){$t(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=zu(this,null,this.W),xr(this)};function Fs(u){if(Ou(u),u.G==3){var d=u.U++,g=en(u.I);if(jt(g,"SID",u.K),jt(g,"RID",d),jt(g,"TYPE","terminate"),Ba(u,g),d=new Qe(u,u.j,d),d.L=2,d.v=Na(en(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=Lu(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Da(d)}Uu(u)}function Ir(u){u.g&&(qa(u),u.g.cancel(),u.g=null)}function Ou(u){Ir(u),u.u&&(y.clearTimeout(u.u),u.u=null),Ur(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function xr(u){if(!br(u.h)&&!u.s){u.s=!0;var d=u.Ga;$||D(),rt||($(),rt=!0),Ut.add(d,u),u.B=0}}function oh(u,d){return Rr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(P(u.Ga,u,d),Js(u,u.B)),u.B++,!0)}l.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new Qe(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(x.H=H,H=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=Nu(this,x,d),g=en(this.I),jt(g,"RID",u),jt(g,"CVER",22),this.D&&jt(g,"X-HTTP-Session-Id",this.D),Ba(this,g),H&&(this.O?d="headers="+encodeURIComponent(String(Xs(H)))+"&"+d:this.m&&Re(g,this.m,H)),wr(this.h,x),this.Ua&&jt(g,"TYPE","init"),this.P?(jt(g,"$req",d),jt(g,"SID","null"),x.T=!0,bn(x,g,null)):bn(x,g,d),this.G=2}}else this.G==3&&(u?Zs(this,u):this.i.length==0||br(this.h)||Zs(this))};function Zs(u,d){var g;d?g=d.l:g=u.U++;const T=en(u.I);jt(T,"SID",u.K),jt(T,"RID",g),jt(T,"AID",u.T),Ba(u,T),u.m&&u.o&&Re(T,u.m,u.o),g=new Qe(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Nu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wr(u.h,g),bn(g,T,d)}function Ba(u,d){u.H&&xt(u.H,function(g,T){jt(d,T,g)}),u.l&&js({},function(g,T){jt(d,T,g)})}function Nu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?P(u.l.Na,u.l,u):null;t:{var x=u.i;let H=-1;for(;;){const Z=["count="+g];H==-1?0<g?(H=x[0].g,Z.push("ofs="+H)):H=0:Z.push("ofs="+H);let Ct=!0;for(let ve=0;ve<g;ve++){let Vt=x[ve].g;const we=x[ve].map;if(Vt-=H,0>Vt)H=Math.max(0,x[ve].g-100),Ct=!1;else try{Hn(we,Z,"req"+Vt+"_")}catch{T&&T(we)}}if(Ct){T=Z.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function Mu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;$||D(),rt||($(),rt=!0),Ut.add(d,u),u.v=0}}function $s(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(P(u.Fa,u),Js(u,u.v)),u.v++,!0)}l.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(P(this.ab,this),u)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Ir(this),Iu(this))};function qa(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function Iu(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=en(u.qa);jt(d,"RID","rpc"),jt(d,"SID",u.K),jt(d,"AID",u.T),jt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&jt(d,"TO",u.ja),jt(d,"TYPE","xmlhttp"),Ba(u,d),u.m&&u.o&&Re(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Na(en(d)),g.m=null,g.P=!0,ai(g,u)}l.Za=function(){this.C!=null&&(this.C=null,Ir(this),$s(this),$t(19))};function Ur(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function xu(u,d){var g=null;if(u.g==d){Ur(u),qa(u),u.g=null;var T=2}else if(Ps(u.h,d))g=d.D,Ye(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var x=u.B;T=Bi(),Ht(T,new _e(T,g)),xr(u)}else Mu(u);else if(x=d.s,x==3||x==0&&0<d.X||!(T==1&&oh(u,d)||T==2&&$s(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),x){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Js(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function hi(u,d){if(u.j.info("Error code "+d),d==2){var g=P(u.fb,u),T=u.Xa;const x=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Oa(T,"https"),Na(T),x?Ia(T.toString(),g):Rn(T.toString(),g)}else $t(2);u.G=0,u.l&&u.l.sa(d),Uu(u),Ou(u)}l.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Uu(u){if(u.G=0,u.ka=[],u.l){const d=ks(u.h);(d.length!=0||u.i.length!=0)&&(tt(u.ka,d),tt(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function zu(u,d,g){var T=g instanceof de?en(g):new de(g);if(T.g!="")d&&(T.g=d+"."+T.g),ji(T,T.s);else{var x=y.location;T=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var H=new de(null);T&&Oa(H,T),d&&(H.g=d),x&&ji(H,x),g&&(H.l=g),T=H}return g=u.D,d=u.ya,g&&d&&jt(T,g,d),jt(T,"VER",u.la),Ba(u,T),T}function Lu(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Bt(new Gi({eb:g})):new Bt(u.pa),d.Ha(u.J),d}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}l=Bu.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function zr(){}zr.prototype.g=function(u,d){return new Ke(u,d)};function Ke(u,d){ie.call(this),this.g=new Mr(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!Mt(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Mt(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Gn(this)}et(Ke,ie),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Fs(this.g)},Ke.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Sn(u),u=g);d.i.push(new Ru(d.Ya++,u)),d.G==3&&xr(d)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ke.aa.N.call(this)};function qu(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}et(qu,ni);function Hu(){Ls.call(this),this.status=1}et(Hu,Ls);function Gn(u){this.g=u}et(Gn,Bu),Gn.prototype.ua=function(){Ht(this.g,"a")},Gn.prototype.ta=function(u){Ht(this.g,new qu(u))},Gn.prototype.sa=function(u){Ht(this.g,new Hu)},Gn.prototype.ra=function(){Ht(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,qd=function(){return new zr},Bd=function(){return Bi()},Ld=Un,lc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Gl=Pi,ii.COMPLETE="complete",zd=ii,zs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ie.prototype.listen=ie.prototype.K,gs=zs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Ud=Bt}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});const Hd="@firebase/firestore",Pd="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new vd("@firebase/firestore");function ar(){return da.logLevel}function nt(l,...n){if(da.logLevel<=Rt.DEBUG){const a=n.map(uc);da.debug(`Firestore (${ir}): ${l}`,...a)}}function Jn(l,...n){if(da.logLevel<=Rt.ERROR){const a=n.map(uc);da.error(`Firestore (${ir}): ${l}`,...a)}}function rr(l,...n){if(da.logLevel<=Rt.WARN){const a=n.map(uc);da.warn(`Firestore (${ir}): ${l}`,...a)}}function uc(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(l="Unexpected state"){const n=`FIRESTORE (${ir}) INTERNAL ASSERTION FAILED: `+l;throw Jn(n),new Error(n)}function Wt(l,n){l||yt()}function wt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends er{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class P0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(qe.UNAUTHENTICATED))}shutdown(){}}class k0{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class j0{constructor(n){this.t=n,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){Wt(this.o===void 0);let s=this.i;const c=v=>this.i!==s?(s=this.i,a(v)):Promise.resolve();let f=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ma,n.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const v=f;n.enqueueRetryable(async()=>{await v.promise,await c(this.currentUser)})},y=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ma)}},0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(s=>this.i!==n?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string"),new kd(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Wt(n===null||typeof n=="string"),new qe(n)}}class G0{constructor(n,a,s){this.l=n,this.h=a,this.P=s,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.T.set("Authorization",n),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Q0{constructor(n,a,s){this.l=n,this.h=a,this.P=s}getToken(){return Promise.resolve(new G0(this.l,this.h,this.P))}start(n,a){n.enqueueRetryable(()=>a(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jd{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y0{constructor(n,a){this.A=a,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,w0(n)&&n.settings.appCheckToken&&(this.V=n.settings.appCheckToken)}start(n,a){Wt(this.o===void 0);const s=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>s(f))};const c=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?c(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jd(this.V));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(Wt(typeof a.token=="string"),this.R=a.token,new jd(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let s=0;s<l;s++)a[s]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const c=K0(40);for(let f=0;f<c.length;++f)s.length<20&&c[f]<a&&(s+=n.charAt(c[f]%62))}return s}}function Et(l,n){return l<n?-1:l>n?1:0}function oc(l,n){let a=0;for(;a<l.length&&a<n.length;){const s=l.codePointAt(a),c=n.codePointAt(a);if(s!==c){if(s<128&&c<128)return Et(s,c);{const f=Gd(),m=X0(f.encode(Yd(l,a)),f.encode(Yd(n,a)));return m!==0?m:Et(s,c)}}a+=s>65535?2:1}return Et(l.length,n.length)}function Yd(l,n){return l.codePointAt(n)>65535?l.substring(n,n+2):l.substring(n,n+1)}function X0(l,n){for(let a=0;a<l.length&&a<n.length;++a)if(l[a]!==n[a])return Et(l[a],n[a]);return Et(l.length,n.length)}function sr(l,n,a){return l.length===n.length&&l.every((s,c)=>a(s,n[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-62135596800,Xd=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(n){return Fe.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),s=Math.floor((n-1e3*a)*Xd);return new Fe(a,s)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<Kd)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xd}_compareTo(n){return this.seconds===n.seconds?Et(this.nanoseconds,n.nanoseconds):Et(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const n=this.seconds-Kd;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(n){return new mt(n)}static min(){return new mt(new Fe(0,0))}static max(){return new mt(new Fe(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="__name__";class Vn{constructor(n,a,s){a===void 0?a=0:a>n.length&&yt(),s===void 0?s=n.length-a:s>n.length-a&&yt(),this.segments=n,this.offset=a,this.len=s}get length(){return this.len}isEqual(n){return Vn.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Vn?n.forEach(s=>{a.push(s)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,s=this.limit();a<s;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const s=Math.min(n.length,a.length);for(let c=0;c<s;c++){const f=Vn.compareSegments(n.get(c),a.get(c));if(f!==0)return f}return Et(n.length,a.length)}static compareSegments(n,a){const s=Vn.isNumericId(n),c=Vn.isNumericId(a);return s&&!c?-1:!s&&c?1:s&&c?Vn.extractNumericId(n).compare(Vn.extractNumericId(a)):oc(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Ci.fromString(n.substring(4,n.length-2))}}class ee extends Vn{construct(n,a,s){return new ee(n,a,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const s of n){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);a.push(...s.split("/").filter(c=>c.length>0))}return new ee(a)}static emptyPath(){return new ee([])}}const F0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Vn{construct(n,a,s){return new Ge(n,a,s)}static isValidIdentifier(n){return F0.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fd}static keyField(){return new Ge([Fd])}static fromServerFormat(n){const a=[];let s="",c=0;const f=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(s),s=""};let m=!1;for(;c<n.length;){const y=n[c];if(y==="\\"){if(c+1===n.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[c+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=v,c+=2}else y==="`"?(m=!m,c++):y!=="."||m?(s+=y,c++):(f(),c++)}if(f(),m)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ge(a)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(n){this.path=n}static fromPath(n){return new ct(ee.fromString(n))}static fromName(n){return new ct(ee.fromString(n).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ee.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ee.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new ct(new ee(n.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=-1;function Z0(l,n){const a=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,c=mt.fromTimestamp(s===1e9?new Fe(a+1,0):new Fe(a,s));return new Vi(c,ct.empty(),n)}function $0(l){return new Vi(l.readTime,l.key,ps)}class Vi{constructor(n,a,s){this.readTime=n,this.documentKey=a,this.largestBatchId=s}static min(){return new Vi(mt.min(),ct.empty(),ps)}static max(){return new Vi(mt.max(),ct.empty(),ps)}}function J0(l,n){let a=l.readTime.compareTo(n.readTime);return a!==0?a:(a=ct.comparator(l.documentKey,n.documentKey),a!==0?a:Et(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(l){if(l.code!==J.FAILED_PRECONDITION||l.message!==W0)throw l;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Y((s,c)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(s,c)},this.catchCallback=f=>{this.wrapFailure(a,f).next(s,c)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof Y?a:Y.resolve(a)}catch(a){return Y.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):Y.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):Y.reject(a)}static resolve(n){return new Y((a,s)=>{a(n)})}static reject(n){return new Y((a,s)=>{s(n)})}static waitFor(n){return new Y((a,s)=>{let c=0,f=0,m=!1;n.forEach(y=>{++c,y.next(()=>{++f,m&&f===c&&a()},v=>s(v))}),m=!0,f===c&&a()})}static or(n){let a=Y.resolve(!1);for(const s of n)a=a.next(c=>c?Y.resolve(c):s());return a}static forEach(n,a){const s=[];return n.forEach((c,f)=>{s.push(a.call(this,c,f))}),this.waitFor(s)}static mapArray(n,a){return new Y((s,c)=>{const f=n.length,m=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;a(n[_]).next(S=>{m[_]=S,++y,y===f&&s(m)},S=>c(S))}})}static doWhile(n,a){return new Y((s,c)=>{const f=()=>{n()===!0?a().next(()=>{f()},c):s()};f()})}}function eE(l){const n=l.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function lr(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=s=>this.oe(s),this._e=s=>a.writeSequenceNumber(s))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}Yl.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=-1;function Kl(l){return l==null}function cc(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="";function iE(l){let n="";for(let a=0;a<l.length;a++)n.length>0&&(n=$d(n)),n=aE(l.get(a),n);return $d(n)}function aE(l,n){let a=n;const s=l.length;for(let c=0;c<s;c++){const f=l.charAt(c);switch(f){case"\0":a+="";break;case Zd:a+="";break;default:a+=f}}return a}function $d(l){return l+Zd+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function ys(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function rE(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(n,a){this.comparator=n,this.root=a||Oe.EMPTY}insert(n,a){return new se(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Oe.BLACK,null,null))}remove(n){return new se(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Oe.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const s=this.comparator(n,a.key);if(s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}indexOf(n){let a=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(n,s.key);if(c===0)return a+s.left.size;c<0?s=s.left:(a+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,s)=>(n(a,s),!1))}toString(){const n=[];return this.inorderTraversal((a,s)=>(n.push(`${a}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Xl(this.root,n,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Xl(this.root,n,this.comparator,!0)}}class Xl{constructor(n,a,s,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=a?s(n.key,a):1,a&&c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Oe{constructor(n,a,s,c,f){this.key=n,this.value=a,this.color=s??Oe.RED,this.left=c??Oe.EMPTY,this.right=f??Oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,s,c,f){return new Oe(n??this.key,a??this.value,s??this.color,c??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let c=this;const f=s(n,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(n,a,s),null):f===0?c.copy(null,a,null,null,null):c.copy(null,null,null,null,c.right.insert(n,a,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Oe.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let s,c=this;if(a(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,a),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),a(n,c.key)===0){if(c.right.isEmpty())return Oe.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,a))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const n=this.left.check();if(n!==this.right.check())throw yt();return n+(this.isRed()?0:1)}}Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1,Oe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,a,s,c,f){return this}insert(n,a,s){return new Oe(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(n){this.comparator=n,this.data=new se(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,s)=>(n(a),!1))}forEachInRange(n,a){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,n[1])>=0)return;a(c.key)}}forEachWhile(n,a){let s;for(s=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(n){return new Wd(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(s=>{a=a.add(s)}),a}isEqual(n){if(!(n instanceof pe)||this.size!==n.size)return!1;const a=this.data.getIterator(),s=n.data.getIterator();for(;a.hasNext();){const c=a.getNext().key,f=s.getNext().key;if(this.comparator(c,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new pe(this.comparator);return a.data=n,a}}class Wd{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(n){this.fields=n,n.sort(Ge.comparator)}static empty(){return new Oi([])}unionWith(n){let a=new pe(Ge.comparator);for(const s of this.fields)a=a.add(s);for(const s of n)a=a.add(s);return new Oi(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return sr(this.fields,n.fields,(a,s)=>a.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(n){this.binaryString=n}static fromBase64String(n){const a=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new tm("Invalid base64 string: "+f):f}}(n);return new Ne(a)}static fromUint8Array(n){const a=function(c){let f="";for(let m=0;m<c.length;++m)f+=String.fromCharCode(c[m]);return f}(n);return new Ne(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const s=new Uint8Array(a.length);for(let c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Et(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ne.EMPTY_BYTE_STRING=new Ne("");const sE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(l){if(Wt(!!l),typeof l=="string"){let n=0;const a=sE.exec(l);if(Wt(!!a),a[1]){let c=a[1];c=(c+"000000000").substr(0,9),n=Number(c)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:le(l.seconds),nanos:le(l.nanos)}}function le(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function Mi(l){return typeof l=="string"?Ne.fromBase64String(l):Ne.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="server_timestamp",nm="__type__",im="__previous_value__",am="__local_write_time__";function hc(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[nm])===null||a===void 0?void 0:a.stringValue)===em}function Fl(l){const n=l.mapValue.fields[im];return hc(n)?Fl(n):n}function _s(l){const n=Ni(l.mapValue.fields[am].timestampValue);return new Fe(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(n,a,s,c,f,m,y,v,_){this.databaseId=n,this.appId=a,this.persistenceKey=s,this.host=c,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_}}const Zl="(default)";class vs{constructor(n,a){this.projectId=n,this.database=a||Zl}static empty(){return new vs("","")}get isDefaultDatabase(){return this.database===Zl}isEqual(n){return n instanceof vs&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__type__",oE="__max__",$l={mapValue:{}},cE="__vector__",fc="value";function Ii(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?hc(l)?4:fE(l)?9007199254740991:hE(l)?10:11:yt()}function On(l,n){if(l===n)return!0;const a=Ii(l);if(a!==Ii(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return _s(l).isEqual(_s(n));case 3:return function(c,f){if(typeof c.timestampValue=="string"&&typeof f.timestampValue=="string"&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const m=Ni(c.timestampValue),y=Ni(f.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return function(c,f){return Mi(c.bytesValue).isEqual(Mi(f.bytesValue))}(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return function(c,f){return le(c.geoPointValue.latitude)===le(f.geoPointValue.latitude)&&le(c.geoPointValue.longitude)===le(f.geoPointValue.longitude)}(l,n);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return le(c.integerValue)===le(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const m=le(c.doubleValue),y=le(f.doubleValue);return m===y?cc(m)===cc(y):isNaN(m)&&isNaN(y)}return!1}(l,n);case 9:return sr(l.arrayValue.values||[],n.arrayValue.values||[],On);case 10:case 11:return function(c,f){const m=c.mapValue.fields||{},y=f.mapValue.fields||{};if(Jd(m)!==Jd(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!On(m[v],y[v])))return!1;return!0}(l,n);default:return yt()}}function Es(l,n){return(l.values||[]).find(a=>On(a,n))!==void 0}function ur(l,n){if(l===n)return 0;const a=Ii(l),s=Ii(n);if(a!==s)return Et(a,s);switch(a){case 0:case 9007199254740991:return 0;case 1:return Et(l.booleanValue,n.booleanValue);case 2:return function(f,m){const y=le(f.integerValue||f.doubleValue),v=le(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(l,n);case 3:return rm(l.timestampValue,n.timestampValue);case 4:return rm(_s(l),_s(n));case 5:return oc(l.stringValue,n.stringValue);case 6:return function(f,m){const y=Mi(f),v=Mi(m);return y.compareTo(v)}(l.bytesValue,n.bytesValue);case 7:return function(f,m){const y=f.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Et(y[_],v[_]);if(S!==0)return S}return Et(y.length,v.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,m){const y=Et(le(f.latitude),le(m.latitude));return y!==0?y:Et(le(f.longitude),le(m.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return sm(l.arrayValue,n.arrayValue);case 10:return function(f,m){var y,v,_,S;const L=f.fields||{},P=m.fields||{},X=(y=L[fc])===null||y===void 0?void 0:y.arrayValue,et=(v=P[fc])===null||v===void 0?void 0:v.arrayValue,st=Et(((_=X==null?void 0:X.values)===null||_===void 0?void 0:_.length)||0,((S=et==null?void 0:et.values)===null||S===void 0?void 0:S.length)||0);return st!==0?st:sm(X,et)}(l.mapValue,n.mapValue);case 11:return function(f,m){if(f===$l.mapValue&&m===$l.mapValue)return 0;if(f===$l.mapValue)return 1;if(m===$l.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=m.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let L=0;L<v.length&&L<S.length;++L){const P=oc(v[L],S[L]);if(P!==0)return P;const X=ur(y[v[L]],_[S[L]]);if(X!==0)return X}return Et(v.length,S.length)}(l.mapValue,n.mapValue);default:throw yt()}}function rm(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return Et(l,n);const a=Ni(l),s=Ni(n),c=Et(a.seconds,s.seconds);return c!==0?c:Et(a.nanos,s.nanos)}function sm(l,n){const a=l.values||[],s=n.values||[];for(let c=0;c<a.length&&c<s.length;++c){const f=ur(a[c],s[c]);if(f)return f}return Et(a.length,s.length)}function or(l){return dc(l)}function dc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(a){const s=Ni(a);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(a){return Mi(a).toBase64()}(l.bytesValue):"referenceValue"in l?function(a){return ct.fromName(a).toString()}(l.referenceValue):"geoPointValue"in l?function(a){return`geo(${a.latitude},${a.longitude})`}(l.geoPointValue):"arrayValue"in l?function(a){let s="[",c=!0;for(const f of a.values||[])c?c=!1:s+=",",s+=dc(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(a){const s=Object.keys(a.fields||{}).sort();let c="{",f=!0;for(const m of s)f?f=!1:c+=",",c+=`${m}:${dc(a.fields[m])}`;return c+"}"}(l.mapValue):yt()}function Jl(l){switch(Ii(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Fl(l);return n?16+Jl(n):16;case 5:return 2*l.stringValue.length;case 6:return Mi(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((c,f)=>c+Jl(f),0)}(l.arrayValue);case 10:case 11:return function(s){let c=0;return ys(s.fields,(f,m)=>{c+=f.length+Jl(m)}),c}(l.mapValue);default:throw yt()}}function mc(l){return!!l&&"integerValue"in l}function gc(l){return!!l&&"arrayValue"in l}function lm(l){return!!l&&"nullValue"in l}function um(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function pc(l){return!!l&&"mapValue"in l}function hE(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[uE])===null||a===void 0?void 0:a.stringValue)===cE}function Ts(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return ys(l.mapValue.fields,(a,s)=>n.mapValue.fields[a]=Ts(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Ts(l.arrayValue.values[a]);return n}return Object.assign({},l)}function fE(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===oE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(n){this.value=n}static empty(){return new Nn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let s=0;s<n.length-1;++s)if(a=(a.mapValue.fields||{})[n.get(s)],!pc(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ts(a)}setAll(n){let a=Ge.emptyPath(),s={},c=[];n.forEach((m,y)=>{if(!a.isImmediateParentOf(y)){const v=this.getFieldsMap(a);this.applyChanges(v,s,c),s={},c=[],a=y.popLast()}m?s[y.lastSegment()]=Ts(m):c.push(y.lastSegment())});const f=this.getFieldsMap(a);this.applyChanges(f,s,c)}delete(n){const a=this.field(n.popLast());pc(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return On(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let s=0;s<n.length;++s){let c=a.mapValue.fields[n.get(s)];pc(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},a.mapValue.fields[n.get(s)]=c),a=c}return a.mapValue.fields}applyChanges(n,a,s){ys(a,(c,f)=>n[c]=f);for(const c of s)delete n[c]}clone(){return new Nn(Ts(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(n,a,s,c,f,m,y){this.key=n,this.documentType=a,this.version=s,this.readTime=c,this.createTime=f,this.data=m,this.documentState=y}static newInvalidDocument(n){return new He(n,0,mt.min(),mt.min(),mt.min(),Nn.empty(),0)}static newFoundDocument(n,a,s,c){return new He(n,1,a,mt.min(),s,c,0)}static newNoDocument(n,a){return new He(n,2,a,mt.min(),mt.min(),Nn.empty(),0)}static newUnknownDocument(n,a){return new He(n,3,a,mt.min(),mt.min(),Nn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof He&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(n,a){this.position=n,this.inclusive=a}}function om(l,n,a){let s=0;for(let c=0;c<l.position.length;c++){const f=n[c],m=l.position[c];if(f.field.isKeyField()?s=ct.comparator(ct.fromName(m.referenceValue),a.key):s=ur(m,a.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function cm(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!On(l.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(n,a="asc"){this.field=n,this.dir=a}}function dE(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{}class ye extends hm{constructor(n,a,s){super(),this.field=n,this.op=a,this.value=s}static create(n,a,s){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,s):new gE(n,a,s):a==="array-contains"?new _E(n,s):a==="in"?new vE(n,s):a==="not-in"?new EE(n,s):a==="array-contains-any"?new TE(n,s):new ye(n,a,s)}static createKeyFieldInFilter(n,a,s){return a==="in"?new pE(n,s):new yE(n,s)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&this.matchesComparison(ur(a,this.value)):a!==null&&Ii(this.value)===Ii(a)&&this.matchesComparison(ur(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends hm{constructor(n,a){super(),this.filters=n,this.op=a,this.ce=null}static create(n,a){return new Mn(n,a)}matches(n){return fm(this)?this.filters.find(a=>!a.matches(n))===void 0:this.filters.find(a=>a.matches(n))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((n,a)=>n.concat(a.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fm(l){return l.op==="and"}function dm(l){return mE(l)&&fm(l)}function mE(l){for(const n of l.filters)if(n instanceof Mn)return!1;return!0}function yc(l){if(l instanceof ye)return l.field.canonicalString()+l.op.toString()+or(l.value);if(dm(l))return l.filters.map(n=>yc(n)).join(",");{const n=l.filters.map(a=>yc(a)).join(",");return`${l.op}(${n})`}}function mm(l,n){return l instanceof ye?function(s,c){return c instanceof ye&&s.op===c.op&&s.field.isEqual(c.field)&&On(s.value,c.value)}(l,n):l instanceof Mn?function(s,c){return c instanceof Mn&&s.op===c.op&&s.filters.length===c.filters.length?s.filters.reduce((f,m,y)=>f&&mm(m,c.filters[y]),!0):!1}(l,n):void yt()}function gm(l){return l instanceof ye?function(a){return`${a.field.canonicalString()} ${a.op} ${or(a.value)}`}(l):l instanceof Mn?function(a){return a.op.toString()+" {"+a.getFilters().map(gm).join(" ,")+"}"}(l):"Filter"}class gE extends ye{constructor(n,a,s){super(n,a,s),this.key=ct.fromName(s.referenceValue)}matches(n){const a=ct.comparator(n.key,this.key);return this.matchesComparison(a)}}class pE extends ye{constructor(n,a){super(n,"in",a),this.keys=pm("in",a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class yE extends ye{constructor(n,a){super(n,"not-in",a),this.keys=pm("not-in",a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function pm(l,n){var a;return(((a=n.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(s=>ct.fromName(s.referenceValue))}class _E extends ye{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return gc(a)&&Es(a.arrayValue,this.value)}}class vE extends ye{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Es(this.value.arrayValue,a)}}class EE extends ye{constructor(n,a){super(n,"not-in",a)}matches(n){if(Es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&!Es(this.value.arrayValue,a)}}class TE extends ye{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!gc(a)||!a.arrayValue.values)&&a.arrayValue.values.some(s=>Es(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(n,a=null,s=[],c=[],f=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=s,this.filters=c,this.limit=f,this.startAt=m,this.endAt=y,this.le=null}}function ym(l,n=null,a=[],s=[],c=null,f=null,m=null){return new AE(l,n,a,s,c,f,m)}function _c(l){const n=wt(l);if(n.le===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(s=>yc(s)).join(","),a+="|ob:",a+=n.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),Kl(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(s=>or(s)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(s=>or(s)).join(",")),n.le=a}return n.le}function vc(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!dE(l.orderBy[a],n.orderBy[a]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!mm(l.filters[a],n.filters[a]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!cm(l.startAt,n.startAt)&&cm(l.endAt,n.endAt)}function Ec(l){return ct.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(n,a=null,s=[],c=[],f=null,m="F",y=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=s,this.filters=c,this.limit=f,this.limitType=m,this.startAt=y,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SE(l,n,a,s,c,f,m,y){return new eu(l,n,a,s,c,f,m,y)}function Tc(l){return new eu(l)}function _m(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function bE(l){return l.collectionGroup!==null}function As(l){const n=wt(l);if(n.he===null){n.he=[];const a=new Set;for(const f of n.explicitOrderBy)n.he.push(f),a.add(f.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new pe(Ge.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(y=y.add(_.field))})}),y})(n).forEach(f=>{a.has(f.canonicalString())||f.isKeyField()||n.he.push(new tu(f,s))}),a.has(Ge.keyField().canonicalString())||n.he.push(new tu(Ge.keyField(),s))}return n.he}function In(l){const n=wt(l);return n.Pe||(n.Pe=RE(n,As(l))),n.Pe}function RE(l,n){if(l.limitType==="F")return ym(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(c=>{const f=c.dir==="desc"?"asc":"desc";return new tu(c.field,f)});const a=l.endAt?new Wl(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Wl(l.startAt.position,l.startAt.inclusive):null;return ym(l.path,l.collectionGroup,n,l.filters,l.limit,a,s)}}function Ac(l,n,a){return new eu(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}function nu(l,n){return vc(In(l),In(n))&&l.limitType===n.limitType}function vm(l){return`${_c(In(l))}|lt:${l.limitType}`}function cr(l){return`Query(target=${function(a){let s=a.path.canonicalString();return a.collectionGroup!==null&&(s+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(s+=`, filters: [${a.filters.map(c=>gm(c)).join(", ")}]`),Kl(a.limit)||(s+=", limit: "+a.limit),a.orderBy.length>0&&(s+=`, orderBy: [${a.orderBy.map(c=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(c)).join(", ")}]`),a.startAt&&(s+=", startAt: ",s+=a.startAt.inclusive?"b:":"a:",s+=a.startAt.position.map(c=>or(c)).join(",")),a.endAt&&(s+=", endAt: ",s+=a.endAt.inclusive?"a:":"b:",s+=a.endAt.position.map(c=>or(c)).join(",")),`Target(${s})`}(In(l))}; limitType=${l.limitType})`}function iu(l,n){return n.isFoundDocument()&&function(s,c){const f=c.key.path;return s.collectionGroup!==null?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ct.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,n)&&function(s,c){for(const f of As(s))if(!f.field.isKeyField()&&c.data.field(f.field)===null)return!1;return!0}(l,n)&&function(s,c){for(const f of s.filters)if(!f.matches(c))return!1;return!0}(l,n)&&function(s,c){return!(s.startAt&&!function(m,y,v){const _=om(m,y,v);return m.inclusive?_<=0:_<0}(s.startAt,As(s),c)||s.endAt&&!function(m,y,v){const _=om(m,y,v);return m.inclusive?_>=0:_>0}(s.endAt,As(s),c))}(l,n)}function wE(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Em(l){return(n,a)=>{let s=!1;for(const c of As(l)){const f=DE(c,n,a);if(f!==0)return f;s=s||c.field.isKeyField()}return 0}}function DE(l,n,a){const s=l.field.isKeyField()?ct.comparator(n.key,a.key):function(f,m,y){const v=m.data.field(f),_=y.data.field(f);return v!==null&&_!==null?ur(v,_):yt()}(l.field,n,a);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),s=this.inner[a];if(s!==void 0){for(const[c,f]of s)if(this.equalsFn(c,n))return f}}has(n){return this.get(n)!==void 0}set(n,a){const s=this.mapKeyFn(n),c=this.inner[s];if(c===void 0)return this.inner[s]=[[n,a]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,a]);c.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),s=this.inner[a];if(s===void 0)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],n))return s.length===1?delete this.inner[a]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(n){ys(this.inner,(a,s)=>{for(const[c,f]of s)n(c,f)})}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new se(ct.comparator);function xi(){return CE}const Tm=new se(ct.comparator);function Ss(...l){let n=Tm;for(const a of l)n=n.insert(a.key,a);return n}function VE(l){let n=Tm;return l.forEach((a,s)=>n=n.insert(a,s.overlayedDocument)),n}function pa(){return bs()}function Am(){return bs()}function bs(){return new ga(l=>l.toString(),(l,n)=>l.isEqual(n))}const OE=new pe(ct.comparator);function Nt(...l){let n=OE;for(const a of l)n=n.add(a);return n}const NE=new pe(Et);function ME(){return NE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(n)?"-0":n}}function xE(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this._=void 0}}function UE(l,n,a){return l instanceof Sc?function(c,f){const m={fields:{[nm]:{stringValue:em},[am]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&hc(f)&&(f=Fl(f)),f&&(m.fields[im]=f),{mapValue:m}}(a,n):l instanceof ru?Sm(l,n):l instanceof su?bm(l,n):function(c,f){const m=LE(c,f),y=Rm(m)+Rm(c.Ie);return mc(m)&&mc(c.Ie)?xE(y):IE(c.serializer,y)}(l,n)}function zE(l,n,a){return l instanceof ru?Sm(l,n):l instanceof su?bm(l,n):a}function LE(l,n){return l instanceof bc?function(s){return mc(s)||function(f){return!!f&&"doubleValue"in f}(s)}(n)?n:{integerValue:0}:null}class Sc extends au{}class ru extends au{constructor(n){super(),this.elements=n}}function Sm(l,n){const a=wm(n);for(const s of l.elements)a.some(c=>On(c,s))||a.push(s);return{arrayValue:{values:a}}}class su extends au{constructor(n){super(),this.elements=n}}function bm(l,n){let a=wm(n);for(const s of l.elements)a=a.filter(c=>!On(c,s));return{arrayValue:{values:a}}}class bc extends au{constructor(n,a){super(),this.serializer=n,this.Ie=a}}function Rm(l){return le(l.integerValue||l.doubleValue)}function wm(l){return gc(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function BE(l,n){return l.field.isEqual(n.field)&&function(s,c){return s instanceof ru&&c instanceof ru||s instanceof su&&c instanceof su?sr(s.elements,c.elements,On):s instanceof bc&&c instanceof bc?On(s.Ie,c.Ie):s instanceof Sc&&c instanceof Sc}(l.transform,n.transform)}class ya{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new ya}static exists(n){return new ya(void 0,n)}static updateTime(n){return new ya(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function lu(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class Rc{}function Dm(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new HE(l.key,ya.none()):new wc(l.key,l.data,ya.none());{const a=l.data,s=Nn.empty();let c=new pe(Ge.comparator);for(let f of n.fields)if(!c.has(f)){let m=a.field(f);m===null&&f.length>1&&(f=f.popLast(),m=a.field(f)),m===null?s.delete(f):s.set(f,m),c=c.add(f)}return new uu(l.key,s,new Oi(c.toArray()),ya.none())}}function qE(l,n,a){l instanceof wc?function(c,f,m){const y=c.value.clone(),v=Om(c.fieldTransforms,f,m.transformResults);y.setAll(v),f.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(l,n,a):l instanceof uu?function(c,f,m){if(!lu(c.precondition,f))return void f.convertToUnknownDocument(m.version);const y=Om(c.fieldTransforms,f,m.transformResults),v=f.data;v.setAll(Vm(c)),v.setAll(y),f.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(l,n,a):function(c,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()}(0,n,a)}function Rs(l,n,a,s){return l instanceof wc?function(f,m,y,v){if(!lu(f.precondition,m))return y;const _=f.value.clone(),S=Nm(f.fieldTransforms,v,m);return _.setAll(S),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(l,n,a,s):l instanceof uu?function(f,m,y,v){if(!lu(f.precondition,m))return y;const _=Nm(f.fieldTransforms,v,m),S=m.data;return S.setAll(Vm(f)),S.setAll(_),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(L=>L.field))}(l,n,a,s):function(f,m,y){return lu(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(l,n,a)}function Cm(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!function(s,c){return s===void 0&&c===void 0||!(!s||!c)&&sr(s,c,(f,m)=>BE(f,m))}(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class wc extends Rc{constructor(n,a,s,c=[]){super(),this.key=n,this.value=a,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class uu extends Rc{constructor(n,a,s,c,f=[]){super(),this.key=n,this.data=a,this.fieldMask=s,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Vm(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const s=l.data.field(a);n.set(a,s)}}),n}function Om(l,n,a){const s=new Map;Wt(l.length===a.length);for(let c=0;c<a.length;c++){const f=l[c],m=f.transform,y=n.data.field(f.field);s.set(f.field,zE(m,y,a[c]))}return s}function Nm(l,n,a){const s=new Map;for(const c of l){const f=c.transform,m=a.data.field(c.field);s.set(c.field,UE(f,m,n))}return s}class HE extends Rc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(n,a,s,c){this.batchId=n,this.localWriteTime=a,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(n,a){const s=a.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(n.key)&&qE(f,n,s[c])}}applyToLocalView(n,a){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(a=Rs(s,n,a,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(a=Rs(s,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const s=Am();return this.mutations.forEach(c=>{const f=n.get(c.key),m=f.overlayedDocument;let y=this.applyToLocalView(m,f.mutatedFields);y=a.has(c.key)?null:y;const v=Dm(m,y);v!==null&&s.set(c.key,v),m.isValidDocument()||m.convertToNoDocument(mt.min())}),s}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),Nt())}isEqual(n){return this.batchId===n.batchId&&sr(this.mutations,n.mutations,(a,s)=>Cm(a,s))&&sr(this.baseMutations,n.baseMutations,(a,s)=>Cm(a,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he,Dt;function Mm(l){if(l===void 0)return Jn("GRPC error has no .code"),J.UNKNOWN;switch(l){case he.OK:return J.OK;case he.CANCELLED:return J.CANCELLED;case he.UNKNOWN:return J.UNKNOWN;case he.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case he.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case he.INTERNAL:return J.INTERNAL;case he.UNAVAILABLE:return J.UNAVAILABLE;case he.UNAUTHENTICATED:return J.UNAUTHENTICATED;case he.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case he.NOT_FOUND:return J.NOT_FOUND;case he.ALREADY_EXISTS:return J.ALREADY_EXISTS;case he.PERMISSION_DENIED:return J.PERMISSION_DENIED;case he.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case he.ABORTED:return J.ABORTED;case he.OUT_OF_RANGE:return J.OUT_OF_RANGE;case he.UNIMPLEMENTED:return J.UNIMPLEMENTED;case he.DATA_LOSS:return J.DATA_LOSS;default:return yt()}}(Dt=he||(he={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Ci([4294967295,4294967295],0);function Im(l){const n=Gd().encode(l),a=new xd;return a.update(n),new Uint8Array(a.digest())}function xm(l){const n=new DataView(l.buffer),a=n.getUint32(0,!0),s=n.getUint32(4,!0),c=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new Ci([a,s],0),new Ci([c,f],0)]}class Dc{constructor(n,a,s){if(this.bitmap=n,this.padding=a,this.hashCount=s,a<0||a>=8)throw new ws(`Invalid padding: ${a}`);if(s<0)throw new ws(`Invalid hash count: ${s}`);if(n.length>0&&this.hashCount===0)throw new ws(`Invalid hash count: ${s}`);if(n.length===0&&a!==0)throw new ws(`Invalid padding when bitmap length is 0: ${a}`);this.Ee=8*n.length-a,this.de=Ci.fromNumber(this.Ee)}Ae(n,a,s){let c=n.add(a.multiply(Ci.fromNumber(s)));return c.compare(GE)===1&&(c=new Ci([c.getBits(0),c.getBits(1)],0)),c.modulo(this.de).toNumber()}Re(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.Ee===0)return!1;const a=Im(n),[s,c]=xm(a);for(let f=0;f<this.hashCount;f++){const m=this.Ae(s,c,f);if(!this.Re(m))return!1}return!0}static create(n,a,s){const c=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),m=new Dc(f,c,a);return s.forEach(y=>m.insert(y)),m}insert(n){if(this.Ee===0)return;const a=Im(n),[s,c]=xm(a);for(let f=0;f<this.hashCount;f++){const m=this.Ae(s,c,f);this.Ve(m)}}Ve(n){const a=Math.floor(n/8),s=n%8;this.bitmap[a]|=1<<s}}class ws extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(n,a,s,c,f){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,a,s){const c=new Map;return c.set(n,Ds.createSynthesizedTargetChangeForCurrentChange(n,a,s)),new ou(mt.min(),c,new se(Et),xi(),Nt())}}class Ds{constructor(n,a,s,c,f){this.resumeToken=n,this.current=a,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,a,s){return new Ds(s,a,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(n,a,s,c){this.me=n,this.removedTargetIds=a,this.key=s,this.fe=c}}class Um{constructor(n,a){this.targetId=n,this.ge=a}}class zm{constructor(n,a,s=Ne.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=a,this.resumeToken=s,this.cause=c}}class Lm{constructor(){this.pe=0,this.ye=Bm(),this.we=Ne.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(n){n.approximateByteSize()>0&&(this.be=!0,this.we=n)}Fe(){let n=Nt(),a=Nt(),s=Nt();return this.ye.forEach((c,f)=>{switch(f){case 0:n=n.add(c);break;case 2:a=a.add(c);break;case 1:s=s.add(c);break;default:yt()}}),new Ds(this.we,this.Se,n,a,s)}Me(){this.be=!1,this.ye=Bm()}xe(n,a){this.be=!0,this.ye=this.ye.insert(n,a)}Oe(n){this.be=!0,this.ye=this.ye.remove(n)}Ne(){this.pe+=1}Be(){this.pe-=1,Wt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class QE{constructor(n){this.ke=n,this.qe=new Map,this.Qe=xi(),this.$e=hu(),this.Ue=hu(),this.Ke=new se(Et)}We(n){for(const a of n.me)n.fe&&n.fe.isFoundDocument()?this.Ge(a,n.fe):this.ze(a,n.key,n.fe);for(const a of n.removedTargetIds)this.ze(a,n.key,n.fe)}je(n){this.forEachTarget(n,a=>{const s=this.He(a);switch(n.state){case 0:this.Je(a)&&s.Ce(n.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(n.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(a);break;case 3:this.Je(a)&&(s.Le(),s.Ce(n.resumeToken));break;case 4:this.Je(a)&&(this.Ye(a),s.Ce(n.resumeToken));break;default:yt()}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.qe.forEach((s,c)=>{this.Je(c)&&a(c)})}Ze(n){const a=n.targetId,s=n.ge.count,c=this.Xe(a);if(c){const f=c.target;if(Ec(f))if(s===0){const m=new ct(f.path);this.ze(a,m,He.newNoDocument(m,mt.min()))}else Wt(s===1);else{const m=this.et(a);if(m!==s){const y=this.tt(n),v=y?this.nt(y,n,m):1;if(v!==0){this.Ye(a);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(a,_)}}}}}tt(n){const a=n.ge.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:f=0}=a;let m,y;try{m=Mi(s).toUint8Array()}catch(v){if(v instanceof tm)return rr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Dc(m,c,f)}catch(v){return rr(v instanceof ws?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.Ee===0?null:y}nt(n,a,s){return a.ge.count===s-this.st(n,a.targetId)?0:2}st(n,a){const s=this.ke.getRemoteKeysForTarget(a);let c=0;return s.forEach(f=>{const m=this.ke.it(),y=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;n.mightContain(y)||(this.ze(a,f,null),c++)}),c}ot(n){const a=new Map;this.qe.forEach((f,m)=>{const y=this.Xe(m);if(y){if(f.current&&Ec(y.target)){const v=new ct(y.target.path);this._t(v).has(m)||this.ut(m,v)||this.ze(m,v,He.newNoDocument(v,n))}f.ve&&(a.set(m,f.Fe()),f.Me())}});let s=Nt();this.Ue.forEach((f,m)=>{let y=!0;m.forEachWhile(v=>{const _=this.Xe(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(s=s.add(f))}),this.Qe.forEach((f,m)=>m.setReadTime(n));const c=new ou(n,a,this.Ke,this.Qe,s);return this.Qe=xi(),this.$e=hu(),this.Ue=hu(),this.Ke=new se(Et),c}Ge(n,a){if(!this.Je(n))return;const s=this.ut(n,a.key)?2:0;this.He(n).xe(a.key,s),this.Qe=this.Qe.insert(a.key,a),this.$e=this.$e.insert(a.key,this._t(a.key).add(n)),this.Ue=this.Ue.insert(a.key,this.ct(a.key).add(n))}ze(n,a,s){if(!this.Je(n))return;const c=this.He(n);this.ut(n,a)?c.xe(a,1):c.Oe(a),this.Ue=this.Ue.insert(a,this.ct(a).delete(n)),this.Ue=this.Ue.insert(a,this.ct(a).add(n)),s&&(this.Qe=this.Qe.insert(a,s))}removeTarget(n){this.qe.delete(n)}et(n){const a=this.He(n).Fe();return this.ke.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Ne(n){this.He(n).Ne()}He(n){let a=this.qe.get(n);return a||(a=new Lm,this.qe.set(n,a)),a}ct(n){let a=this.Ue.get(n);return a||(a=new pe(Et),this.Ue=this.Ue.insert(n,a)),a}_t(n){let a=this.$e.get(n);return a||(a=new pe(Et),this.$e=this.$e.insert(n,a)),a}Je(n){const a=this.Xe(n)!==null;return a||nt("WatchChangeAggregator","Detected inactive target",n),a}Xe(n){const a=this.qe.get(n);return a&&a.De?null:this.ke.lt(n)}Ye(n){this.qe.set(n,new Lm),this.ke.getRemoteKeysForTarget(n).forEach(a=>{this.ze(n,a,null)})}ut(n,a){return this.ke.getRemoteKeysForTarget(n).has(a)}}function hu(){return new se(ct.comparator)}function Bm(){return new se(ct.comparator)}const YE={asc:"ASCENDING",desc:"DESCENDING"},KE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XE={and:"AND",or:"OR"};class FE{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function Cc(l,n){return l.useProto3Json||Kl(n)?n:{value:n}}function ZE(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function $E(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function hr(l){return Wt(!!l),mt.fromTimestamp(function(a){const s=Ni(a);return new Fe(s.seconds,s.nanos)}(l))}function JE(l,n){return Vc(l,n).canonicalString()}function Vc(l,n){const a=function(c){return new ee(["projects",c.projectId,"databases",c.database])}(l).child("documents");return n===void 0?a:a.child(n)}function qm(l){const n=ee.fromString(l);return Wt(Qm(n)),n}function Oc(l,n){const a=qm(n);if(a.get(1)!==l.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new ct(km(a))}function Hm(l,n){return JE(l.databaseId,n)}function WE(l){const n=qm(l);return n.length===4?ee.emptyPath():km(n)}function Pm(l){return new ee(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function km(l){return Wt(l.length>4&&l.get(4)==="documents"),l.popFirst(5)}function tT(l,n){let a;if("targetChange"in n){n.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt()}(n.targetChange.targetChangeType||"NO_CHANGE"),c=n.targetChange.targetIds||[],f=function(_,S){return _.useProto3Json?(Wt(S===void 0||typeof S=="string"),Ne.fromBase64String(S||"")):(Wt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),Ne.fromUint8Array(S||new Uint8Array))}(l,n.targetChange.resumeToken),m=n.targetChange.cause,y=m&&function(_){const S=_.code===void 0?J.UNKNOWN:Mm(_.code);return new ot(S,_.message||"")}(m);a=new zm(s,c,f,y||null)}else if("documentChange"in n){n.documentChange;const s=n.documentChange;s.document,s.document.name,s.document.updateTime;const c=Oc(l,s.document.name),f=hr(s.document.updateTime),m=s.document.createTime?hr(s.document.createTime):mt.min(),y=new Nn({mapValue:{fields:s.document.fields}}),v=He.newFoundDocument(c,f,m,y),_=s.targetIds||[],S=s.removedTargetIds||[];a=new cu(_,S,v.key,v)}else if("documentDelete"in n){n.documentDelete;const s=n.documentDelete;s.document;const c=Oc(l,s.document),f=s.readTime?hr(s.readTime):mt.min(),m=He.newNoDocument(c,f),y=s.removedTargetIds||[];a=new cu([],y,m.key,m)}else if("documentRemove"in n){n.documentRemove;const s=n.documentRemove;s.document;const c=Oc(l,s.document),f=s.removedTargetIds||[];a=new cu([],f,c,null)}else{if(!("filter"in n))return yt();{n.filter;const s=n.filter;s.targetId;const{count:c=0,unchangedNames:f}=s,m=new jE(c,f),y=s.targetId;a=new Um(y,m)}}return a}function eT(l,n){return{documents:[Hm(l,n.path)]}}function nT(l,n){const a={structuredQuery:{}},s=n.path;let c;n.collectionGroup!==null?(c=s,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=Hm(l,c);const f=function(_){if(_.length!==0)return Gm(Mn.create(_,"and"))}(n.filters);f&&(a.structuredQuery.where=f);const m=function(_){if(_.length!==0)return _.map(S=>function(P){return{field:fr(P.field),direction:rT(P.dir)}}(S))}(n.orderBy);m&&(a.structuredQuery.orderBy=m);const y=Cc(l,n.limit);return y!==null&&(a.structuredQuery.limit=y),n.startAt&&(a.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(n.startAt)),n.endAt&&(a.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(n.endAt)),{ht:a,parent:c}}function iT(l){let n=WE(l.parent);const a=l.structuredQuery,s=a.from?a.from.length:0;let c=null;if(s>0){Wt(s===1);const S=a.from[0];S.allDescendants?c=S.collectionId:n=n.child(S.collectionId)}let f=[];a.where&&(f=function(L){const P=jm(L);return P instanceof Mn&&dm(P)?P.getFilters():[P]}(a.where));let m=[];a.orderBy&&(m=function(L){return L.map(P=>function(et){return new tu(dr(et.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction))}(P))}(a.orderBy));let y=null;a.limit&&(y=function(L){let P;return P=typeof L=="object"?L.value:L,Kl(P)?null:P}(a.limit));let v=null;a.startAt&&(v=function(L){const P=!!L.before,X=L.values||[];return new Wl(X,P)}(a.startAt));let _=null;return a.endAt&&(_=function(L){const P=!L.before,X=L.values||[];return new Wl(X,P)}(a.endAt)),SE(n,c,m,f,y,"F",v,_)}function aT(l,n){const a=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(n.purpose);return a==null?null:{"goog-listen-tags":a}}function jm(l){return l.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const s=dr(a.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=dr(a.unaryFilter.field);return ye.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=dr(a.unaryFilter.field);return ye.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=dr(a.unaryFilter.field);return ye.create(m,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(l):l.fieldFilter!==void 0?function(a){return ye.create(dr(a.fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(a.fieldFilter.op),a.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(a){return Mn.create(a.compositeFilter.filters.map(s=>jm(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return yt()}}(a.compositeFilter.op))}(l):yt()}function rT(l){return YE[l]}function sT(l){return KE[l]}function lT(l){return XE[l]}function fr(l){return{fieldPath:l.canonicalString()}}function dr(l){return Ge.fromServerFormat(l.fieldPath)}function Gm(l){return l instanceof ye?function(a){if(a.op==="=="){if(um(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NAN"}};if(lm(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(um(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NOT_NAN"}};if(lm(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fr(a.field),op:sT(a.op),value:a.value}}}(l):l instanceof Mn?function(a){const s=a.getFilters().map(c=>Gm(c));return s.length===1?s[0]:{compositeFilter:{op:lT(a.op),filters:s}}}(l):yt()}function Qm(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(n,a,s,c,f=mt.min(),m=mt.min(),y=Ne.EMPTY_BYTE_STRING,v=null){this.target=n,this.targetId=a,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(n){return new Ui(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(n){this.Tt=n}}function oT(l){const n=iT({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Ac(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.Tn=new hT}addToCollectionParentIndex(n,a){return this.Tn.add(a),Y.resolve()}getCollectionParents(n,a){return Y.resolve(this.Tn.getEntries(a))}addFieldIndex(n,a){return Y.resolve()}deleteFieldIndex(n,a){return Y.resolve()}deleteAllFieldIndexes(n){return Y.resolve()}createTargetIndexes(n,a){return Y.resolve()}getDocumentsMatchingTarget(n,a){return Y.resolve(null)}getIndexType(n,a){return Y.resolve(0)}getFieldIndexes(n,a){return Y.resolve([])}getNextCollectionGroupToUpdate(n){return Y.resolve(null)}getMinOffset(n,a){return Y.resolve(Vi.min())}getMinOffsetFromCollectionGroup(n,a){return Y.resolve(Vi.min())}updateCollectionGroup(n,a,s){return Y.resolve()}updateIndexEntries(n,a){return Y.resolve()}}class hT{constructor(){this.index={}}add(n){const a=n.lastSegment(),s=n.popLast(),c=this.index[a]||new pe(ee.comparator),f=!c.has(s);return this.index[a]=c.add(s),f}has(n){const a=n.lastSegment(),s=n.popLast(),c=this.index[a];return c&&c.has(s)}getEntries(n){return(this.index[n]||new pe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Km=41943040;class Ze{static withCacheSize(n){return new Ze(n,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ze.DEFAULT_COLLECTION_PERCENTILE=10,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ze.DEFAULT=new Ze(Km,Ze.DEFAULT_COLLECTION_PERCENTILE,Ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ze.DISABLED=new Ze(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(n){this.$n=n}next(){return this.$n+=2,this.$n}static Un(){return new mr(0)}static Kn(){return new mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LruGarbageCollector",fT=1048576;function Fm([l,n],[a,s]){const c=Et(l,a);return c===0?Et(n,s):c}class dT{constructor(n){this.Hn=n,this.buffer=new pe(Fm),this.Jn=0}Yn(){return++this.Jn}Zn(n){const a=[n,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(a);else{const s=this.buffer.last();Fm(a,s)<0&&(this.buffer=this.buffer.delete(s).add(a))}}get maxValue(){return this.buffer.last()[0]}}class mT{constructor(n,a,s){this.garbageCollector=n,this.asyncQueue=a,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(n){nt(Xm,`Garbage collection scheduled in ${n}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){lr(a)?nt(Xm,"Ignoring IndexedDB error during garbage collection: ",a):await Ql(a)}await this.er(3e5)})}}class gT{constructor(n,a){this.tr=n,this.params=a}calculateTargetCount(n,a){return this.tr.nr(n).next(s=>Math.floor(a/100*s))}nthSequenceNumber(n,a){if(a===0)return Y.resolve(Yl.ae);const s=new dT(a);return this.tr.forEachTarget(n,c=>s.Zn(c.sequenceNumber)).next(()=>this.tr.rr(n,c=>s.Zn(c))).next(()=>s.maxValue)}removeTargets(n,a,s){return this.tr.removeTargets(n,a,s)}removeOrphanedDocuments(n,a){return this.tr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ym)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ym):this.ir(n,a))}getCacheSize(n){return this.tr.getCacheSize(n)}ir(n,a){let s,c,f,m,y,v,_;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),c=this.params.maximumSequenceNumbersToCollect):c=L,m=Date.now(),this.nthSequenceNumber(n,c))).next(L=>(s=L,y=Date.now(),this.removeTargets(n,s,a))).next(L=>(f=L,v=Date.now(),this.removeOrphanedDocuments(n,s))).next(L=>(_=Date.now(),ar()<=Rt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${c} in `+(y-m)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${L} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:L})))}}function pT(l,n){return new gT(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.changes=new ga(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,He.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const s=this.changes.get(a);return s!==void 0?Y.resolve(s):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(n,a,s,c){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=s,this.indexManager=c}getDocument(n,a){let s=null;return this.documentOverlayCache.getOverlay(n,a).next(c=>(s=c,this.remoteDocumentCache.getEntry(n,a))).next(c=>(s!==null&&Rs(s.mutation,c,Oi.empty(),Fe.now()),c))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next(s=>this.getLocalViewOfDocuments(n,s,Nt()).next(()=>s))}getLocalViewOfDocuments(n,a,s=Nt()){const c=pa();return this.populateOverlays(n,c,a).next(()=>this.computeViews(n,a,c,s).next(f=>{let m=Ss();return f.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(n,a){const s=pa();return this.populateOverlays(n,s,a).next(()=>this.computeViews(n,a,s,Nt()))}populateOverlays(n,a,s){const c=[];return s.forEach(f=>{a.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(n,c).next(f=>{f.forEach((m,y)=>{a.set(m,y)})})}computeViews(n,a,s,c){let f=xi();const m=bs(),y=function(){return bs()}();return a.forEach((v,_)=>{const S=s.get(_.key);c.has(_.key)&&(S===void 0||S.mutation instanceof uu)?f=f.insert(_.key,_):S!==void 0?(m.set(_.key,S.mutation.getFieldMask()),Rs(S.mutation,_,S.mutation.getFieldMask(),Fe.now())):m.set(_.key,Oi.empty())}),this.recalculateAndSaveOverlays(n,f).next(v=>(v.forEach((_,S)=>m.set(_,S)),a.forEach((_,S)=>{var L;return y.set(_,new _T(S,(L=m.get(_))!==null&&L!==void 0?L:null))}),y))}recalculateAndSaveOverlays(n,a){const s=bs();let c=new se((m,y)=>m-y),f=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next(m=>{for(const y of m)y.keys().forEach(v=>{const _=a.get(v);if(_===null)return;let S=s.get(v)||Oi.empty();S=y.applyToLocalView(_,S),s.set(v,S);const L=(c.get(y.batchId)||Nt()).add(v);c=c.insert(y.batchId,L)})}).next(()=>{const m=[],y=c.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,L=Am();S.forEach(P=>{if(!f.has(P)){const X=Dm(a.get(P),s.get(P));X!==null&&L.set(P,X),f=f.add(P)}}),m.push(this.documentOverlayCache.saveOverlays(n,_,L))}return Y.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,a,s,c){return function(m){return ct.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):bE(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,s,c):this.getDocumentsMatchingCollectionQuery(n,a,s,c)}getNextDocuments(n,a,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,s,c).next(f=>{const m=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,s.largestBatchId,c-f.size):Y.resolve(pa());let y=ps,v=f;return m.next(_=>Y.forEach(_,(S,L)=>(y<L.largestBatchId&&(y=L.largestBatchId),f.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(n,S).next(P=>{v=v.insert(S,P)}))).next(()=>this.populateOverlays(n,_,f)).next(()=>this.computeViews(n,v,_,Nt())).next(S=>({batchId:y,changes:VE(S)})))})}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new ct(a)).next(s=>{let c=Ss();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(n,a,s,c){const f=a.collectionGroup;let m=Ss();return this.indexManager.getCollectionParents(n,f).next(y=>Y.forEach(y,v=>{const _=function(L,P){return new eu(P,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)}(a,v.child(f));return this.getDocumentsMatchingCollectionQuery(n,_,s,c).next(S=>{S.forEach((L,P)=>{m=m.insert(L,P)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,a,s,c){let f;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,s,f,c))).next(m=>{f.forEach((v,_)=>{const S=_.getKey();m.get(S)===null&&(m=m.insert(S,He.newInvalidDocument(S)))});let y=Ss();return m.forEach((v,_)=>{const S=f.get(v);S!==void 0&&Rs(S.mutation,_,Oi.empty(),Fe.now()),iu(a,_)&&(y=y.insert(v,_))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(n){this.serializer=n,this.dr=new Map,this.Ar=new Map}getBundleMetadata(n,a){return Y.resolve(this.dr.get(a))}saveBundleMetadata(n,a){return this.dr.set(a.id,function(c){return{id:c.id,version:c.version,createTime:hr(c.createTime)}}(a)),Y.resolve()}getNamedQuery(n,a){return Y.resolve(this.Ar.get(a))}saveNamedQuery(n,a){return this.Ar.set(a.name,function(c){return{name:c.name,query:oT(c.bundledQuery),readTime:hr(c.readTime)}}(a)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.overlays=new se(ct.comparator),this.Rr=new Map}getOverlay(n,a){return Y.resolve(this.overlays.get(a))}getOverlays(n,a){const s=pa();return Y.forEach(a,c=>this.getOverlay(n,c).next(f=>{f!==null&&s.set(c,f)})).next(()=>s)}saveOverlays(n,a,s){return s.forEach((c,f)=>{this.Et(n,a,f)}),Y.resolve()}removeOverlaysForBatchId(n,a,s){const c=this.Rr.get(s);return c!==void 0&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(s)),Y.resolve()}getOverlaysForCollection(n,a,s){const c=pa(),f=a.length+1,m=new ct(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&c.set(v.getKey(),v)}return Y.resolve(c)}getOverlaysForCollectionGroup(n,a,s,c){let f=new se((_,S)=>_-S);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>s){let S=f.get(_.largestBatchId);S===null&&(S=pa(),f=f.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=pa(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,S)=>y.set(_,S)),!(y.size()>=c)););return Y.resolve(y)}Et(n,a,s){const c=this.overlays.get(s.key);if(c!==null){const m=this.Rr.get(c.largestBatchId).delete(s.key);this.Rr.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new kE(a,s));let f=this.Rr.get(a);f===void 0&&(f=Nt(),this.Rr.set(a,f)),this.Rr.set(a,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.sessionToken=Ne.EMPTY_BYTE_STRING}getSessionToken(n){return Y.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.Vr=new pe(Se.mr),this.gr=new pe(Se.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(n,a){const s=new Se(n,a);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(n,a){n.forEach(s=>this.addReference(s,a))}removeReference(n,a){this.wr(new Se(n,a))}Sr(n,a){n.forEach(s=>this.removeReference(s,a))}br(n){const a=new ct(new ee([])),s=new Se(a,n),c=new Se(a,n+1),f=[];return this.gr.forEachInRange([s,c],m=>{this.wr(m),f.push(m.key)}),f}Dr(){this.Vr.forEach(n=>this.wr(n))}wr(n){this.Vr=this.Vr.delete(n),this.gr=this.gr.delete(n)}vr(n){const a=new ct(new ee([])),s=new Se(a,n),c=new Se(a,n+1);let f=Nt();return this.gr.forEachInRange([s,c],m=>{f=f.add(m.key)}),f}containsKey(n){const a=new Se(n,0),s=this.Vr.firstAfterOrEqual(a);return s!==null&&n.isEqual(s.key)}}class Se{constructor(n,a){this.key=n,this.Cr=a}static mr(n,a){return ct.comparator(n.key,a.key)||Et(n.Cr,a.Cr)}static pr(n,a){return Et(n.Cr,a.Cr)||ct.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.Fr=1,this.Mr=new pe(Se.mr)}checkEmpty(n){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,s,c){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new PE(f,a,s,c);this.mutationQueue.push(m);for(const y of c)this.Mr=this.Mr.add(new Se(y.key,f)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return Y.resolve(m)}lookupMutationBatch(n,a){return Y.resolve(this.Or(a))}getNextMutationBatchAfterBatchId(n,a){const s=a+1,c=this.Nr(s),f=c<0?0:c;return Y.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?nE:this.Fr-1)}getAllMutationBatches(n){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const s=new Se(a,0),c=new Se(a,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([s,c],m=>{const y=this.Or(m.Cr);f.push(y)}),Y.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,a){let s=new pe(Et);return a.forEach(c=>{const f=new Se(c,0),m=new Se(c,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,m],y=>{s=s.add(y.Cr)})}),Y.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(n,a){const s=a.path,c=s.length+1;let f=s;ct.isDocumentKey(f)||(f=f.child(""));const m=new Se(new ct(f),0);let y=new pe(Et);return this.Mr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===c&&(y=y.add(v.Cr)),!0)},m),Y.resolve(this.Br(y))}Br(n){const a=[];return n.forEach(s=>{const c=this.Or(s);c!==null&&a.push(c)}),a}removeMutationBatch(n,a){Wt(this.Lr(a.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Y.forEach(a.mutations,c=>{const f=new Se(c.key,a.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.Mr=s})}qn(n){}containsKey(n,a){const s=new Se(a,0),c=this.Mr.firstAfterOrEqual(s);return Y.resolve(a.isEqual(c&&c.key))}performConsistencyCheck(n){return this.mutationQueue.length,Y.resolve()}Lr(n,a){return this.Nr(n)}Nr(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Or(n){const a=this.Nr(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(n){this.kr=n,this.docs=function(){return new se(ct.comparator)}(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const s=a.key,c=this.docs.get(s),f=c?c.size:0,m=this.kr(a);return this.docs=this.docs.insert(s,{document:a.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const s=this.docs.get(a);return Y.resolve(s?s.document.mutableCopy():He.newInvalidDocument(a))}getEntries(n,a){let s=xi();return a.forEach(c=>{const f=this.docs.get(c);s=s.insert(c,f?f.document.mutableCopy():He.newInvalidDocument(c))}),Y.resolve(s)}getDocumentsMatchingQuery(n,a,s,c){let f=xi();const m=a.path,y=new ct(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||J0($0(S),s)<=0||(c.has(S.key)||iu(a,S))&&(f=f.insert(S.key,S.mutableCopy()))}return Y.resolve(f)}getAllFromCollectionGroup(n,a,s,c){yt()}qr(n,a){return Y.forEach(this.docs,s=>a(s))}newChangeBuffer(n){return new RT(this)}getSize(n){return Y.resolve(this.size)}}class RT extends yT{constructor(n){super(),this.Ir=n}applyChanges(n){const a=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?a.push(this.Ir.addEntry(n,c)):this.Ir.removeEntry(s)}),Y.waitFor(a)}getFromCache(n,a){return this.Ir.getEntry(n,a)}getAllFromCache(n,a){return this.Ir.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(n){this.persistence=n,this.Qr=new ga(a=>_c(a),vc),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Nc,this.targetCount=0,this.Kr=mr.Un()}forEachTarget(n,a){return this.Qr.forEach((s,c)=>a(c)),Y.resolve()}getLastRemoteSnapshotVersion(n){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Y.resolve(this.$r)}allocateTargetId(n){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(n,a,s){return s&&(this.lastRemoteSnapshotVersion=s),a>this.$r&&(this.$r=a),Y.resolve()}zn(n){this.Qr.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.Kr=new mr(a),this.highestTargetId=a),n.sequenceNumber>this.$r&&(this.$r=n.sequenceNumber)}addTargetData(n,a){return this.zn(a),this.targetCount+=1,Y.resolve()}updateTargetData(n,a){return this.zn(a),Y.resolve()}removeTargetData(n,a){return this.Qr.delete(a.target),this.Ur.br(a.targetId),this.targetCount-=1,Y.resolve()}removeTargets(n,a,s){let c=0;const f=[];return this.Qr.forEach((m,y)=>{y.sequenceNumber<=a&&s.get(y.targetId)===null&&(this.Qr.delete(m),f.push(this.removeMatchingKeysForTargetId(n,y.targetId)),c++)}),Y.waitFor(f).next(()=>c)}getTargetCount(n){return Y.resolve(this.targetCount)}getTargetData(n,a){const s=this.Qr.get(a)||null;return Y.resolve(s)}addMatchingKeys(n,a,s){return this.Ur.yr(a,s),Y.resolve()}removeMatchingKeys(n,a,s){this.Ur.Sr(a,s);const c=this.persistence.referenceDelegate,f=[];return c&&a.forEach(m=>{f.push(c.markPotentiallyOrphaned(n,m))}),Y.waitFor(f)}removeMatchingKeysForTargetId(n,a){return this.Ur.br(a),Y.resolve()}getMatchingKeysForTargetId(n,a){const s=this.Ur.vr(a);return Y.resolve(s)}containsKey(n,a){return Y.resolve(this.Ur.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(n,a){this.Wr={},this.overlays={},this.Gr=new Yl(0),this.zr=!1,this.zr=!0,this.jr=new AT,this.referenceDelegate=n(this),this.Hr=new wT(this),this.indexManager=new cT,this.remoteDocumentCache=function(c){return new bT(c)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new uT(a),this.Yr=new ET(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new TT,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let s=this.Wr[n.toKey()];return s||(s=new ST(a,this.referenceDelegate),this.Wr[n.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(n,a,s){nt("MemoryPersistence","Starting transaction:",n);const c=new DT(this.Gr.next());return this.referenceDelegate.Zr(),s(c).next(f=>this.referenceDelegate.Xr(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}ei(n,a){return Y.or(Object.values(this.Wr).map(s=>()=>s.containsKey(n,a)))}}class DT extends tE{constructor(n){super(),this.currentSequenceNumber=n}}class Mc{constructor(n){this.persistence=n,this.ti=new Nc,this.ni=null}static ri(n){return new Mc(n)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(n,a,s){return this.ti.addReference(s,a),this.ii.delete(s.toString()),Y.resolve()}removeReference(n,a,s){return this.ti.removeReference(s,a),this.ii.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(n,a){return this.ii.add(a.toString()),Y.resolve()}removeTarget(n,a){this.ti.br(a.targetId).forEach(c=>this.ii.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,a.targetId).next(c=>{c.forEach(f=>this.ii.add(f.toString()))}).next(()=>s.removeTargetData(n,a))}Zr(){this.ni=new Set}Xr(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,s=>{const c=ct.fromPath(s);return this.si(n,c).next(f=>{f||a.removeEntry(c,mt.min())})}).next(()=>(this.ni=null,a.apply(n)))}updateLimboDocument(n,a){return this.si(n,a).next(s=>{s?this.ii.delete(a.toString()):this.ii.add(a.toString())})}Jr(n){return 0}si(n,a){return Y.or([()=>Y.resolve(this.ti.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.ei(n,a)])}}class fu{constructor(n,a){this.persistence=n,this.oi=new ga(s=>iE(s.path),(s,c)=>s.isEqual(c)),this.garbageCollector=pT(this,a)}static ri(n,a){return new fu(n,a)}Zr(){}Xr(n){return Y.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}nr(n){const a=this.sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>a.next(c=>s+c))}sr(n){let a=0;return this.rr(n,s=>{a++}).next(()=>a)}rr(n,a){return Y.forEach(this.oi,(s,c)=>this.ar(n,s,c).next(f=>f?Y.resolve():a(c)))}removeTargets(n,a,s){return this.persistence.getTargetCache().removeTargets(n,a,s)}removeOrphanedDocuments(n,a){let s=0;const c=this.persistence.getRemoteDocumentCache(),f=c.newChangeBuffer();return c.qr(n,m=>this.ar(n,m,a).next(y=>{y||(s++,f.removeEntry(m,mt.min()))})).next(()=>f.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,a){return this.oi.set(a,n.currentSequenceNumber),Y.resolve()}removeTarget(n,a){const s=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,a,s){return this.oi.set(s,n.currentSequenceNumber),Y.resolve()}removeReference(n,a,s){return this.oi.set(s,n.currentSequenceNumber),Y.resolve()}updateLimboDocument(n,a){return this.oi.set(a,n.currentSequenceNumber),Y.resolve()}Jr(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Jl(n.data.value)),a}ar(n,a,s){return Y.or([()=>this.persistence.ei(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const c=this.oi.get(a);return Y.resolve(c!==void 0&&c>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(n,a,s,c){this.targetId=n,this.fromCache=a,this.Hi=s,this.Ji=c}static Yi(n,a){let s=Nt(),c=Nt();for(const f of a.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Ic(n,a.fromCache,s,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Av()?8:eE(Ev())>0?6:4}()}initialize(n,a){this.ns=n,this.indexManager=a,this.Zi=!0}getDocumentsMatchingQuery(n,a,s,c){const f={result:null};return this.rs(n,a).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.ss(n,a,c,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new CT;return this._s(n,a,m).next(y=>{if(f.result=y,this.Xi)return this.us(n,a,m,y.size)})}).next(()=>f.result)}us(n,a,s,c){return s.documentReadCount<this.es?(ar()<=Rt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",cr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(ar()<=Rt.DEBUG&&nt("QueryEngine","Query:",cr(a),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.ts*c?(ar()<=Rt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",cr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,In(a))):Y.resolve())}rs(n,a){if(_m(a))return Y.resolve(null);let s=In(a);return this.indexManager.getIndexType(n,s).next(c=>c===0?null:(a.limit!==null&&c===1&&(a=Ac(a,null,"F"),s=In(a)),this.indexManager.getDocumentsMatchingTarget(n,s).next(f=>{const m=Nt(...f);return this.ns.getDocuments(n,m).next(y=>this.indexManager.getMinOffset(n,s).next(v=>{const _=this.cs(a,y);return this.ls(a,_,m,v.readTime)?this.rs(n,Ac(a,null,"F")):this.hs(n,_,a,v)}))})))}ss(n,a,s,c){return _m(a)||c.isEqual(mt.min())?Y.resolve(null):this.ns.getDocuments(n,s).next(f=>{const m=this.cs(a,f);return this.ls(a,m,s,c)?Y.resolve(null):(ar()<=Rt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),cr(a)),this.hs(n,m,a,Z0(c,ps)).next(y=>y))})}cs(n,a){let s=new pe(Em(n));return a.forEach((c,f)=>{iu(n,f)&&(s=s.add(f))}),s}ls(n,a,s,c){if(n.limit===null)return!1;if(s.size!==a.size)return!0;const f=n.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}_s(n,a,s){return ar()<=Rt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",cr(a)),this.ns.getDocumentsMatchingQuery(n,a,Vi.min(),s)}hs(n,a,s,c){return this.ns.getDocumentsMatchingQuery(n,s,c).next(f=>(a.forEach(m=>{f=f.insert(m.key,m)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="LocalStore",OT=3e8;class NT{constructor(n,a,s,c){this.persistence=n,this.Ps=a,this.serializer=c,this.Ts=new se(Et),this.Is=new ga(f=>_c(f),vc),this.Es=new Map,this.ds=n.getRemoteDocumentCache(),this.Hr=n.getTargetCache(),this.Yr=n.getBundleCache(),this.As(s)}As(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new vT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.Ts))}}function MT(l,n,a,s){return new NT(l,n,a,s)}async function $m(l,n){const a=wt(l);return await a.persistence.runTransaction("Handle user change","readonly",s=>{let c;return a.mutationQueue.getAllMutationBatches(s).next(f=>(c=f,a.As(n),a.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],y=[];let v=Nt();for(const _ of c){m.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of f){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return a.localDocuments.getDocuments(s,v).next(_=>({Rs:_,removedBatchIds:m,addedBatchIds:y}))})})}function Jm(l){const n=wt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.Hr.getLastRemoteSnapshotVersion(a))}function IT(l,n){const a=wt(l),s=n.snapshotVersion;let c=a.Ts;return a.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=a.ds.newChangeBuffer({trackRemovals:!0});c=a.Ts;const y=[];n.targetChanges.forEach((S,L)=>{const P=c.get(L);if(!P)return;y.push(a.Hr.removeMatchingKeys(f,S.removedDocuments,L).next(()=>a.Hr.addMatchingKeys(f,S.addedDocuments,L)));let X=P.withSequenceNumber(f.currentSequenceNumber);n.targetMismatches.get(L)!==null?X=X.withResumeToken(Ne.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):S.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(S.resumeToken,s)),c=c.insert(L,X),function(st,tt,qt){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=OT?!0:qt.addedDocuments.size+qt.modifiedDocuments.size+qt.removedDocuments.size>0}(P,X,S)&&y.push(a.Hr.updateTargetData(f,X))});let v=xi(),_=Nt();if(n.documentUpdates.forEach(S=>{n.resolvedLimboDocuments.has(S)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(f,S))}),y.push(xT(f,m,n.documentUpdates).next(S=>{v=S.Vs,_=S.fs})),!s.isEqual(mt.min())){const S=a.Hr.getLastRemoteSnapshotVersion(f).next(L=>a.Hr.setTargetsMetadata(f,f.currentSequenceNumber,s));y.push(S)}return Y.waitFor(y).next(()=>m.apply(f)).next(()=>a.localDocuments.getLocalViewOfDocuments(f,v,_)).next(()=>v)}).then(f=>(a.Ts=c,f))}function xT(l,n,a){let s=Nt(),c=Nt();return a.forEach(f=>s=s.add(f)),n.getEntries(l,s).next(f=>{let m=xi();return a.forEach((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(c=c.add(y)),v.isNoDocument()&&v.version.isEqual(mt.min())?(n.removeEntry(y,v.readTime),m=m.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(n.addEntry(v),m=m.insert(y,v)):nt(xc,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)}),{Vs:m,fs:c}})}function UT(l,n){const a=wt(l);return a.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return a.Hr.getTargetData(s,n).next(f=>f?(c=f,Y.resolve(c)):a.Hr.allocateTargetId(s).next(m=>(c=new Ui(n,m,"TargetPurposeListen",s.currentSequenceNumber),a.Hr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=a.Ts.get(s.targetId);return(c===null||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(a.Ts=a.Ts.insert(s.targetId,s),a.Is.set(n,s.targetId)),s})}async function Uc(l,n,a){const s=wt(l),c=s.Ts.get(n),f=a?"readwrite":"readwrite-primary";try{a||await s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,c))}catch(m){if(!lr(m))throw m;nt(xc,`Failed to update sequence numbers for target ${n}: ${m}`)}s.Ts=s.Ts.remove(n),s.Is.delete(c.target)}function Wm(l,n,a){const s=wt(l);let c=mt.min(),f=Nt();return s.persistence.runTransaction("Execute query","readwrite",m=>function(v,_,S){const L=wt(v),P=L.Is.get(S);return P!==void 0?Y.resolve(L.Ts.get(P)):L.Hr.getTargetData(_,S)}(s,m,In(n)).next(y=>{if(y)return c=y.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(m,y.targetId).next(v=>{f=v})}).next(()=>s.Ps.getDocumentsMatchingQuery(m,n,a?c:mt.min(),a?f:Nt())).next(y=>(zT(s,wE(n),y),{documents:y,gs:f})))}function zT(l,n,a){let s=l.Es.get(n)||mt.min();a.forEach((c,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.Es.set(n,s)}class tg{constructor(){this.activeTargetIds=ME()}Ds(n){this.activeTargetIds=this.activeTargetIds.add(n)}vs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}bs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class LT{constructor(){this.ho=new tg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,s){}addLocalQueryTarget(n,a=!0){return a&&this.ho.Ds(n),this.Po[n]||"not-current"}updateQueryState(n,a,s){this.Po[n]=a}removeLocalQueryTarget(n){this.ho.vs(n)}isLocalQueryTarget(n){return this.ho.activeTargetIds.has(n)}clearQueryState(n){delete this.Po[n]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(n){return this.ho.activeTargetIds.has(n)}start(){return this.ho=new tg,Promise.resolve()}handleUserChange(n,a,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{To(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="ConnectivityMonitor";class ng{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(n){this.Vo.push(n)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(eg,"Network connectivity changed: AVAILABLE");for(const n of this.Vo)n(0)}Ro(){nt(eg,"Network connectivity changed: UNAVAILABLE");for(const n of this.Vo)n(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function zc(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="RestConnection",qT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HT{get fo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.po=a+"://"+n.host,this.yo=`projects/${s}/databases/${c}`,this.wo=this.databaseId.database===Zl?`project_id=${s}`:`project_id=${s}&database_id=${c}`}So(n,a,s,c,f){const m=zc(),y=this.bo(n,a.toUriEncodedString());nt(Lc,`Sending RPC '${n}' ${m}:`,y,s);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,c,f),this.vo(n,y,v,s).then(_=>(nt(Lc,`Received RPC '${n}' ${m}: `,_),_),_=>{throw rr(Lc,`RPC '${n}' ${m} failed with error: `,_,"url: ",y,"request:",s),_})}Co(n,a,s,c,f,m){return this.So(n,a,s,c,f)}Do(n,a,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ir}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((c,f)=>n[f]=c),s&&s.headers.forEach((c,f)=>n[f]=c)}bo(n,a){const s=qT[n];return`${this.po}/v1/${a}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(n){this.Fo=n.Fo,this.Mo=n.Mo}xo(n){this.Oo=n}No(n){this.Bo=n}Lo(n){this.ko=n}onMessage(n){this.qo=n}close(){this.Mo()}send(n){this.Fo(n)}Qo(){this.Oo()}$o(){this.Bo()}Uo(n){this.ko(n)}Ko(n){this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe="WebChannelConnection";class kT extends HT{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}vo(n,a,s,c){const f=zc();return new Promise((m,y)=>{const v=new Ud;v.setWithCredentials(!0),v.listenOnce(zd.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Gl.NO_ERROR:const S=v.getResponseJson();nt(Pe,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(S)),m(S);break;case Gl.TIMEOUT:nt(Pe,`RPC '${n}' ${f} timed out`),y(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const L=v.getStatus();if(nt(Pe,`RPC '${n}' ${f} failed with status:`,L,"response text:",v.getResponseText()),L>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const X=P==null?void 0:P.error;if(X&&X.status&&X.message){const et=function(tt){const qt=tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(qt)>=0?qt:J.UNKNOWN}(X.status);y(new ot(et,X.message))}else y(new ot(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ot(J.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{nt(Pe,`RPC '${n}' ${f} completed.`)}});const _=JSON.stringify(c);nt(Pe,`RPC '${n}' ${f} sending request:`,c),v.send(a,"POST",_,s,15)})}Wo(n,a,s){const c=zc(),f=[this.po,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=qd(),y=Bd(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,a,s),v.encodeInitMessageHeaders=!0;const S=f.join("");nt(Pe,`Creating RPC '${n}' stream ${c}: ${S}`,v);const L=m.createWebChannel(S,v);let P=!1,X=!1;const et=new PT({Fo:tt=>{X?nt(Pe,`Not sending because RPC '${n}' stream ${c} is closed:`,tt):(P||(nt(Pe,`Opening RPC '${n}' stream ${c} transport.`),L.open(),P=!0),nt(Pe,`RPC '${n}' stream ${c} sending:`,tt),L.send(tt))},Mo:()=>L.close()}),st=(tt,qt,Mt)=>{tt.listen(qt,_t=>{try{Mt(_t)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return st(L,gs.EventType.OPEN,()=>{X||(nt(Pe,`RPC '${n}' stream ${c} transport opened.`),et.Qo())}),st(L,gs.EventType.CLOSE,()=>{X||(X=!0,nt(Pe,`RPC '${n}' stream ${c} transport closed`),et.Uo())}),st(L,gs.EventType.ERROR,tt=>{X||(X=!0,rr(Pe,`RPC '${n}' stream ${c} transport errored:`,tt),et.Uo(new ot(J.UNAVAILABLE,"The operation could not be completed")))}),st(L,gs.EventType.MESSAGE,tt=>{var qt;if(!X){const Mt=tt.data[0];Wt(!!Mt);const _t=Mt,Lt=(_t==null?void 0:_t.error)||((qt=_t[0])===null||qt===void 0?void 0:qt.error);if(Lt){nt(Pe,`RPC '${n}' stream ${c} received error:`,Lt);const gt=Lt.status;let xt=function(w){const V=he[w];if(V!==void 0)return Mm(V)}(gt),O=Lt.message;xt===void 0&&(xt=J.INTERNAL,O="Unknown error status: "+gt+" with message "+Lt.message),X=!0,et.Uo(new ot(xt,O)),L.close()}else nt(Pe,`RPC '${n}' stream ${c} received:`,Mt),et.Ko(Mt)}}),st(y,Ld.STAT_EVENT,tt=>{tt.stat===lc.PROXY?nt(Pe,`RPC '${n}' stream ${c} detected buffering proxy`):tt.stat===lc.NOPROXY&&nt(Pe,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{et.$o()},0),et}}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(l){return new FE(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(n,a,s=1e3,c=1.5,f=6e4){this.Ti=n,this.timerId=a,this.Go=s,this.zo=c,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(n){this.cancel();const a=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),c=Math.max(0,a-s);c>0&&nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ho} ms, delay with jitter: ${a} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,c,()=>(this.Yo=Date.now(),n())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="PersistentStream";class jT{constructor(n,a,s,c,f,m,y,v){this.Ti=n,this.n_=s,this.r_=c,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ag(n,a)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(n){this.E_(),this.stream.send(n)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(n,a){this.E_(),this.d_(),this.a_.cancel(),this.i_++,n!==4?this.a_.reset():a&&a.code===J.RESOURCE_EXHAUSTED?(Jn(a.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):a&&a.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.Lo(a)}A_(){}auth(){this.state=1;const n=this.R_(this.i_),a=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.i_===a&&this.V_(s,c)},s=>{n(()=>{const c=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(c)})})}V_(n,a){const s=this.R_(this.i_);this.stream=this.f_(n,a),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(c=>{s(()=>this.m_(c))}),this.stream.onMessage(c=>{s(()=>++this.__==1?this.g_(c):this.onNext(c))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(n){return nt(rg,`close with error: ${n}`),this.stream=null,this.close(4,n)}R_(n){return a=>{this.Ti.enqueueAndForget(()=>this.i_===n?a():(nt(rg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GT extends jT{constructor(n,a,s,c,f,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,s,c,m),this.serializer=f}f_(n,a){return this.connection.Wo("Listen",n,a)}g_(n){return this.onNext(n)}onNext(n){this.a_.reset();const a=tT(this.serializer,n),s=function(f){if(!("targetChange"in f))return mt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?mt.min():m.readTime?hr(m.readTime):mt.min()}(n);return this.listener.p_(a,s)}y_(n){const a={};a.database=Pm(this.serializer),a.addTarget=function(f,m){let y;const v=m.target;if(y=Ec(v)?{documents:eT(f,v)}:{query:nT(f,v).ht},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=$E(f,m.resumeToken);const _=Cc(f,m.expectedCount);_!==null&&(y.expectedCount=_)}else if(m.snapshotVersion.compareTo(mt.min())>0){y.readTime=ZE(f,m.snapshotVersion.toTimestamp());const _=Cc(f,m.expectedCount);_!==null&&(y.expectedCount=_)}return y}(this.serializer,n);const s=aT(this.serializer,n);s&&(a.labels=s),this.I_(a)}w_(n){const a={};a.database=Pm(this.serializer),a.removeTarget=n,this.I_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class YT extends QT{constructor(n,a,s,c){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=s,this.serializer=c,this.F_=!1}M_(){if(this.F_)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(n,a,s,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.So(n,Vc(a,s),c,f,m)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(J.UNKNOWN,f.toString())})}Co(n,a,s,c,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Co(n,Vc(a,s),c,m,y,f)).catch(m=>{throw m.name==="FirebaseError"?(m.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ot(J.UNKNOWN,m.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class KT{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(n){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.L_("Offline")))}set(n){this.Q_(),this.x_=0,n==="Online"&&(this.N_=!1),this.L_(n)}L_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}k_(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Jn(a),this.N_=!1):nt("OnlineStateTracker",a)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class XT{constructor(n,a,s,c,f){this.localStore=n,this.datastore=a,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(m=>{s.enqueueAndForget(async()=>{Vs(this)&&(nt(gr,"Restarting streams for network reachability change."),await async function(v){const _=wt(v);_.W_.add(4),await Cs(_),_.j_.set("Unknown"),_.W_.delete(4),await mu(_)}(this))})}),this.j_=new KT(s,c)}}async function mu(l){if(Vs(l))for(const n of l.G_)await n(!0)}async function Cs(l){for(const n of l.G_)await n(!1)}function sg(l,n){const a=wt(l);a.K_.has(n.targetId)||(a.K_.set(n.targetId,n),kc(a)?Pc(a):pr(a).c_()&&Hc(a,n))}function qc(l,n){const a=wt(l),s=pr(a);a.K_.delete(n),s.c_()&&lg(a,n),a.K_.size===0&&(s.c_()?s.P_():Vs(a)&&a.j_.set("Unknown"))}function Hc(l,n){if(l.H_.Ne(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(mt.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}pr(l).y_(n)}function lg(l,n){l.H_.Ne(n),pr(l).w_(n)}function Pc(l){l.H_=new QE({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),lt:n=>l.K_.get(n)||null,it:()=>l.datastore.serializer.databaseId}),pr(l).start(),l.j_.B_()}function kc(l){return Vs(l)&&!pr(l).u_()&&l.K_.size>0}function Vs(l){return wt(l).W_.size===0}function ug(l){l.H_=void 0}async function FT(l){l.j_.set("Online")}async function ZT(l){l.K_.forEach((n,a)=>{Hc(l,n)})}async function $T(l,n){ug(l),kc(l)?(l.j_.q_(n),Pc(l)):l.j_.set("Unknown")}async function JT(l,n,a){if(l.j_.set("Online"),n instanceof zm&&n.state===2&&n.cause)try{await async function(c,f){const m=f.cause;for(const y of f.targetIds)c.K_.has(y)&&(await c.remoteSyncer.rejectListen(y,m),c.K_.delete(y),c.H_.removeTarget(y))}(l,n)}catch(s){nt(gr,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),await og(l,s)}else if(n instanceof cu?l.H_.We(n):n instanceof Um?l.H_.Ze(n):l.H_.je(n),!a.isEqual(mt.min()))try{const s=await Jm(l.localStore);a.compareTo(s)>=0&&await function(f,m){const y=f.H_.ot(m);return y.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=f.K_.get(_);S&&f.K_.set(_,S.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,_)=>{const S=f.K_.get(v);if(!S)return;f.K_.set(v,S.withResumeToken(Ne.EMPTY_BYTE_STRING,S.snapshotVersion)),lg(f,v);const L=new Ui(S.target,v,_,S.sequenceNumber);Hc(f,L)}),f.remoteSyncer.applyRemoteEvent(y)}(l,a)}catch(s){nt(gr,"Failed to raise snapshot:",s),await og(l,s)}}async function og(l,n,a){if(!lr(n))throw n;l.W_.add(1),await Cs(l),l.j_.set("Offline"),a||(a=()=>Jm(l.localStore)),l.asyncQueue.enqueueRetryable(async()=>{nt(gr,"Retrying IndexedDB access"),await a(),l.W_.delete(1),await mu(l)})}async function cg(l,n){const a=wt(l);a.asyncQueue.verifyOperationInProgress(),nt(gr,"RemoteStore received new credentials");const s=Vs(a);a.W_.add(3),await Cs(a),s&&a.j_.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.W_.delete(3),await mu(a)}async function WT(l,n){const a=wt(l);n?(a.W_.delete(2),await mu(a)):n||(a.W_.add(2),await Cs(a),a.j_.set("Unknown"))}function pr(l){return l.J_||(l.J_=function(a,s,c){const f=wt(a);return f.M_(),new GT(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{xo:FT.bind(null,l),No:ZT.bind(null,l),Lo:$T.bind(null,l),p_:JT.bind(null,l)}),l.G_.push(async n=>{n?(l.J_.h_(),kc(l)?Pc(l):l.j_.set("Unknown")):(await l.J_.stop(),ug(l))})),l.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(n,a,s,c,f){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=s,this.op=c,this.removalCallback=f,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,a,s,c,f){const m=Date.now()+s,y=new jc(n,a,m,c,f);return y.start(s),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(l,n){if(Jn("AsyncQueue",`${n}: ${l}`),lr(l))return new ot(J.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{static emptySet(n){return new yr(n.comparator)}constructor(n){this.comparator=n?(a,s)=>n(a,s)||ct.comparator(a.key,s.key):(a,s)=>ct.comparator(a.key,s.key),this.keyedMap=Ss(),this.sortedSet=new se(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,s)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof yr)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;a.hasNext();){const c=a.getNext().key,f=s.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const s=new yr;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=a,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Z_=new se(ct.comparator)}track(n){const a=n.doc.key,s=this.Z_.get(a);s?n.type!==0&&s.type===3?this.Z_=this.Z_.insert(a,n):n.type===3&&s.type!==1?this.Z_=this.Z_.insert(a,{type:s.type,doc:n.doc}):n.type===2&&s.type===2?this.Z_=this.Z_.insert(a,{type:2,doc:n.doc}):n.type===2&&s.type===0?this.Z_=this.Z_.insert(a,{type:0,doc:n.doc}):n.type===1&&s.type===0?this.Z_=this.Z_.remove(a):n.type===1&&s.type===2?this.Z_=this.Z_.insert(a,{type:1,doc:s.doc}):n.type===0&&s.type===1?this.Z_=this.Z_.insert(a,{type:2,doc:n.doc}):yt():this.Z_=this.Z_.insert(a,n)}X_(){const n=[];return this.Z_.inorderTraversal((a,s)=>{n.push(s)}),n}}class _r{constructor(n,a,s,c,f,m,y,v,_){this.query=n,this.docs=a,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(n,a,s,c,f){const m=[];return a.forEach(y=>{m.push({type:0,doc:y})}),new _r(n,a,yr.emptySet(a),m,s,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&nu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,s=n.docChanges;if(a.length!==s.length)return!1;for(let c=0;c<a.length;c++)if(a[c].type!==s[c].type||!a[c].doc.isEqual(s[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(n=>n.ra())}}class eA{constructor(){this.queries=dg(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(a,s){const c=wt(a),f=c.queries;c.queries=dg(),f.forEach((m,y)=>{for(const v of y.ta)v.onError(s)})})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function dg(){return new ga(l=>vm(l),nu)}async function nA(l,n){const a=wt(l);let s=3;const c=n.query;let f=a.queries.get(c);f?!f.na()&&n.ra()&&(s=2):(f=new tA,s=n.ra()?0:1);try{switch(s){case 0:f.ea=await a.onListen(c,!0);break;case 1:f.ea=await a.onListen(c,!1);break;case 2:await a.onFirstRemoteStoreListen(c)}}catch(m){const y=hg(m,`Initialization of query '${cr(n.query)}' failed`);return void n.onError(y)}a.queries.set(c,f),f.ta.push(n),n.sa(a.onlineState),f.ea&&n.oa(f.ea)&&Gc(a)}async function iA(l,n){const a=wt(l),s=n.query;let c=3;const f=a.queries.get(s);if(f){const m=f.ta.indexOf(n);m>=0&&(f.ta.splice(m,1),f.ta.length===0?c=n.ra()?0:1:!f.na()&&n.ra()&&(c=2))}switch(c){case 0:return a.queries.delete(s),a.onUnlisten(s,!0);case 1:return a.queries.delete(s),a.onUnlisten(s,!1);case 2:return a.onLastRemoteStoreUnlisten(s);default:return}}function aA(l,n){const a=wt(l);let s=!1;for(const c of n){const f=c.query,m=a.queries.get(f);if(m){for(const y of m.ta)y.oa(c)&&(s=!0);m.ea=c}}s&&Gc(a)}function rA(l,n,a){const s=wt(l),c=s.queries.get(n);if(c)for(const f of c.ta)f.onError(a);s.queries.delete(n)}function Gc(l){l.ia.forEach(n=>{n.next()})}var Qc,mg;(mg=Qc||(Qc={}))._a="default",mg.Cache="cache";class sA{constructor(n,a,s){this.query=n,this.aa=a,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(n){if(!this.options.includeMetadataChanges){const s=[];for(const c of n.docChanges)c.type!==3&&s.push(c);n=new _r(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.ua?this.la(n)&&(this.aa.next(n),a=!0):this.ha(n,this.onlineState)&&(this.Pa(n),a=!0),this.ca=n,a}onError(n){this.aa.error(n)}sa(n){this.onlineState=n;let a=!1;return this.ca&&!this.ua&&this.ha(this.ca,n)&&(this.Pa(this.ca),a=!0),a}ha(n,a){if(!n.fromCache||!this.ra())return!0;const s=a!=="Offline";return(!this.options.Ta||!s)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}la(n){if(n.docChanges.length>0)return!0;const a=this.ca&&this.ca.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}Pa(n){n=_r.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.ua=!0,this.aa.next(n)}ra(){return this.options.source!==Qc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(n){this.key=n}}class pg{constructor(n){this.key=n}}class lA{constructor(n,a){this.query=n,this.fa=a,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=Em(n),this.wa=new yr(this.ya)}get Sa(){return this.fa}ba(n,a){const s=a?a.Da:new fg,c=a?a.wa:this.wa;let f=a?a.mutatedKeys:this.mutatedKeys,m=c,y=!1;const v=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,_=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((S,L)=>{const P=c.get(S),X=iu(this.query,L)?L:null,et=!!P&&this.mutatedKeys.has(P.key),st=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let tt=!1;P&&X?P.data.isEqual(X.data)?et!==st&&(s.track({type:3,doc:X}),tt=!0):this.va(P,X)||(s.track({type:2,doc:X}),tt=!0,(v&&this.ya(X,v)>0||_&&this.ya(X,_)<0)&&(y=!0)):!P&&X?(s.track({type:0,doc:X}),tt=!0):P&&!X&&(s.track({type:1,doc:P}),tt=!0,(v||_)&&(y=!0)),tt&&(X?(m=m.add(X),f=st?f.add(S):f.delete(S)):(m=m.delete(S),f=f.delete(S)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const S=this.query.limitType==="F"?m.last():m.first();m=m.delete(S.key),f=f.delete(S.key),s.track({type:1,doc:S})}return{wa:m,Da:s,ls:y,mutatedKeys:f}}va(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,s,c){const f=this.wa;this.wa=n.wa,this.mutatedKeys=n.mutatedKeys;const m=n.Da.X_();m.sort((S,L)=>function(X,et){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return st(X)-st(et)}(S.type,L.type)||this.ya(S.doc,L.doc)),this.Ca(s),c=c!=null&&c;const y=a&&!c?this.Fa():[],v=this.pa.size===0&&this.current&&!c?1:0,_=v!==this.ga;return this.ga=v,m.length!==0||_?{snapshot:new _r(this.query,n.wa,f,m,n.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(n){return!this.fa.has(n)&&!!this.wa.has(n)&&!this.wa.get(n).hasLocalMutations}Ca(n){n&&(n.addedDocuments.forEach(a=>this.fa=this.fa.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.fa=this.fa.delete(a)),this.current=n.current)}Fa(){if(!this.current)return[];const n=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const a=[];return n.forEach(s=>{this.pa.has(s)||a.push(new pg(s))}),this.pa.forEach(s=>{n.has(s)||a.push(new gg(s))}),a}Oa(n){this.fa=n.gs,this.pa=Nt();const a=this.ba(n.documents);return this.applyChanges(a,!0)}Na(){return _r.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yc="SyncEngine";class uA{constructor(n,a,s){this.query=n,this.targetId=a,this.view=s}}class oA{constructor(n){this.key=n,this.Ba=!1}}class cA{constructor(n,a,s,c,f,m){this.localStore=n,this.remoteStore=a,this.eventManager=s,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.La={},this.ka=new ga(y=>vm(y),nu),this.qa=new Map,this.Qa=new Set,this.$a=new se(ct.comparator),this.Ua=new Map,this.Ka=new Nc,this.Wa={},this.Ga=new Map,this.za=mr.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hA(l,n,a=!0){const s=Sg(l);let c;const f=s.ka.get(n);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Na()):c=await yg(s,n,a,!0),c}async function fA(l,n){const a=Sg(l);await yg(a,n,!0,!1)}async function yg(l,n,a,s){const c=await UT(l.localStore,In(n)),f=c.targetId,m=l.sharedClientState.addLocalQueryTarget(f,a);let y;return s&&(y=await dA(l,n,f,m==="current",c.resumeToken)),l.isPrimaryClient&&a&&sg(l.remoteStore,c),y}async function dA(l,n,a,s,c){l.Ha=(L,P,X)=>async function(st,tt,qt,Mt){let _t=tt.view.ba(qt);_t.ls&&(_t=await Wm(st.localStore,tt.query,!1).then(({documents:O})=>tt.view.ba(O,_t)));const Lt=Mt&&Mt.targetChanges.get(tt.targetId),gt=Mt&&Mt.targetMismatches.get(tt.targetId)!=null,xt=tt.view.applyChanges(_t,st.isPrimaryClient,Lt,gt);return Tg(st,tt.targetId,xt.Ma),xt.snapshot}(l,L,P,X);const f=await Wm(l.localStore,n,!0),m=new lA(n,f.gs),y=m.ba(f.documents),v=Ds.createSynthesizedTargetChangeForCurrentChange(a,s&&l.onlineState!=="Offline",c),_=m.applyChanges(y,l.isPrimaryClient,v);Tg(l,a,_.Ma);const S=new uA(n,a,m);return l.ka.set(n,S),l.qa.has(a)?l.qa.get(a).push(n):l.qa.set(a,[n]),_.snapshot}async function mA(l,n,a){const s=wt(l),c=s.ka.get(n),f=s.qa.get(c.targetId);if(f.length>1)return s.qa.set(c.targetId,f.filter(m=>!nu(m,n))),void s.ka.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||await Uc(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),a&&qc(s.remoteStore,c.targetId),Kc(s,c.targetId)}).catch(Ql)):(Kc(s,c.targetId),await Uc(s.localStore,c.targetId,!0))}async function gA(l,n){const a=wt(l),s=a.ka.get(n),c=a.qa.get(s.targetId);a.isPrimaryClient&&c.length===1&&(a.sharedClientState.removeLocalQueryTarget(s.targetId),qc(a.remoteStore,s.targetId))}async function _g(l,n){const a=wt(l);try{const s=await IT(a.localStore,n);n.targetChanges.forEach((c,f)=>{const m=a.Ua.get(f);m&&(Wt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Ba=!0:c.modifiedDocuments.size>0?Wt(m.Ba):c.removedDocuments.size>0&&(Wt(m.Ba),m.Ba=!1))}),await Ag(a,s,n)}catch(s){await Ql(s)}}function vg(l,n,a){const s=wt(l);if(s.isPrimaryClient&&a===0||!s.isPrimaryClient&&a===1){const c=[];s.ka.forEach((f,m)=>{const y=m.view.sa(n);y.snapshot&&c.push(y.snapshot)}),function(m,y){const v=wt(m);v.onlineState=y;let _=!1;v.queries.forEach((S,L)=>{for(const P of L.ta)P.sa(y)&&(_=!0)}),_&&Gc(v)}(s.eventManager,n),c.length&&s.La.p_(c),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}async function pA(l,n,a){const s=wt(l);s.sharedClientState.updateQueryState(n,"rejected",a);const c=s.Ua.get(n),f=c&&c.key;if(f){let m=new se(ct.comparator);m=m.insert(f,He.newNoDocument(f,mt.min()));const y=Nt().add(f),v=new ou(mt.min(),new Map,new se(Et),m,y);await _g(s,v),s.$a=s.$a.remove(f),s.Ua.delete(n),Xc(s)}else await Uc(s.localStore,n,!1).then(()=>Kc(s,n,a)).catch(Ql)}function Kc(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.qa.get(n))l.ka.delete(s),a&&l.La.Ja(s,a);l.qa.delete(n),l.isPrimaryClient&&l.Ka.br(n).forEach(s=>{l.Ka.containsKey(s)||Eg(l,s)})}function Eg(l,n){l.Qa.delete(n.path.canonicalString());const a=l.$a.get(n);a!==null&&(qc(l.remoteStore,a),l.$a=l.$a.remove(n),l.Ua.delete(a),Xc(l))}function Tg(l,n,a){for(const s of a)s instanceof gg?(l.Ka.addReference(s.key,n),yA(l,s)):s instanceof pg?(nt(Yc,"Document no longer in limbo: "+s.key),l.Ka.removeReference(s.key,n),l.Ka.containsKey(s.key)||Eg(l,s.key)):yt()}function yA(l,n){const a=n.key,s=a.path.canonicalString();l.$a.get(a)||l.Qa.has(s)||(nt(Yc,"New document in limbo: "+a),l.Qa.add(s),Xc(l))}function Xc(l){for(;l.Qa.size>0&&l.$a.size<l.maxConcurrentLimboResolutions;){const n=l.Qa.values().next().value;l.Qa.delete(n);const a=new ct(ee.fromString(n)),s=l.za.next();l.Ua.set(s,new oA(a)),l.$a=l.$a.insert(a,s),sg(l.remoteStore,new Ui(In(Tc(a.path)),s,"TargetPurposeLimboResolution",Yl.ae))}}async function Ag(l,n,a){const s=wt(l),c=[],f=[],m=[];s.ka.isEmpty()||(s.ka.forEach((y,v)=>{m.push(s.Ha(v,n,a).then(_=>{var S;if((_||a)&&s.isPrimaryClient){const L=_?!_.fromCache:(S=a==null?void 0:a.targetChanges.get(v.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(v.targetId,L?"current":"not-current")}if(_){c.push(_);const L=Ic.Yi(v.targetId,_);f.push(L)}}))}),await Promise.all(m),s.La.p_(c),await async function(v,_){const S=wt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Y.forEach(_,P=>Y.forEach(P.Hi,X=>S.persistence.referenceDelegate.addReference(L,P.targetId,X)).next(()=>Y.forEach(P.Ji,X=>S.persistence.referenceDelegate.removeReference(L,P.targetId,X)))))}catch(L){if(!lr(L))throw L;nt(xc,"Failed to update sequence numbers: "+L)}for(const L of _){const P=L.targetId;if(!L.fromCache){const X=S.Ts.get(P),et=X.snapshotVersion,st=X.withLastLimboFreeSnapshotVersion(et);S.Ts=S.Ts.insert(P,st)}}}(s.localStore,f))}async function _A(l,n){const a=wt(l);if(!a.currentUser.isEqual(n)){nt(Yc,"User change. New user:",n.toKey());const s=await $m(a.localStore,n);a.currentUser=n,function(f,m){f.Ga.forEach(y=>{y.forEach(v=>{v.reject(new ot(J.CANCELLED,m))})}),f.Ga.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),await Ag(a,s.Rs)}}function vA(l,n){const a=wt(l),s=a.Ua.get(n);if(s&&s.Ba)return Nt().add(s.key);{let c=Nt();const f=a.qa.get(n);if(!f)return c;for(const m of f){const y=a.ka.get(m);c=c.unionWith(y.view.Sa)}return c}}function Sg(l){const n=wt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=vA.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=pA.bind(null,n),n.La.p_=aA.bind(null,n.eventManager),n.La.Ja=rA.bind(null,n.eventManager),n}class gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=ig(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),await this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)}tu(n,a){return null}nu(n,a){return null}eu(n){return MT(this.persistence,new VT,n.initialUser,this.serializer)}Xa(n){return new Zm(Mc.ri,this.serializer)}Za(n){return new LT}async terminate(){var n,a;(n=this.gcScheduler)===null||n===void 0||n.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gu.provider={build:()=>new gu};class EA extends gu{constructor(n){super(),this.cacheSizeBytes=n}tu(n,a){Wt(this.persistence.referenceDelegate instanceof fu);const s=this.persistence.referenceDelegate.garbageCollector;return new mT(s,n.asyncQueue,a)}Xa(n){const a=this.cacheSizeBytes!==void 0?Ze.withCacheSize(this.cacheSizeBytes):Ze.DEFAULT;return new Zm(s=>fu.ri(s,a),this.serializer)}}class Fc{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_A.bind(null,this.syncEngine),await WT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new eA}()}createDatastore(n){const a=ig(n.databaseInfo.databaseId),s=function(f){return new kT(f)}(n.databaseInfo);return function(f,m,y,v){return new YT(f,m,y,v)}(n.authCredentials,n.appCheckCredentials,s,a)}createRemoteStore(n){return function(s,c,f,m,y){return new XT(s,c,f,m,y)}(this.localStore,this.datastore,n.asyncQueue,a=>vg(this.syncEngine,a,0),function(){return ng.D()?new ng:new BT}())}createSyncEngine(n,a){return function(c,f,m,y,v,_,S){const L=new cA(c,f,m,y,v,_);return S&&(L.ja=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await async function(c){const f=wt(c);nt(gr,"RemoteStore shutting down."),f.W_.add(5),await Cs(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}Fc.provider={build:()=>new Fc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.iu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.iu(this.observer.error,n):Jn("Uncaught Error in snapshot listener:",n.toString()))}su(){this.muted=!0}iu(n,a){setTimeout(()=>{this.muted||n(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class AA{constructor(n,a,s,c,f){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=s,this.databaseInfo=c,this.user=qe.UNAUTHENTICATED,this.clientId=Qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async m=>{nt(zi,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(s,m=>(nt(zi,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const s=hg(a,"Failed to shutdown persistence");n.reject(s)}}),n.promise}}async function Zc(l,n){l.asyncQueue.verifyOperationInProgress(),nt(zi,"Initializing OfflineComponentProvider");const a=l.configuration;await n.initialize(a);let s=a.initialUser;l.setCredentialChangeListener(async c=>{s.isEqual(c)||(await $m(n.localStore,c),s=c)}),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}async function bg(l,n){l.asyncQueue.verifyOperationInProgress();const a=await SA(l);nt(zi,"Initializing OnlineComponentProvider"),await n.initialize(a,l.configuration),l.setCredentialChangeListener(s=>cg(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,c)=>cg(n.remoteStore,c)),l._onlineComponents=n}async function SA(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){nt(zi,"Using user provided OfflineComponentProvider");try{await Zc(l,l._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!function(c){return c.name==="FirebaseError"?c.code===J.FAILED_PRECONDITION||c.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(a))throw a;rr("Error using user provided cache. Falling back to memory cache: "+a),await Zc(l,new gu)}}else nt(zi,"Using default OfflineComponentProvider"),await Zc(l,new EA(void 0));return l._offlineComponents}async function bA(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(nt(zi,"Using user provided OnlineComponentProvider"),await bg(l,l._uninitializedComponentsProvider._online)):(nt(zi,"Using default OnlineComponentProvider"),await bg(l,new Fc))),l._onlineComponents}async function RA(l){const n=await bA(l),a=n.eventManager;return a.onListen=hA.bind(null,n.syncEngine),a.onUnlisten=mA.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=fA.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=gA.bind(null,n.syncEngine),a}function wA(l,n,a={}){const s=new ma;return l.asyncQueue.enqueueAndForget(async()=>function(f,m,y,v,_){const S=new TA({next:P=>{S.su(),m.enqueueAndForget(()=>iA(f,L));const X=P.docs.has(y);!X&&P.fromCache?_.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&P.fromCache&&v&&v.source==="server"?_.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(P)},error:P=>_.reject(P)}),L=new sA(Tc(y.path),S,{includeMetadataChanges:!0,Ta:!0});return nA(f,L)}(await RA(l),l.asyncQueue,n,a,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(l,n,a){if(!a)throw new ot(J.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function CA(l,n,a,s){if(n===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function Dg(l){if(!ct.isDocumentKey(l))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function VA(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=function(s){return s.constructor?s.constructor.name:null}(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":yt()}function $c(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=VA(l);throw new ot(J.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="firestore.googleapis.com",Vg=!0;class Og{constructor(n){var a,s;if(n.host===void 0){if(n.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cg,this.ssl=Vg}else this.host=n.host,this.ssl=(a=n.ssl)!==null&&a!==void 0?a:Vg;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=Km;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<fT)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}CA("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rg((s=n.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(s,c){return s.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Jc{constructor(n,a,s,c){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Og({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Og(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new P0;switch(s.type){case"firstParty":return new Q0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const s=wg.get(a);s&&(nt("ComponentProvider","Removing Datastore"),wg.delete(a),s.terminate())}(this),Promise.resolve()}}function OA(l,n,a,s={}){var c;const f=(l=$c(l,Jc))._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:l._getEmulatorOptions()}),y=`${n}:${a}`;f.host!==Cg&&f.host!==y&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},f),{host:y,ssl:!1,emulatorOptions:s});if(!Hl(v,m)&&(l._setSettings(v),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=qe.MOCK_USER;else{_=vv(s.mockUserToken,(c=l._app)===null||c===void 0?void 0:c.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new qe(L)}l._authCredentials=new k0(new kd(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(n,a,s){this.converter=a,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Wc(this.firestore,n,this._query)}}class Wn{constructor(n,a,s){this.converter=a,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Wn(this.firestore,n,this._key)}}class Os extends Wc{constructor(n,a,s){super(n,a,Tc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Wn(this.firestore,null,new ct(n))}withConverter(n){return new Os(this.firestore,n,this._path)}}function NA(l,n,...a){if(l=Cv(l),arguments.length===1&&(n=Qd.newId()),DA("doc","path",n),l instanceof Jc){const s=ee.fromString(n,...a);return Dg(s),new Wn(l,null,new ct(s))}{if(!(l instanceof Wn||l instanceof Os))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(ee.fromString(n,...a));return Dg(s),new Wn(l.firestore,l instanceof Os?l.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="AsyncQueue";class Mg{constructor(n=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ag(this,"async_queue_retry"),this.Su=()=>{const s=Bc();s&&nt(Ng,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=n;const a=Bc();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Du(),this.vu(n)}enterRestrictedMode(n){if(!this.mu){this.mu=!0,this.yu=n||!1;const a=Bc();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.Su)}}enqueue(n){if(this.Du(),this.mu)return new Promise(()=>{});const a=new ma;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Vu.push(n),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(n){if(!lr(n))throw n;nt(Ng,"Operation failed with retryable error: "+n)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(n){const a=this.bu.then(()=>(this.pu=!0,n().catch(s=>{this.gu=s,this.pu=!1;const c=function(m){let y=m.message||"";return m.stack&&(y=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),y}(s);throw Jn("INTERNAL UNHANDLED ERROR: ",c),s}).then(s=>(this.pu=!1,s))));return this.bu=a,a}enqueueAfterDelay(n,a,s){this.Du(),this.wu.indexOf(n)>-1&&(a=0);const c=jc.createAndSchedule(this,n,a,s,f=>this.Fu(f));return this.fu.push(c),c}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let n;do n=this.bu,await n;while(n!==this.bu)}xu(n){for(const a of this.fu)if(a.timerId===n)return!0;return!1}Ou(n){return this.Mu().then(()=>{this.fu.sort((a,s)=>a.targetTimeMs-s.targetTimeMs);for(const a of this.fu)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Mu()})}Nu(n){this.wu.push(n)}Fu(n){const a=this.fu.indexOf(n);this.fu.splice(a,1)}}class Ig extends Jc{constructor(n,a,s,c){super(n,a,s,c),this.type="firestore",this._queue=new Mg,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Mg(n),this._firestoreClient=void 0,await n}}}function MA(l,n){const a=typeof l=="object"?l:O0(),s=typeof l=="string"?l:Zl,c=R0(a,"firestore").getImmediate({identifier:s});if(!c._initialized){const f=yv("firestore");f&&OA(c,...f)}return c}function IA(l){if(l._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||xA(l),l._firestoreClient}function xA(l){var n,a,s;const c=l._freezeSettings(),f=function(y,v,_,S){return new lE(y,v,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Rg(S.experimentalLongPollingOptions),S.useFetchStreams)}(l._databaseId,((n=l._app)===null||n===void 0?void 0:n.options.appId)||"",l._persistenceKey,c);l._componentsProvider||!((a=c.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((s=c.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(l._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),l._firestoreClient=new AA(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new pu(Ne.fromBase64String(n))}catch(a){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new pu(Ne.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Et(this._lat,n._lat)||Et(this._long,n._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(n){this._values=(n||[]).map(a=>a)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,c){if(s.length!==c.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==c[f])return!1;return!0}(this._values,n._values)}}const LA=new RegExp("[~\\*/\\[\\]]");function BA(l,n,a){if(n.search(LA)>=0)throw Ug(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new xg(...n.split("."))._internalPath}catch{throw Ug(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function Ug(l,n,a,s,c){let f=`Function ${n}() called with invalid data`;f+=". ";let m="";return new ot(J.INVALID_ARGUMENT,f+l+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(n,a,s,c,f){this._firestore=n,this._userDataWriter=a,this._key=s,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(Lg("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class qA extends zg{data(){return super.data()}}function Lg(l,n){return typeof n=="string"?BA(l,n):n instanceof xg?n._internalPath:n._delegate._internalPath}class HA{convertValue(n,a="none"){switch(Ii(n)){case 0:return null;case 1:return n.booleanValue;case 2:return le(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(Mi(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw yt()}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const s={};return ys(n,(c,f)=>{s[c]=this.convertValue(f,a)}),s}convertVectorValue(n){var a,s,c;const f=(c=(s=(a=n.fields)===null||a===void 0?void 0:a[fc].arrayValue)===null||s===void 0?void 0:s.values)===null||c===void 0?void 0:c.map(m=>le(m.doubleValue));return new zA(f)}convertGeoPoint(n){return new UA(le(n.latitude),le(n.longitude))}convertArray(n,a){return(n.values||[]).map(s=>this.convertValue(s,a))}convertServerTimestamp(n,a){switch(a){case"previous":const s=Fl(n);return s==null?null:this.convertValue(s,a);case"estimate":return this.convertTimestamp(_s(n));default:return null}}convertTimestamp(n){const a=Ni(n);return new Fe(a.seconds,a.nanos)}convertDocumentKey(n,a){const s=ee.fromString(n);Wt(Qm(s));const c=new vs(s.get(1),s.get(3)),f=new ct(s.popFirst(5));return c.isEqual(a)||Jn(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Bg extends zg{constructor(n,a,s,c,f,m){super(n,a,s,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new kA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const s=this._document.data.field(Lg("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}}class kA extends Bg{data(n={}){return super.data(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(l){l=$c(l,Wn);const n=$c(l.firestore,Ig);return wA(IA(n),l._key).then(a=>QA(n,l,a))}class GA extends HA{constructor(n){super(),this.firestore=n}convertBytes(n){return new pu(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new Wn(this.firestore,null,a)}}function QA(l,n,a){const s=a.docs.get(n._key),c=new GA(l);return new Bg(l,c,n._key,s,new PA(a.hasPendingWrites,a.fromCache),n.converter)}(function(n,a=!0){(function(c){ir=c})(V0),kl(new ds("firestore",(s,{instanceIdentifier:c,options:f})=>{const m=s.getProvider("app").getImmediate(),y=new Ig(new j0(s.getProvider("auth-internal")),new Y0(m,s.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vs(_.options.projectId,S)}(m,c),m);return f=Object.assign({useFetchStreams:a},f),y._setSettings(f),y},"PUBLIC").setMultipleInstances(!0)),nr(Hd,Pd,n),nr(Hd,Pd,"esm2017")})();var YA="firebase",KA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(YA,KA,"app");const XA=Dd({apiKey:"AIzaSyB-0TL358O140wB7PeuA_NIEBvQaoFHM9A",authDomain:"whatsapp-chatbot-33551.firebaseapp.com",projectId:"whatsapp-chatbot-33551",storageBucket:"whatsapp-chatbot-33551.firebasestorage.app",messagingSenderId:"340832961461",appId:"1:340832961461:web:27141c87178c87cdff8ffc",measurementId:"G-53HFLMV94E"}),FA=MA(XA);function qg({chatbotSize:l,logoUrl:n,initialQuestions:a=[],backgroundColor:s,onQuestionClick:c,mode:f="dashboard"}){const[m,y]=sd.useState(!0);return m?Xt.jsxs("div",{className:f==="dashboard"?"preview-panel":"",style:{display:m?"block":"none"},children:[f==="dashboard"&&Xt.jsxs("div",{className:"preview-header",children:[Xt.jsx("span",{children:"Preview Widget"}),Xt.jsxs("div",{className:"preview-actions",children:[Xt.jsx("span",{children:"Open"}),Xt.jsx("span",{className:"dropdown-icon",children:"▼"})]})]}),Xt.jsxs("div",{className:`chatbot-preview ${l||"medium"}`,style:{backgroundColor:s||"#000000"},children:[Xt.jsxs("div",{className:"chatbot-header",children:[Xt.jsx("div",{className:"chatbot-icon",children:n?Xt.jsx("img",{src:n,alt:"Bot"}):Xt.jsx("span",{children:"🤖"})}),Xt.jsx("div",{className:"chatbot-title",children:"abc"})]}),Xt.jsxs("div",{className:"chatbot-body",children:[Xt.jsx("div",{className:"chatbot-message",children:"Select relevant question to start"}),Xt.jsx("div",{className:"chatbot-questions",children:a.map((v,_)=>Xt.jsx("div",{className:"chatbot-question",onClick:()=>c==null?void 0:c(v),children:v||"What are some features?"},_))}),Xt.jsx("div",{className:"chatbot-hint",children:"Click one, or type your own"}),Xt.jsxs("div",{className:"chatbot-input",children:[Xt.jsx("input",{type:"text",placeholder:"Type here..."}),Xt.jsx("button",{className:"send-btn",children:"➤"})]}),Xt.jsx("div",{className:"chatbot-footer",children:"Powered by "})]})]}),f==="dashboard"&&Xt.jsx("button",{className:"test-btn",children:"Test"})]}):null}typeof window<"u"&&(window.mountChatbot=(l,n)=>{const a=document.getElementById(l);if(!a){console.error(`Container with id ${l} not found`);return}ReactDOM.createRoot(a).render(Xt.jsx(qg,{chatbotId:n.chatbotId,initialQuestions:n.initialQuestions||[],backgroundColor:n.backgroundColor||"#000000",mode:"embed"}))});function ZA({chatbotId:l}){const[n,a]=Qo.useState(null);return Qo.useEffect(()=>{l&&(async()=>{try{const c=NA(FA,"chatbots",l),f=await jA(c);f.exists()&&a(f.data())}catch(c){console.error("Error fetching chatbot settings:",c)}})()},[l]),n?(console.log("settings from Firestore:",n),Xt.jsx(qg,{chatbotSize:n.chatbotSize||"medium",logoUrl:n.logoUrl||"",initialQuestions:n.initialQuestions||[],backgroundColor:n.backgroundColor||"#000000",mode:"embed"})):null}window.mountChatbot=(l,n)=>{const a=document.getElementById(l);a&&sv.createRoot(a).render(Xt.jsx(sd.StrictMode,{children:Xt.jsx(ZA,{...n})}))}})();
