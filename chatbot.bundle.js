(function(){"use strict";function ed(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var jo={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function K_(){if(nd)return hs;nd=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:l,type:s,key:m,ref:c!==void 0?c:null,props:f}}return hs.Fragment=n,hs.jsx=a,hs.jsxs=a,hs}var id;function X_(){return id||(id=1,jo.exports=K_()),jo.exports}var An=X_(),Go={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function F_(){if(ad)return pt;ad=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),z=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=z&&D[z]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,st={};function tt(D,K,W){this.props=D,this.context=K,this.refs=st,this.updater=W||X}tt.prototype.isReactComponent={},tt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},tt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function qt(){}qt.prototype=tt.prototype;function Mt(D,K,W){this.props=D,this.context=K,this.refs=st,this.updater=W||X}var _t=Mt.prototype=new qt;_t.constructor=Mt,et(_t,tt.prototype),_t.isPureReactComponent=!0;var Lt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function O(D,K,W,F,lt,Tt){return W=Tt.ref,{$$typeof:l,type:D,key:K,ref:W!==void 0?W:null,props:Tt}}function S(D,K){return O(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===l}function V(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return K[W]})}var N=/\/+/g;function I(D,K){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):K.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,K,W,F,lt){var Tt=typeof D;(Tt==="undefined"||Tt==="boolean")&&(D=null);var dt=!1;if(D===null)dt=!0;else switch(Tt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(D.$$typeof){case l:case n:dt=!0;break;case A:return dt=D._init,ee(dt(D._payload),K,W,F,lt)}}if(dt)return lt=lt(D),dt=F===""?"."+I(D,0):F,Lt(lt)?(W="",dt!=null&&(W=dt.replace(N,"$&/")+"/"),ee(lt,K,W,"",function(xn){return xn})):lt!=null&&(w(lt)&&(lt=S(lt,W+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(N,"$&/")+"/")+dt)),K.push(lt)),1;dt=0;var Se=F===""?".":F+":";if(Lt(D))for(var Xt=0;Xt<D.length;Xt++)F=D[Xt],Tt=Se+I(F,Xt),dt+=ee(F,K,W,Tt,lt);else if(Xt=P(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!(F=D.next()).done;)F=F.value,Tt=Se+I(F,Xt++),dt+=ee(F,K,W,Tt,lt);else if(Tt==="object"){if(typeof D.then=="function")return ee(Ne(D),K,W,F,lt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return dt}function k(D,K,W){if(D==null)return D;var F=[],lt=0;return ee(D,F,"","",function(Tt){return K.call(W,Tt,lt++)}),F}function $(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var rt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return pt.Children={map:k,forEach:function(D,K,W){k(D,function(){K.apply(this,arguments)},W)},count:function(D){var K=0;return k(D,function(){K++}),K},toArray:function(D){return k(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},pt.Component=tt,pt.Fragment=a,pt.Profiler=c,pt.PureComponent=Mt,pt.StrictMode=s,pt.Suspense=_,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,pt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return gt.H.useMemoCache(D)}},pt.cache=function(D){return function(){return D.apply(null,arguments)}},pt.cloneElement=function(D,K,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var F=et({},D.props),lt=D.key,Tt=void 0;if(K!=null)for(dt in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(lt=""+K.key),K)!xt.call(K,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&K.ref===void 0||(F[dt]=K[dt]);var dt=arguments.length-2;if(dt===1)F.children=W;else if(1<dt){for(var Se=Array(dt),Xt=0;Xt<dt;Xt++)Se[Xt]=arguments[Xt+2];F.children=Se}return O(D.type,lt,void 0,void 0,Tt,F)},pt.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},pt.createElement=function(D,K,W){var F,lt={},Tt=null;if(K!=null)for(F in K.key!==void 0&&(Tt=""+K.key),K)xt.call(K,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(lt[F]=K[F]);var dt=arguments.length-2;if(dt===1)lt.children=W;else if(1<dt){for(var Se=Array(dt),Xt=0;Xt<dt;Xt++)Se[Xt]=arguments[Xt+2];lt.children=Se}if(D&&D.defaultProps)for(F in dt=D.defaultProps,dt)lt[F]===void 0&&(lt[F]=dt[F]);return O(D,Tt,void 0,void 0,null,lt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(D){return{$$typeof:y,render:D}},pt.isValidElement=w,pt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:$}},pt.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},pt.startTransition=function(D){var K=gt.T,W={};gt.T=W;try{var F=D(),lt=gt.S;lt!==null&&lt(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Ut,rt)}catch(Tt){rt(Tt)}finally{gt.T=K}},pt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},pt.use=function(D){return gt.H.use(D)},pt.useActionState=function(D,K,W){return gt.H.useActionState(D,K,W)},pt.useCallback=function(D,K){return gt.H.useCallback(D,K)},pt.useContext=function(D){return gt.H.useContext(D)},pt.useDebugValue=function(){},pt.useDeferredValue=function(D,K){return gt.H.useDeferredValue(D,K)},pt.useEffect=function(D,K,W){var F=gt.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(D,K)},pt.useId=function(){return gt.H.useId()},pt.useImperativeHandle=function(D,K,W){return gt.H.useImperativeHandle(D,K,W)},pt.useInsertionEffect=function(D,K){return gt.H.useInsertionEffect(D,K)},pt.useLayoutEffect=function(D,K){return gt.H.useLayoutEffect(D,K)},pt.useMemo=function(D,K){return gt.H.useMemo(D,K)},pt.useOptimistic=function(D,K){return gt.H.useOptimistic(D,K)},pt.useReducer=function(D,K,W){return gt.H.useReducer(D,K,W)},pt.useRef=function(D){return gt.H.useRef(D)},pt.useState=function(D){return gt.H.useState(D)},pt.useSyncExternalStore=function(D,K,W){return gt.H.useSyncExternalStore(D,K,W)},pt.useTransition=function(){return gt.H.useTransition()},pt.version="19.1.0",pt}var rd;function Qo(){return rd||(rd=1,Go.exports=F_()),Go.exports}var ql=Qo();const Z_=ed(ql);var Yo={exports:{}},fs={},Ko={exports:{}},Xo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function $_(){return sd||(sd=1,function(l){function n(k,$){var rt=k.length;k.push($);t:for(;0<rt;){var Ut=rt-1>>>1,D=k[Ut];if(0<c(D,$))k[Ut]=$,k[rt]=D,rt=Ut;else break t}}function a(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var $=k[0],rt=k.pop();if(rt!==$){k[0]=rt;t:for(var Ut=0,D=k.length,K=D>>>1;Ut<K;){var W=2*(Ut+1)-1,F=k[W],lt=W+1,Tt=k[lt];if(0>c(F,rt))lt<D&&0>c(Tt,F)?(k[Ut]=Tt,k[lt]=rt,Ut=lt):(k[Ut]=F,k[W]=rt,Ut=W);else if(lt<D&&0>c(Tt,rt))k[Ut]=Tt,k[lt]=rt,Ut=lt;else break t}}return $}function c(k,$){var rt=k.sortIndex-$.sortIndex;return rt!==0?rt:k.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();l.unstable_now=function(){return m.now()-y}}var _=[],v=[],A=1,z=null,P=3,X=!1,et=!1,st=!1,tt=!1,qt=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Lt(k){for(var $=a(v);$!==null;){if($.callback===null)s(v);else if($.startTime<=k)s(v),$.sortIndex=$.expirationTime,n(_,$);else break;$=a(v)}}function gt(k){if(st=!1,Lt(k),!et)if(a(_)!==null)et=!0,xt||(xt=!0,I());else{var $=a(v);$!==null&&ee(gt,$.startTime-k)}}var xt=!1,O=-1,S=5,w=-1;function V(){return tt?!0:!(l.unstable_now()-w<S)}function N(){if(tt=!1,xt){var k=l.unstable_now();w=k;var $=!0;try{t:{et=!1,st&&(st=!1,Mt(O),O=-1),X=!0;var rt=P;try{e:{for(Lt(k),z=a(_);z!==null&&!(z.expirationTime>k&&V());){var Ut=z.callback;if(typeof Ut=="function"){z.callback=null,P=z.priorityLevel;var D=Ut(z.expirationTime<=k);if(k=l.unstable_now(),typeof D=="function"){z.callback=D,Lt(k),$=!0;break e}z===a(_)&&s(_),Lt(k)}else s(_);z=a(_)}if(z!==null)$=!0;else{var K=a(v);K!==null&&ee(gt,K.startTime-k),$=!1}}break t}finally{z=null,P=rt,X=!1}$=void 0}}finally{$?I():xt=!1}}}var I;if(typeof _t=="function")I=function(){_t(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=N,I=function(){Ne.postMessage(null)}}else I=function(){qt(N,0)};function ee(k,$){O=qt(function(){k(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return P},l.unstable_next=function(k){switch(P){case 1:case 2:case 3:var $=3;break;default:$=P}var rt=P;P=$;try{return k()}finally{P=rt}},l.unstable_requestPaint=function(){tt=!0},l.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var rt=P;P=k;try{return $()}finally{P=rt}},l.unstable_scheduleCallback=function(k,$,rt){var Ut=l.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Ut+rt:Ut):rt=Ut,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=rt+D,k={id:A++,callback:$,priorityLevel:k,startTime:rt,expirationTime:D,sortIndex:-1},rt>Ut?(k.sortIndex=rt,n(v,k),a(_)===null&&k===a(v)&&(st?(Mt(O),O=-1):st=!0,ee(gt,rt-Ut))):(k.sortIndex=D,n(_,k),et||X||(et=!0,xt||(xt=!0,I()))),k},l.unstable_shouldYield=V,l.unstable_wrapCallback=function(k){var $=P;return function(){var rt=P;P=$;try{return k.apply(this,arguments)}finally{P=rt}}}}(Xo)),Xo}var ld;function J_(){return ld||(ld=1,Ko.exports=$_()),Ko.exports}var Fo={exports:{}},Le={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function W_(){if(ud)return Le;ud=1;var l=Qo();function n(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(_,v,A){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:z==null?null:""+z,children:_,containerInfo:v,implementation:A}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Le.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return f(_,v,null,A)},Le.flushSync=function(_){var v=m.T,A=s.p;try{if(m.T=null,s.p=2,_)return _()}finally{m.T=v,s.p=A,s.d.f()}},Le.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Le.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Le.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,z=y(A,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,X=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:z,integrity:P,fetchPriority:X}):A==="script"&&s.d.X(_,{crossOrigin:z,integrity:P,fetchPriority:X,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Le.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=y(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Le.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,z=y(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:z,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Le.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=y(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Le.requestFormReset=function(_){s.d.r(_)},Le.unstable_batchedUpdates=function(_,v){return _(v)},Le.useFormState=function(_,v,A){return m.H.useFormState(_,v,A)},Le.useFormStatus=function(){return m.H.useHostTransitionStatus()},Le.version="19.1.0",Le}var od;function tv(){if(od)return Fo.exports;od=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Fo.exports=W_(),Fo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function ev(){if(cd)return fs;cd=1;var l=J_(),n=Qo(),a=tv();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(s(188))}function _(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var i=t,r=e;;){var o=i.return;if(o===null)break;var h=o.alternate;if(h===null){if(r=o.return,r!==null){i=r;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===i)return y(o),t;if(h===r)return y(o),e;h=h.sibling}throw Error(s(188))}if(i.return!==r.return)i=o,r=h;else{for(var p=!1,E=o.child;E;){if(E===i){p=!0,i=o,r=h;break}if(E===r){p=!0,r=o,i=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===i){p=!0,i=h,r=o;break}if(E===r){p=!0,r=h,i=o;break}E=E.sibling}if(!p)throw Error(s(189))}}if(i.alternate!==r)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:e}function v(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=v(t),e!==null)return e;t=t.sibling}return null}var A=Object.assign,z=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),qt=Symbol.for("react.provider"),Mt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case tt:return"Profiler";case st:return"StrictMode";case gt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case Mt:return(t._context.displayName||"Context")+".Consumer";case Lt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return e=t.displayName||null,e!==null?e:Ne(t.type)||"Memo";case S:e=t._payload,t=t._init;try{return Ne(t(e))}catch{}}return null}var ee=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function K(t){return{current:t}}function W(t){0>D||(t.current=Ut[D],Ut[D]=null,D--)}function F(t,e){D++,Ut[D]=t.current,t.current=e}var lt=K(null),Tt=K(null),dt=K(null),Se=K(null);function Xt(t,e){switch(F(dt,e),F(Tt,t),F(lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=T_(e),t=A_(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(lt),F(lt,t)}function xn(){W(lt),W(Tt),W(dt)}function Li(t){t.memoizedState!==null&&F(Se,t);var e=lt.current,i=A_(e,t.type);e!==i&&(F(Tt,t),F(lt,i))}function ti(t){Tt.current===t&&(W(lt),W(Tt)),Se.current===t&&(W(Se),xl._currentValue=rt)}var _a=Object.prototype.hasOwnProperty,va=l.unstable_scheduleCallback,Ea=l.unstable_cancelCallback,Ns=l.unstable_shouldYield,_u=l.unstable_requestPaint,on=l.unstable_now,th=l.unstable_getCurrentPriorityLevel,Ms=l.unstable_ImmediatePriority,vr=l.unstable_UserBlockingPriority,Ta=l.unstable_NormalPriority,eh=l.unstable_LowPriority,Er=l.unstable_IdlePriority,Is=l.log,vu=l.unstable_setDisableYieldValue,ne=null,Ht=null;function We(t){if(typeof Is=="function"&&vu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ne,t)}catch{}}var Pe=Math.clz32?Math.clz32:Aa,Eu=Math.log,nh=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(Eu(t)/nh|0)|0}var Sa=256,ba=4194304;function Sn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tr(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,h=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~h,r!==0?o=Sn(r):(p&=E,p!==0?o=Sn(p):i||(i=E&~t,i!==0&&(o=Sn(i))))):(E=r&~h,E!==0?o=Sn(E):p!==0?o=Sn(p):i||(i=r&~t,i!==0&&(o=Sn(i)))),o===0?0:e!==0&&e!==o&&(e&h)===0&&(h=o&-o,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:o}function Ra(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function xs(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var t=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),t}function zs(){var t=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),t}function ei(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ni(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,e,i,r,o,h){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,L=t.hiddenUpdates;for(i=p&~i;0<i;){var j=31-Pe(i),Q=1<<j;E[j]=0,b[j]=-1;var B=L[j];if(B!==null)for(L[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}i&=~Q}r!==0&&Un(t,r,0),h!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~e))}function Un(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Pe(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&4194090}function Bs(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Pe(i),o=1<<r;o&e|t[r]&e&&(t[r]|=e),i&=~o}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ar(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qi(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function Tu(t,e){var i=$.p;try{return $.p=t,e()}finally{$.p=i}}var Zt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Zt,he="__reactProps$"+Zt,cn="__reactContainer$"+Zt,qs="__reactEvents$"+Zt,ih="__reactListeners$"+Zt,Hi="__reactHandles$"+Zt,Au="__reactResources$"+Zt,wa="__reactMarker$"+Zt;function Pi(t){delete t[ye],delete t[he],delete t[qs],delete t[ih],delete t[Hi]}function ii(t){var e=t[ye];if(e)return e;for(var i=t.parentNode;i;){if(e=i[cn]||i[ye]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=w_(t);t!==null;){if(i=t[ye])return i;t=w_(t)}return e}t=i,i=t.parentNode}return null}function zn(t){if(t=t[ye]||t[cn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ln(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function Ge(t){var e=t[Au];return e||(e=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function le(t){t[wa]=!0}var Hs=new Set,Sr={};function bn(t,e){ai(t,e),ai(t+"Capture",e)}function ai(t,e){for(Sr[t]=e,t=0;t<e.length;t++)Hs.add(e[t])}var Su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},Da={};function Ru(t){return _a.call(Da,t)?!0:_a.call(bu,t)?!1:Su.test(t)?Da[t]=!0:(bu[t]=!0,!1)}function ki(t,e,i){if(Ru(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Bn(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Me(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}var Ca,wu;function ri(t){if(Ca===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ca=e&&e[1]||"",wu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+t+wu}var br=!1;function Rr(t,e){if(!t||br)return"";br=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){B=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var b=p.split(`
`),L=E.split(`
`);for(o=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;if(r===b.length||o===L.length)for(r=b.length-1,o=L.length-1;1<=r&&0<=o&&b[r]!==L[o];)o--;for(;1<=r&&0<=o;r--,o--)if(b[r]!==L[o]){if(r!==1||o!==1)do if(r--,o--,0>o||b[r]!==L[o]){var j=`
`+b[r].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=r&&0<=o);break}}}finally{br=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ri(i):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return ri("Activity");default:return""}}function wr(t){try{var e="";do e+=Ps(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ah(t){var e=ks(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,h=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(p){r=""+p,h.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dr(t){t._valueTracker||(t._valueTracker=ah(t))}function js(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=ks(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rh=/[\n"\\]/g;function fe(t){return t.replace(rh,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tn(t,e,i,r,o,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Qe(e)):t.value!==""+Qe(e)&&(t.value=""+Qe(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?ji(t,p,Qe(e)):i!=null?ji(t,p,Qe(i)):r!=null&&t.removeAttribute("value"),o==null&&h!=null&&(t.defaultChecked=!!h),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qe(E):t.removeAttribute("name")}function Oa(t,e,i,r,o,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;i=i!=null?""+Qe(i):"",e=e!=null?""+Qe(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function ji(t,e,i){e==="number"&&Va(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function si(t,e,i,r){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Qe(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function jt(t,e,i){if(e!=null&&(e=""+Qe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Qe(i):""}function Na(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(s(92));if(ee(r)){if(1<r.length)throw Error(s(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Qe(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r)}function hn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Ma.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Gs(t,e,i){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var o in e)r=e[o],e.hasOwnProperty(o)&&i[o]!==r&&Du(t,o,r)}else for(var h in e)e.hasOwnProperty(h)&&Du(t,h,e[h])}function Qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var li=null;function fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function Ys(t){var e=zn(t);if(e&&(t=e.stateNode)){var i=t[he]||null;t:switch(t=e.stateNode,e.type){case"input":if(tn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fe(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var o=r[he]||null;if(!o)throw Error(s(90));tn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&js(r)}break t;case"textarea":jt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&si(t,!!i.multiple,e,!1)}}}var qn=!1;function Cu(t,e,i){if(qn)return t(e,i);qn=!0;try{var r=t(e);return r}finally{if(qn=!1,(ui!==null||oi!==null)&&(Ao(),ui&&(e=ui,t=oi,oi=ui=null,Ys(e),t)))for(e=0;e<t.length;e++)Ys(t[e])}}function Ia(t,e){var i=t.stateNode;if(i===null)return null;var r=i[he]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,e,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dn=!1;if(Rn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){dn=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{dn=!1}var Hn=null,Gi=null,ci=null;function Ks(){if(ci)return ci;var t,e=Gi,i=e.length,r,o="value"in Hn?Hn.value:Hn.textContent,h=o.length;for(t=0;t<i&&e[t]===o[t];t++);var p=i-t;for(r=1;r<=p&&e[i-r]===o[h-r];r++);return ci=o.slice(t,1<r?1-r:void 0)}function Pn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Xs(){return!1}function be(t){function e(i,r,o,h,p){this._reactName=i,this._targetInst=o,this.type=r,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?kn:Xs,this.isPropagationStopped=Xs,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),e}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=be(Bt),Ua=A({},Bt,{view:0,detail:0}),Vu=be(Ua),Or,Nr,jn,za=A({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Or=t.screenX-jn.screenX,Nr=t.screenY-jn.screenY):Nr=Or=0,jn=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),mn=be(za),Ou=A({},za,{dataTransfer:0}),uh=be(Ou),La=A({},Ua,{relatedTarget:0}),Mr=be(La),Fs=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=be(Fs),Nu=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xr=be(Nu),oh=A({},Bt,{data:0}),Zs=be(oh),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Iu[t])?!!e[t]:!1}function qa(){return $s}var xu=A({},Ua,{key:function(t){if(t.key){var e=Ba[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Pn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ur=be(xu),Uu=A({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=be(Uu),hi=A({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),zu=be(hi),Lu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=be(Lu),qu=A({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=be(qu),Ye=A({},Bt,{newState:0,oldState:0}),Hu=be(Ye),Pu=[9,13,27,32],Gn=Rn&&"CompositionEvent"in window,u=null;Rn&&"documentMode"in document&&(u=document.documentMode);var d=Rn&&"TextEvent"in window&&!u,g=Rn&&(!Gn||u&&8<u&&11>=u),T=" ",x=!1;function H(t,e){switch(t){case"keyup":return Pu.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ct=!1;function _e(t,e){switch(t){case"compositionend":return Z(e);case"keypress":return e.which!==32?null:(x=!0,T);case"textInput":return t=e.data,t===T&&x?null:t;default:return null}}function Vt(t,e){if(Ct)return t==="compositionend"||!Gn&&H(t,e)?(t=Ks(),ci=Gi=Hn=null,Ct=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Re[t.type]:e==="textarea"}function fi(t,e,i,r){ui?oi?oi.push(r):oi=[r]:ui=r,e=Co(e,"onChange"),0<e.length&&(i=new Vr("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Ie=null,Qn=null;function Ws(t){p_(t,0)}function ku(t){var e=Ln(t);if(js(e))return t}function Lg(t,e){if(t==="change")return e}var Bg=!1;if(Rn){var ch;if(Rn){var hh="oninput"in document;if(!hh){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),hh=typeof qg.oninput=="function"}ch=hh}else ch=!1;Bg=ch&&(!document.documentMode||9<document.documentMode)}function Hg(){Ie&&(Ie.detachEvent("onpropertychange",Pg),Qn=Ie=null)}function Pg(t){if(t.propertyName==="value"&&ku(Qn)){var e=[];fi(e,Qn,t,fn(t)),Cu(Ws,e)}}function FA(t,e,i){t==="focusin"?(Hg(),Ie=e,Qn=i,Ie.attachEvent("onpropertychange",Pg)):t==="focusout"&&Hg()}function ZA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Qn)}function $A(t,e){if(t==="click")return ku(e)}function JA(t,e){if(t==="input"||t==="change")return ku(e)}function WA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:WA;function tl(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var o=i[r];if(!_a.call(e,o)||!en(t[o],e[o]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,e){var i=kg(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=kg(i)}}function Gg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Va(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Va(t.document)}return e}function fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var tS=Rn&&"documentMode"in document&&11>=document.documentMode,Lr=null,dh=null,el=null,mh=!1;function Yg(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mh||Lr==null||Lr!==Va(r)||(r=Lr,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&tl(el,r)||(el=r,r=Co(dh,"onSelect"),0<r.length&&(e=new Vr("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Lr)))}function Ha(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Br={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},gh={},Kg={};Rn&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Pa(t){if(gh[t])return gh[t];if(!Br[t])return t;var e=Br[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Kg)return gh[t]=e[i];return t}var Xg=Pa("animationend"),Fg=Pa("animationiteration"),Zg=Pa("animationstart"),eS=Pa("transitionrun"),nS=Pa("transitionstart"),iS=Pa("transitioncancel"),$g=Pa("transitionend"),Jg=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function wn(t,e){Jg.set(t,e),bn(e,[t])}var Wg=new WeakMap;function gn(t,e){if(typeof t=="object"&&t!==null){var i=Wg.get(t);return i!==void 0?i:(e={value:t,source:e,stack:wr(e)},Wg.set(t,e),e)}return{value:t,source:e,stack:wr(e)}}var pn=[],qr=0,yh=0;function ju(){for(var t=qr,e=yh=qr=0;e<t;){var i=pn[e];pn[e++]=null;var r=pn[e];pn[e++]=null;var o=pn[e];pn[e++]=null;var h=pn[e];if(pn[e++]=null,r!==null&&o!==null){var p=r.pending;p===null?o.next=o:(o.next=p.next,p.next=o),r.pending=o}h!==0&&tp(i,o,h)}}function Gu(t,e,i,r){pn[qr++]=t,pn[qr++]=e,pn[qr++]=i,pn[qr++]=r,yh|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function _h(t,e,i,r){return Gu(t,e,i,r),Qu(t)}function Hr(t,e){return Gu(t,null,null,e),Qu(t)}function tp(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var o=!1,h=t.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(o=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,o&&e!==null&&(o=31-Pe(i),t=h.hiddenUpdates,r=t[o],r===null?t[o]=[e]:r.push(e),e.lane=i|536870912),h):null}function Qu(t){if(50<wl)throw wl=0,Rf=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Pr={};function aS(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,i,r){return new aS(t,e,i,r)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,e){var i=t.alternate;return i===null?(i=nn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ep(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Yu(t,e,i,r,o,h){var p=0;if(r=t,typeof t=="function")vh(t)&&(p=1);else if(typeof t=="string")p=s1(t,i,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=nn(31,i,e,o),t.elementType=w,t.lanes=h,t;case et:return ka(i.children,o,h,e);case st:p=8,o|=24;break;case tt:return t=nn(12,i,e,o|2),t.elementType=tt,t.lanes=h,t;case gt:return t=nn(13,i,e,o),t.elementType=gt,t.lanes=h,t;case xt:return t=nn(19,i,e,o),t.elementType=xt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qt:case _t:p=10;break t;case Mt:p=9;break t;case Lt:p=11;break t;case O:p=14;break t;case S:p=16,r=null;break t}p=29,i=Error(s(130,t===null?"null":typeof t,"")),r=null}return e=nn(p,i,e,o),e.elementType=t,e.type=r,e.lanes=h,e}function ka(t,e,i,r){return t=nn(7,t,r,e),t.lanes=i,t}function Eh(t,e,i){return t=nn(6,t,null,e),t.lanes=i,t}function Th(t,e,i){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var kr=[],jr=0,Ku=null,Xu=0,yn=[],_n=0,ja=null,mi=1,gi="";function Ga(t,e){kr[jr++]=Xu,kr[jr++]=Ku,Ku=t,Xu=e}function np(t,e,i){yn[_n++]=mi,yn[_n++]=gi,yn[_n++]=ja,ja=t;var r=mi;t=gi;var o=32-Pe(r)-1;r&=~(1<<o),i+=1;var h=32-Pe(e)+o;if(30<h){var p=o-o%5;h=(r&(1<<p)-1).toString(32),r>>=p,o-=p,mi=1<<32-Pe(e)+o|i<<o|r,gi=h+t}else mi=1<<h|i<<o|r,gi=t}function Ah(t){t.return!==null&&(Ga(t,1),np(t,1,0))}function Sh(t){for(;t===Ku;)Ku=kr[--jr],kr[jr]=null,Xu=kr[--jr],kr[jr]=null;for(;t===ja;)ja=yn[--_n],yn[_n]=null,gi=yn[--_n],yn[_n]=null,mi=yn[--_n],yn[_n]=null}var Ke=null,ie=null,zt=!1,Qa=null,Yn=!1,bh=Error(s(519));function Ya(t){var e=Error(s(418,""));throw al(gn(e,t)),bh}function ip(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[ye]=t,e[he]=r,i){case"dialog":bt("cancel",e),bt("close",e);break;case"iframe":case"object":case"embed":bt("load",e);break;case"video":case"audio":for(i=0;i<Cl.length;i++)bt(Cl[i],e);break;case"source":bt("error",e);break;case"img":case"image":case"link":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"input":bt("invalid",e),Oa(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Dr(e);break;case"select":bt("invalid",e);break;case"textarea":bt("invalid",e),Na(e,r.value,r.defaultValue,r.children),Dr(e)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||E_(e.textContent,i)?(r.popover!=null&&(bt("beforetoggle",e),bt("toggle",e)),r.onScroll!=null&&bt("scroll",e),r.onScrollEnd!=null&&bt("scrollend",e),r.onClick!=null&&(e.onclick=Vo),e=!0):e=!1,e||Ya(t)}function ap(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ke=Ke.return}}function nl(t){if(t!==Ke)return!1;if(!zt)return ap(t),zt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Pf(t.type,t.memoizedProps)),i=!i),i&&ie&&Ya(t),ap(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){ie=Cn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}ie=null}}else e===27?(e=ie,sa(t.type)?(t=Qf,Qf=null,ie=t):ie=e):ie=Ke?Cn(t.stateNode.nextSibling):null;return!0}function il(){ie=Ke=null,zt=!1}function rp(){var t=Qa;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Qa=null),t}function al(t){Qa===null?Qa=[t]:Qa.push(t)}var Rh=K(null),Ka=null,pi=null;function Qi(t,e,i){F(Rh,e._currentValue),e._currentValue=i}function yi(t){t._currentValue=Rh.current,W(Rh)}function wh(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function Dh(t,e,i,r){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){var p=o.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=o;for(var b=0;b<e.length;b++)if(E.context===e[b]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),wh(h.return,i,t),r||(p=null);break t}h=E.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(s(341));p.lanes|=i,h=p.alternate,h!==null&&(h.lanes|=i),wh(p,i,t),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function rl(t,e,i,r){t=null;for(var o=e,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=o.type;en(o.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(o===Se.current){if(p=o.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}o=o.return}t!==null&&Dh(e,t,i,r),e.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!en(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xa(t){Ka=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return sp(Ka,t)}function Zu(t,e){return Ka===null&&Xa(t),sp(t,e)}function sp(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},pi===null){if(t===null)throw Error(s(308));pi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else pi=pi.next=e;return i}var rS=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},sS=l.unstable_scheduleCallback,lS=l.unstable_NormalPriority,Ee={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new rS,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&sS(lS,function(){t.controller.abort()})}var ll=null,Vh=0,Gr=0,Qr=null;function uS(t,e){if(ll===null){var i=ll=[];Vh=0,Gr=Mf(),Qr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Vh++,e.then(lp,lp),e}function lp(){if(--Vh===0&&ll!==null){Qr!==null&&(Qr.status="fulfilled");var t=ll;ll=null,Gr=0,Qr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function oS(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var o=0;o<i.length;o++)(0,i[o])(e)},function(o){for(r.status="rejected",r.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),r}var up=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&uS(t,e),up!==null&&up(t,e)};var Fa=K(null);function Oh(){var t=Fa.current;return t!==null?t:Ft.pooledCache}function $u(t,e){e===null?F(Fa,Fa.current):F(Fa,e.pool)}function op(){var t=Oh();return t===null?null:{parent:Ee._currentValue,pool:t}}var ul=Error(s(460)),cp=Error(s(474)),Ju=Error(s(542)),Nh={then:function(){}};function hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function fp(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Wu,Wu),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,mp(t),t;default:if(typeof e.status=="string")e.then(Wu,Wu);else{if(t=Ft,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=r}},function(r){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,mp(t),t}throw ol=e,ul}}var ol=null;function dp(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function mp(t){if(t===ul||t===Ju)throw Error(s(483))}var Yi=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Pt&2)!==0){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,e=Qu(t),tp(t,null,i),e}return Gu(t,r,e,i),Qu(t)}function cl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Bs(t,i)}}function xh(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var o=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?o=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?o=h=e:h=h.next=e}else o=h=e;i={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Uh=!1;function hl(){if(Uh){var t=Qr;if(t!==null)throw t}}function fl(t,e,i,r){Uh=!1;var o=t.updateQueue;Yi=!1;var h=o.firstBaseUpdate,p=o.lastBaseUpdate,E=o.shared.pending;if(E!==null){o.shared.pending=null;var b=E,L=b.next;b.next=null,p===null?h=L:p.next=L,p=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==p&&(E===null?j.firstBaseUpdate=L:E.next=L,j.lastBaseUpdate=b))}if(h!==null){var Q=o.baseState;p=0,j=L=b=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(r&B)===B){B!==0&&B===Gr&&(Uh=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ut=E;B=e;var Yt=i;switch(ut.tag){case 1:if(ft=ut.payload,typeof ft=="function"){Q=ft.call(Yt,Q,B);break t}Q=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ut.payload,B=typeof ft=="function"?ft.call(Yt,Q,B):ft,B==null)break t;Q=A({},Q,B);break t;case 2:Yi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=o.callbacks,q===null?o.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(L=j=q,b=Q):j=j.next=q,p|=B;if(E=E.next,E===null){if(E=o.shared.pending,E===null)break;q=E,E=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);j===null&&(b=Q),o.baseState=b,o.firstBaseUpdate=L,o.lastBaseUpdate=j,h===null&&(o.shared.lanes=0),na|=p,t.lanes=p,t.memoizedState=Q}}function gp(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function pp(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)gp(i[t],e)}var Yr=K(null),to=K(0);function yp(t,e){t=bi,F(to,t),F(Yr,e),bi=t|e.baseLanes}function zh(){F(to,bi),F(Yr,Yr.current)}function Lh(){bi=to.current,W(Yr),W(to)}var Fi=0,vt=null,Gt=null,de=null,eo=!1,Kr=!1,Za=!1,no=0,dl=0,Xr=null,cS=0;function ue(){throw Error(s(321))}function Bh(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!en(t[i],e[i]))return!1;return!0}function qh(t,e,i,r,o,h){return Fi=h,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?ty:ey,Za=!1,h=i(r,o),Za=!1,Kr&&(h=vp(e,i,r,o)),_p(t),h}function _p(t){k.H=uo;var e=Gt!==null&&Gt.next!==null;if(Fi=0,de=Gt=vt=null,eo=!1,dl=0,Xr=null,e)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&Fu(t)&&(we=!0))}function vp(t,e,i,r){vt=t;var o=0;do{if(Kr&&(Xr=null),dl=0,Kr=!1,25<=o)throw Error(s(301));if(o+=1,de=Gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=yS,h=e(i,r)}while(Kr);return h}function hS(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?ml(e):e,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(vt.flags|=1024),e}function Hh(){var t=no!==0;return no=0,t}function Ph(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function kh(t){if(eo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}eo=!1}Fi=0,de=Gt=vt=null,Kr=!1,dl=no=0,Xr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?vt.memoizedState=de=t:de=de.next=t,de}function me(){if(Gt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=de===null?vt.memoizedState:de.next;if(e!==null)de=e,Gt=t;else{if(t===null)throw vt.alternate===null?Error(s(467)):Error(s(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},de===null?vt.memoizedState=de=t:de=de.next=t}return de}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var e=dl;return dl+=1,Xr===null&&(Xr=[]),t=fp(Xr,t,e),e=vt,(de===null?e.memoizedState:de.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?ty:ey),t}function io(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===_t)return ke(t)}throw Error(s(438,String(t)))}function Gh(t){var e=null,i=vt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=vt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=jh(),vt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=V;return e.index++,i}function _i(t,e){return typeof e=="function"?e(t):e}function ao(t){var e=me();return Qh(e,Gt,t)}function Qh(t,e,i){var r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=i;var o=t.baseQueue,h=r.pending;if(h!==null){if(o!==null){var p=o.next;o.next=h.next,h.next=p}e.baseQueue=o=h,r.pending=null}if(h=t.baseState,o===null)t.memoizedState=h;else{e=o.next;var E=p=null,b=null,L=e,j=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ot&Q)===Q:(Fi&Q)===Q){var B=L.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===Gr&&(j=!0);else if((Fi&B)===B){L=L.next,B===Gr&&(j=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,p=h):b=b.next=Q,vt.lanes|=B,na|=B;Q=L.action,Za&&i(h,Q),h=L.hasEagerState?L.eagerState:i(h,Q)}else B={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=B,p=h):b=b.next=B,vt.lanes|=Q,na|=Q;L=L.next}while(L!==null&&L!==e);if(b===null?p=h:b.next=E,!en(h,t.memoizedState)&&(we=!0,j&&(i=Qr,i!==null)))throw i;t.memoizedState=h,t.baseState=p,t.baseQueue=b,r.lastRenderedState=h}return o===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Yh(t){var e=me(),i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var r=i.dispatch,o=i.pending,h=e.memoizedState;if(o!==null){i.pending=null;var p=o=o.next;do h=t(h,p.action),p=p.next;while(p!==o);en(h,e.memoizedState)||(we=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,r]}function Ep(t,e,i){var r=vt,o=me(),h=zt;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=e();var p=!en((Gt||o).memoizedState,i);p&&(o.memoizedState=i,we=!0),o=o.queue;var E=Sp.bind(null,r,o,t);if(gl(2048,8,E,[t]),o.getSnapshot!==e||p||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,Fr(9,ro(),Ap.bind(null,r,o,i,e),null),Ft===null)throw Error(s(349));h||(Fi&124)!==0||Tp(r,e,i)}return i}function Tp(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=vt.updateQueue,e===null?(e=jh(),vt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Ap(t,e,i,r){e.value=i,e.getSnapshot=r,bp(e)&&Rp(t)}function Sp(t,e,i){return i(function(){bp(e)&&Rp(t)})}function bp(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!en(t,i)}catch{return!0}}function Rp(t){var e=Hr(t,2);e!==null&&un(e,t,2)}function Kh(t){var e=Ze();if(typeof t=="function"){var i=t;if(t=i(),Za){We(!0);try{i()}finally{We(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function wp(t,e,i,r){return t.baseState=i,Qh(t,Gt,typeof r=="function"?r:_i)}function fS(t,e,i,r,o){if(lo(t))throw Error(s(485));if(t=e.action,t!==null){var h={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};k.T!==null?i(!0):h.isTransition=!1,r(h),i=e.pending,i===null?(h.next=e.pending=h,Dp(e,h)):(h.next=i.next,e.pending=i.next=h)}}function Dp(t,e){var i=e.action,r=e.payload,o=t.state;if(e.isTransition){var h=k.T,p={};k.T=p;try{var E=i(o,r),b=k.S;b!==null&&b(p,E),Cp(t,e,E)}catch(L){Xh(t,e,L)}finally{k.T=h}}else try{h=i(o,r),Cp(t,e,h)}catch(L){Xh(t,e,L)}}function Cp(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Vp(t,e,r)},function(r){return Xh(t,e,r)}):Vp(t,e,i)}function Vp(t,e,i){e.status="fulfilled",e.value=i,Op(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Dp(t,i)))}function Xh(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Op(e),e=e.next;while(e!==r)}t.action=null}function Op(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Np(t,e){return e}function Mp(t,e){if(zt){var i=Ft.formState;if(i!==null){t:{var r=vt;if(zt){if(ie){e:{for(var o=ie,h=Yn;o.nodeType!==8;){if(!h){o=null;break e}if(o=Cn(o.nextSibling),o===null){o=null;break e}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){ie=Cn(o.nextSibling),r=o.data==="F!";break t}}Ya(r)}r=!1}r&&(e=i[0])}}return i=Ze(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:e},i.queue=r,i=$p.bind(null,vt,r),r.dispatch=i,r=Kh(!1),h=Wh.bind(null,vt,!1,r.queue),r=Ze(),o={state:e,dispatch:null,action:t,pending:null},r.queue=o,i=fS.bind(null,vt,o,h,i),o.dispatch=i,r.memoizedState=t,[e,i,!1]}function Ip(t){var e=me();return xp(e,Gt,t)}function xp(t,e,i){if(e=Qh(t,e,Np)[0],t=ao(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ml(e)}catch(p){throw p===ul?Ju:p}else r=e;e=me();var o=e.queue,h=o.dispatch;return i!==e.memoizedState&&(vt.flags|=2048,Fr(9,ro(),dS.bind(null,o,i),null)),[r,h,t]}function dS(t,e){t.action=e}function Up(t){var e=me(),i=Gt;if(i!==null)return xp(e,i,t);me(),e=e.memoizedState,i=me();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function Fr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=vt.updateQueue,e===null&&(e=jh(),vt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function ro(){return{destroy:void 0,resource:void 0}}function zp(){return me().memoizedState}function so(t,e,i,r){var o=Ze();r=r===void 0?null:r,vt.flags|=t,o.memoizedState=Fr(1|e,ro(),i,r)}function gl(t,e,i,r){var o=me();r=r===void 0?null:r;var h=o.memoizedState.inst;Gt!==null&&r!==null&&Bh(r,Gt.memoizedState.deps)?o.memoizedState=Fr(e,h,i,r):(vt.flags|=t,o.memoizedState=Fr(1|e,h,i,r))}function Lp(t,e){so(8390656,8,t,e)}function Bp(t,e){gl(2048,8,t,e)}function qp(t,e){return gl(4,2,t,e)}function Hp(t,e){return gl(4,4,t,e)}function Pp(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kp(t,e,i){i=i!=null?i.concat([t]):null,gl(4,4,Pp.bind(null,e,t),i)}function Fh(){}function jp(t,e){var i=me();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Bh(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Gp(t,e){var i=me();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Bh(e,r[1]))return r[0];if(r=t(),Za){We(!0);try{t()}finally{We(!1)}}return i.memoizedState=[r,e],r}function Zh(t,e,i){return i===void 0||(Fi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Ky(),vt.lanes|=t,na|=t,i)}function Qp(t,e,i,r){return en(i,e)?i:Yr.current!==null?(t=Zh(t,i,r),en(t,e)||(we=!0),t):(Fi&42)===0?(we=!0,t.memoizedState=i):(t=Ky(),vt.lanes|=t,na|=t,e)}function Yp(t,e,i,r,o){var h=$.p;$.p=h!==0&&8>h?h:8;var p=k.T,E={};k.T=E,Wh(t,!1,e,i);try{var b=o(),L=k.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=oS(b,r);pl(t,e,j,ln(t))}else pl(t,e,r,ln(t))}catch(Q){pl(t,e,{then:function(){},status:"rejected",reason:Q},ln())}finally{$.p=h,k.T=p}}function mS(){}function $h(t,e,i,r){if(t.tag!==5)throw Error(s(476));var o=Kp(t).queue;Yp(t,o,e,rt,i===null?mS:function(){return Xp(t),i(r)})}function Kp(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:rt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Xp(t){var e=Kp(t).next.queue;pl(t,e,{},ln())}function Jh(){return ke(xl)}function Fp(){return me().memoizedState}function Zp(){return me().memoizedState}function gS(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=ln();t=Ki(i);var r=Xi(e,t,i);r!==null&&(un(r,e,i),cl(r,e,i)),e={cache:Ch()},t.payload=e;return}e=e.return}}function pS(t,e,i){var r=ln();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},lo(t)?Jp(e,i):(i=_h(t,e,i,r),i!==null&&(un(i,t,r),Wp(i,e,r)))}function $p(t,e,i){var r=ln();pl(t,e,i,r)}function pl(t,e,i,r){var o={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(lo(t))Jp(e,o);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var p=e.lastRenderedState,E=h(p,i);if(o.hasEagerState=!0,o.eagerState=E,en(E,p))return Gu(t,e,o,0),Ft===null&&ju(),!1}catch{}finally{}if(i=_h(t,e,o,r),i!==null)return un(i,t,r),Wp(i,e,r),!0}return!1}function Wh(t,e,i,r){if(r={lane:2,revertLane:Mf(),action:r,hasEagerState:!1,eagerState:null,next:null},lo(t)){if(e)throw Error(s(479))}else e=_h(t,i,r,2),e!==null&&un(e,t,2)}function lo(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function Jp(t,e){Kr=eo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Wp(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Bs(t,i)}}var uo={readContext:ke,use:io,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ty={readContext:ke,use:io,useCallback:function(t,e){return Ze().memoizedState=[t,e===void 0?null:e],t},useContext:ke,useEffect:Lp,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,so(4194308,4,Pp.bind(null,e,t),i)},useLayoutEffect:function(t,e){return so(4194308,4,t,e)},useInsertionEffect:function(t,e){so(4,2,t,e)},useMemo:function(t,e){var i=Ze();e=e===void 0?null:e;var r=t();if(Za){We(!0);try{t()}finally{We(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Ze();if(i!==void 0){var o=i(e);if(Za){We(!0);try{i(e)}finally{We(!1)}}}else o=e;return r.memoizedState=r.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},r.queue=t,t=t.dispatch=pS.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=Ze();return t={current:t},e.memoizedState=t},useState:function(t){t=Kh(t);var e=t.queue,i=$p.bind(null,vt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Fh,useDeferredValue:function(t,e){var i=Ze();return Zh(i,t,e)},useTransition:function(){var t=Kh(!1);return t=Yp.bind(null,vt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=vt,o=Ze();if(zt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=e(),Ft===null)throw Error(s(349));(Ot&124)!==0||Tp(r,e,i)}o.memoizedState=i;var h={value:i,getSnapshot:e};return o.queue=h,Lp(Sp.bind(null,r,h,t),[t]),r.flags|=2048,Fr(9,ro(),Ap.bind(null,r,h,i,e),null),i},useId:function(){var t=Ze(),e=Ft.identifierPrefix;if(zt){var i=gi,r=mi;i=(r&~(1<<32-Pe(r)-1)).toString(32)+i,e="«"+e+"R"+i,i=no++,0<i&&(e+="H"+i.toString(32)),e+="»"}else i=cS++,e="«"+e+"r"+i.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Jh,useFormState:Mp,useActionState:Mp,useOptimistic:function(t){var e=Ze();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Wh.bind(null,vt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Gh,useCacheRefresh:function(){return Ze().memoizedState=gS.bind(null,vt)}},ey={readContext:ke,use:io,useCallback:jp,useContext:ke,useEffect:Bp,useImperativeHandle:kp,useInsertionEffect:qp,useLayoutEffect:Hp,useMemo:Gp,useReducer:ao,useRef:zp,useState:function(){return ao(_i)},useDebugValue:Fh,useDeferredValue:function(t,e){var i=me();return Qp(i,Gt.memoizedState,t,e)},useTransition:function(){var t=ao(_i)[0],e=me().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:Ep,useId:Fp,useHostTransitionStatus:Jh,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,e){var i=me();return wp(i,Gt,t,e)},useMemoCache:Gh,useCacheRefresh:Zp},yS={readContext:ke,use:io,useCallback:jp,useContext:ke,useEffect:Bp,useImperativeHandle:kp,useInsertionEffect:qp,useLayoutEffect:Hp,useMemo:Gp,useReducer:Yh,useRef:zp,useState:function(){return Yh(_i)},useDebugValue:Fh,useDeferredValue:function(t,e){var i=me();return Gt===null?Zh(i,t,e):Qp(i,Gt.memoizedState,t,e)},useTransition:function(){var t=Yh(_i)[0],e=me().memoizedState;return[typeof t=="boolean"?t:ml(t),e]},useSyncExternalStore:Ep,useId:Fp,useHostTransitionStatus:Jh,useFormState:Up,useActionState:Up,useOptimistic:function(t,e){var i=me();return Gt!==null?wp(i,Gt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:Zp},Zr=null,yl=0;function oo(t){var e=yl;return yl+=1,Zr===null&&(Zr=[]),fp(Zr,t,e)}function _l(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function co(t,e){throw e.$$typeof===z?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ny(t){var e=t._init;return e(t._payload)}function iy(t){function e(M,C){if(t){var U=M.deletions;U===null?(M.deletions=[C],M.flags|=16):U.push(C)}}function i(M,C){if(!t)return null;for(;C!==null;)e(M,C),C=C.sibling;return null}function r(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function o(M,C){return M=di(M,C),M.index=0,M.sibling=null,M}function h(M,C,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<C?(M.flags|=67108866,C):U):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,U,G){return C===null||C.tag!==6?(C=Eh(U,M.mode,G),C.return=M,C):(C=o(C,U),C.return=M,C)}function b(M,C,U,G){var it=U.type;return it===et?j(M,C,U.props.children,G,U.key):C!==null&&(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===S&&ny(it)===C.type)?(C=o(C,U.props),_l(C,U),C.return=M,C):(C=Yu(U.type,U.key,U.props,null,M.mode,G),_l(C,U),C.return=M,C)}function L(M,C,U,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==U.containerInfo||C.stateNode.implementation!==U.implementation?(C=Th(U,M.mode,G),C.return=M,C):(C=o(C,U.children||[]),C.return=M,C)}function j(M,C,U,G,it){return C===null||C.tag!==7?(C=ka(U,M.mode,G,it),C.return=M,C):(C=o(C,U),C.return=M,C)}function Q(M,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Eh(""+C,M.mode,U),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case P:return U=Yu(C.type,C.key,C.props,null,M.mode,U),_l(U,C),U.return=M,U;case X:return C=Th(C,M.mode,U),C.return=M,C;case S:var G=C._init;return C=G(C._payload),Q(M,C,U)}if(ee(C)||I(C))return C=ka(C,M.mode,U,null),C.return=M,C;if(typeof C.then=="function")return Q(M,oo(C),U);if(C.$$typeof===_t)return Q(M,Zu(M,C),U);co(M,C)}return null}function B(M,C,U,G){var it=C!==null?C.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return it!==null?null:E(M,C,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===it?b(M,C,U,G):null;case X:return U.key===it?L(M,C,U,G):null;case S:return it=U._init,U=it(U._payload),B(M,C,U,G)}if(ee(U)||I(U))return it!==null?null:j(M,C,U,G,null);if(typeof U.then=="function")return B(M,C,oo(U),G);if(U.$$typeof===_t)return B(M,C,Zu(M,U),G);co(M,U)}return null}function q(M,C,U,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(U)||null,E(C,M,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case P:return M=M.get(G.key===null?U:G.key)||null,b(C,M,G,it);case X:return M=M.get(G.key===null?U:G.key)||null,L(C,M,G,it);case S:var At=G._init;return G=At(G._payload),q(M,C,U,G,it)}if(ee(G)||I(G))return M=M.get(U)||null,j(C,M,G,it,null);if(typeof G.then=="function")return q(M,C,U,oo(G),it);if(G.$$typeof===_t)return q(M,C,U,Zu(C,G),it);co(C,G)}return null}function ft(M,C,U,G){for(var it=null,At=null,at=C,ht=C=0,Ce=null;at!==null&&ht<U.length;ht++){at.index>ht?(Ce=at,at=null):Ce=at.sibling;var It=B(M,at,U[ht],G);if(It===null){at===null&&(at=Ce);break}t&&at&&It.alternate===null&&e(M,at),C=h(It,C,ht),At===null?it=It:At.sibling=It,At=It,at=Ce}if(ht===U.length)return i(M,at),zt&&Ga(M,ht),it;if(at===null){for(;ht<U.length;ht++)at=Q(M,U[ht],G),at!==null&&(C=h(at,C,ht),At===null?it=at:At.sibling=at,At=at);return zt&&Ga(M,ht),it}for(at=r(at);ht<U.length;ht++)Ce=q(at,M,ht,U[ht],G),Ce!==null&&(t&&Ce.alternate!==null&&at.delete(Ce.key===null?ht:Ce.key),C=h(Ce,C,ht),At===null?it=Ce:At.sibling=Ce,At=Ce);return t&&at.forEach(function(ha){return e(M,ha)}),zt&&Ga(M,ht),it}function ut(M,C,U,G){if(U==null)throw Error(s(151));for(var it=null,At=null,at=C,ht=C=0,Ce=null,It=U.next();at!==null&&!It.done;ht++,It=U.next()){at.index>ht?(Ce=at,at=null):Ce=at.sibling;var ha=B(M,at,It.value,G);if(ha===null){at===null&&(at=Ce);break}t&&at&&ha.alternate===null&&e(M,at),C=h(ha,C,ht),At===null?it=ha:At.sibling=ha,At=ha,at=Ce}if(It.done)return i(M,at),zt&&Ga(M,ht),it;if(at===null){for(;!It.done;ht++,It=U.next())It=Q(M,It.value,G),It!==null&&(C=h(It,C,ht),At===null?it=It:At.sibling=It,At=It);return zt&&Ga(M,ht),it}for(at=r(at);!It.done;ht++,It=U.next())It=q(at,M,ht,It.value,G),It!==null&&(t&&It.alternate!==null&&at.delete(It.key===null?ht:It.key),C=h(It,C,ht),At===null?it=It:At.sibling=It,At=It);return t&&at.forEach(function(_1){return e(M,_1)}),zt&&Ga(M,ht),it}function Yt(M,C,U,G){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:t:{for(var it=U.key;C!==null;){if(C.key===it){if(it=U.type,it===et){if(C.tag===7){i(M,C.sibling),G=o(C,U.props.children),G.return=M,M=G;break t}}else if(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===S&&ny(it)===C.type){i(M,C.sibling),G=o(C,U.props),_l(G,U),G.return=M,M=G;break t}i(M,C);break}else e(M,C);C=C.sibling}U.type===et?(G=ka(U.props.children,M.mode,G,U.key),G.return=M,M=G):(G=Yu(U.type,U.key,U.props,null,M.mode,G),_l(G,U),G.return=M,M=G)}return p(M);case X:t:{for(it=U.key;C!==null;){if(C.key===it)if(C.tag===4&&C.stateNode.containerInfo===U.containerInfo&&C.stateNode.implementation===U.implementation){i(M,C.sibling),G=o(C,U.children||[]),G.return=M,M=G;break t}else{i(M,C);break}else e(M,C);C=C.sibling}G=Th(U,M.mode,G),G.return=M,M=G}return p(M);case S:return it=U._init,U=it(U._payload),Yt(M,C,U,G)}if(ee(U))return ft(M,C,U,G);if(I(U)){if(it=I(U),typeof it!="function")throw Error(s(150));return U=it.call(U),ut(M,C,U,G)}if(typeof U.then=="function")return Yt(M,C,oo(U),G);if(U.$$typeof===_t)return Yt(M,C,Zu(M,U),G);co(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,C!==null&&C.tag===6?(i(M,C.sibling),G=o(C,U),G.return=M,M=G):(i(M,C),G=Eh(U,M.mode,G),G.return=M,M=G),p(M)):i(M,C)}return function(M,C,U,G){try{yl=0;var it=Yt(M,C,U,G);return Zr=null,it}catch(at){if(at===ul||at===Ju)throw at;var At=nn(29,at,null,M.mode);return At.lanes=G,At.return=M,At}finally{}}}var $r=iy(!0),ay=iy(!1),vn=K(null),Kn=null;function Zi(t){var e=t.alternate;F(Te,Te.current&1),F(vn,t),Kn===null&&(e===null||Yr.current!==null||e.memoizedState!==null)&&(Kn=t)}function ry(t){if(t.tag===22){if(F(Te,Te.current),F(vn,t),Kn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Kn=t)}}else $i()}function $i(){F(Te,Te.current),F(vn,vn.current)}function vi(t){W(vn),Kn===t&&(Kn=null),W(Te)}var Te=K(0);function ho(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Gf(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function tf(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:A({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ef={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=ln(),o=Ki(r);o.payload=e,i!=null&&(o.callback=i),e=Xi(t,o,r),e!==null&&(un(e,t,r),cl(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=ln(),o=Ki(r);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=Xi(t,o,r),e!==null&&(un(e,t,r),cl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=ln(),r=Ki(i);r.tag=2,e!=null&&(r.callback=e),e=Xi(t,r,i),e!==null&&(un(e,t,i),cl(e,t,i))}};function sy(t,e,i,r,o,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,p):e.prototype&&e.prototype.isPureReactComponent?!tl(i,r)||!tl(o,h):!0}function ly(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function $a(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=A({},i));for(var o in t)i[o]===void 0&&(i[o]=t[o])}return i}var fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uy(t){fo(t)}function oy(t){console.error(t)}function cy(t){fo(t)}function mo(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function hy(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function nf(t,e,i){return i=Ki(i),i.tag=3,i.payload={element:null},i.callback=function(){mo(t,e)},i}function fy(t){return t=Ki(t),t.tag=3,t}function dy(t,e,i,r){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var h=r.value;t.payload=function(){return o(h)},t.callback=function(){hy(e,i,r)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){hy(e,i,r),typeof o!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function _S(t,e,i,r,o){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&rl(e,i,o,!0),i=vn.current,i!==null){switch(i.tag){case 13:return Kn===null?Df():i.alternate===null&&ae===0&&(ae=3),i.flags&=-257,i.flags|=65536,i.lanes=o,r===Nh?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),Vf(t,r,o)),!1;case 22:return i.flags|=65536,r===Nh?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),Vf(t,r,o)),!1}throw Error(s(435,i.tag))}return Vf(t,r,o),Df(),!1}if(zt)return e=vn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,r!==bh&&(t=Error(s(422),{cause:r}),al(gn(t,i)))):(r!==bh&&(e=Error(s(423),{cause:r}),al(gn(e,i))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,r=gn(r,i),o=nf(t.stateNode,r,o),xh(t,o),ae!==4&&(ae=2)),!1;var h=Error(s(520),{cause:r});if(h=gn(h,i),Rl===null?Rl=[h]:Rl.push(h),ae!==4&&(ae=2),e===null)return!0;r=gn(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=o&-o,i.lanes|=t,t=nf(i.stateNode,r,t),xh(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ia===null||!ia.has(h))))return i.flags|=65536,o&=-o,i.lanes|=o,o=fy(o),dy(o,t,i,r),xh(i,o),!1}i=i.return}while(i!==null);return!1}var my=Error(s(461)),we=!1;function xe(t,e,i,r){e.child=t===null?ay(e,null,i,r):$r(e,t.child,i,r)}function gy(t,e,i,r,o){i=i.render;var h=e.ref;if("ref"in r){var p={};for(var E in r)E!=="ref"&&(p[E]=r[E])}else p=r;return Xa(e),r=qh(t,e,i,p,h,o),E=Hh(),t!==null&&!we?(Ph(t,e,o),Ei(t,e,o)):(zt&&E&&Ah(e),e.flags|=1,xe(t,e,r,o),e.child)}function py(t,e,i,r,o){if(t===null){var h=i.type;return typeof h=="function"&&!vh(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,yy(t,e,h,r,o)):(t=Yu(i.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!hf(t,o)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:tl,i(p,r)&&t.ref===e.ref)return Ei(t,e,o)}return e.flags|=1,t=di(h,r),t.ref=e.ref,t.return=e,e.child=t}function yy(t,e,i,r,o){if(t!==null){var h=t.memoizedProps;if(tl(h,r)&&t.ref===e.ref)if(we=!1,e.pendingProps=r=h,hf(t,o))(t.flags&131072)!==0&&(we=!0);else return e.lanes=t.lanes,Ei(t,e,o)}return af(t,e,i,r,o)}function _y(t,e,i){var r=e.pendingProps,o=r.children,h=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=h!==null?h.baseLanes|i:i,t!==null){for(o=e.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;e.childLanes=h&~r}else e.childLanes=0,e.child=null;return vy(t,e,r,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(e,h!==null?h.cachePool:null),h!==null?yp(e,h):zh(),ry(e);else return e.lanes=e.childLanes=536870912,vy(t,e,h!==null?h.baseLanes|i:i,i)}else h!==null?($u(e,h.cachePool),yp(e,h),$i(),e.memoizedState=null):(t!==null&&$u(e,null),zh(),$i());return xe(t,e,o,i),e.child}function vy(t,e,i,r){var o=Oh();return o=o===null?null:{parent:Ee._currentValue,pool:o},e.memoizedState={baseLanes:i,cachePool:o},t!==null&&$u(e,null),zh(),ry(e),t!==null&&rl(t,e,r,!0),null}function go(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function af(t,e,i,r,o){return Xa(e),i=qh(t,e,i,r,void 0,o),r=Hh(),t!==null&&!we?(Ph(t,e,o),Ei(t,e,o)):(zt&&r&&Ah(e),e.flags|=1,xe(t,e,i,o),e.child)}function Ey(t,e,i,r,o,h){return Xa(e),e.updateQueue=null,i=vp(e,r,i,o),_p(t),r=Hh(),t!==null&&!we?(Ph(t,e,h),Ei(t,e,h)):(zt&&r&&Ah(e),e.flags|=1,xe(t,e,i,h),e.child)}function Ty(t,e,i,r,o){if(Xa(e),e.stateNode===null){var h=Pr,p=i.contextType;typeof p=="object"&&p!==null&&(h=ke(p)),h=new i(r,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ef,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=r,h.state=e.memoizedState,h.refs={},Mh(e),p=i.contextType,h.context=typeof p=="object"&&p!==null?ke(p):Pr,h.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(tf(e,i,p,r),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&ef.enqueueReplaceState(h,h.state,null),fl(e,r,h,o),hl(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,b=$a(i,E);h.props=b;var L=h.context,j=i.contextType;p=Pr,typeof j=="object"&&j!==null&&(p=ke(j));var Q=i.getDerivedStateFromProps;j=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||L!==p)&&ly(e,h,r,p),Yi=!1;var B=e.memoizedState;h.state=B,fl(e,r,h,o),hl(),L=e.memoizedState,E||B!==L||Yi?(typeof Q=="function"&&(tf(e,i,Q,r),L=e.memoizedState),(b=Yi||sy(e,i,b,r,B,L,p))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=L),h.props=r,h.state=L,h.context=p,r=b):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,Ih(t,e),p=e.memoizedProps,j=$a(i,p),h.props=j,Q=e.pendingProps,B=h.context,L=i.contextType,b=Pr,typeof L=="object"&&L!==null&&(b=ke(L)),E=i.getDerivedStateFromProps,(L=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==Q||B!==b)&&ly(e,h,r,b),Yi=!1,B=e.memoizedState,h.state=B,fl(e,r,h,o),hl();var q=e.memoizedState;p!==Q||B!==q||Yi||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(tf(e,i,E,r),q=e.memoizedState),(j=Yi||sy(e,i,j,r,B,q,b)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,q,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,q,b)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=q),h.props=r,h.state=q,h.context=b,r=j):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),r=!1)}return h=r,go(t,e),r=(e.flags&128)!==0,h||r?(h=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&r?(e.child=$r(e,t.child,null,o),e.child=$r(e,null,i,o)):xe(t,e,i,o),e.memoizedState=h.state,t=e.child):t=Ei(t,e,o),t}function Ay(t,e,i,r){return il(),e.flags|=256,xe(t,e,i,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(t){return{baseLanes:t,cachePool:op()}}function lf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=En),t}function Sy(t,e,i){var r=e.pendingProps,o=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),p&&(o=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(zt){if(o?Zi(e):$i(),zt){var E=ie,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Cn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(e.memoizedState={dehydrated:E,treeContext:ja!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},b=nn(18,null,null,0),b.stateNode=E,b.return=e,e.child=b,Ke=e,ie=null,b=!0):b=!1}b||Ya(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Gf(E)?e.lanes=32:e.lanes=536870912,null;vi(e)}return E=r.children,r=r.fallback,o?($i(),o=e.mode,E=po({mode:"hidden",children:E},o),r=ka(r,o,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,o=e.child,o.memoizedState=sf(i),o.childLanes=lf(t,p,i),e.memoizedState=rf,r):(Zi(e),uf(e,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)e.flags&256?(Zi(e),e.flags&=-257,e=of(t,e,i)):e.memoizedState!==null?($i(),e.child=t.child,e.flags|=128,e=null):($i(),o=r.fallback,E=e.mode,r=po({mode:"visible",children:r.children},E),o=ka(o,E,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,$r(e,t.child,null,i),r=e.child,r.memoizedState=sf(i),r.childLanes=lf(t,p,i),e.memoizedState=rf,e=o);else if(Zi(e),Gf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var L=p.dgst;p=L,r=Error(s(419)),r.stack="",r.digest=p,al({value:r,source:null,stack:null}),e=of(t,e,i)}else if(we||rl(t,e,i,!1),p=(i&t.childLanes)!==0,we||p){if(p=Ft,p!==null&&(r=i&-i,r=(r&42)!==0?1:Bi(r),r=(r&(p.suspendedLanes|i))!==0?0:r,r!==0&&r!==b.retryLane))throw b.retryLane=r,Hr(t,r),un(p,t,r),my;E.data==="$?"||Df(),e=of(t,e,i)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=b.treeContext,ie=Cn(E.nextSibling),Ke=e,zt=!0,Qa=null,Yn=!1,t!==null&&(yn[_n++]=mi,yn[_n++]=gi,yn[_n++]=ja,mi=t.id,gi=t.overflow,ja=e),e=uf(e,r.children),e.flags|=4096);return e}return o?($i(),o=r.fallback,E=e.mode,b=t.child,L=b.sibling,r=di(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,L!==null?o=di(L,o):(o=ka(o,E,i,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,E=t.child.memoizedState,E===null?E=sf(i):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=op(),E={baseLanes:E.baseLanes|i,cachePool:b}),o.memoizedState=E,o.childLanes=lf(t,p,i),e.memoizedState=rf,r):(Zi(e),i=t.child,t=i.sibling,i=di(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function uf(t,e){return e=po({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function po(t,e){return t=nn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function of(t,e,i){return $r(e,t.child,null,i),t=uf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function by(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wh(t.return,e,i)}function cf(t,e,i,r,o){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:o}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=o)}function Ry(t,e,i){var r=e.pendingProps,o=r.revealOrder,h=r.tail;if(xe(t,e,r.children,i),r=Te.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,i,e);else if(t.tag===19)by(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(F(Te,r),o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&ho(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),cf(e,!1,o,i,h);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ho(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}cf(e,!0,i,null,h);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ei(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(rl(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,i=di(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=di(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function hf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function vS(t,e,i){switch(e.tag){case 3:Xt(e,e.stateNode.containerInfo),Qi(e,Ee,t.memoizedState.cache),il();break;case 27:case 5:Li(e);break;case 4:Xt(e,e.stateNode.containerInfo);break;case 10:Qi(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Zi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Sy(t,e,i):(Zi(e),t=Ei(t,e,i),t!==null?t.sibling:null);Zi(e);break;case 19:var o=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(rl(t,e,i,!1),r=(i&e.childLanes)!==0),o){if(r)return Ry(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,_y(t,e,i);case 24:Qi(e,Ee,t.memoizedState.cache)}return Ei(t,e,i)}function wy(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)we=!0;else{if(!hf(t,i)&&(e.flags&128)===0)return we=!1,vS(t,e,i);we=(t.flags&131072)!==0}else we=!1,zt&&(e.flags&1048576)!==0&&np(e,Xu,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,o=r._init;if(r=o(r._payload),e.type=r,typeof r=="function")vh(r)?(t=$a(r,t),e.tag=1,e=Ty(null,e,r,t,i)):(e.tag=0,e=af(null,e,r,t,i));else{if(r!=null){if(o=r.$$typeof,o===Lt){e.tag=11,e=gy(null,e,r,t,i);break t}else if(o===O){e.tag=14,e=py(null,e,r,t,i);break t}}throw e=Ne(r)||r,Error(s(306,e,""))}}return e;case 0:return af(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,o=$a(r,e.pendingProps),Ty(t,e,r,o,i);case 3:t:{if(Xt(e,e.stateNode.containerInfo),t===null)throw Error(s(387));r=e.pendingProps;var h=e.memoizedState;o=h.element,Ih(t,e),fl(e,r,null,i);var p=e.memoizedState;if(r=p.cache,Qi(e,Ee,r),r!==h.cache&&Dh(e,[Ee],i,!0),hl(),r=p.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Ay(t,e,r,i);break t}else if(r!==o){o=gn(Error(s(424)),e),al(o),e=Ay(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=Cn(t.firstChild),Ke=e,zt=!0,Qa=null,Yn=!0,i=ay(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(il(),r===o){e=Ei(t,e,i);break t}xe(t,e,r,i)}e=e.child}return e;case 26:return go(t,e),t===null?(i=O_(e.type,null,e.pendingProps,null))?e.memoizedState=i:zt||(i=e.type,t=e.pendingProps,r=Oo(dt.current).createElement(i),r[ye]=e,r[he]=t,ze(r,i,t),le(r),e.stateNode=r):e.memoizedState=O_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Li(e),t===null&&zt&&(r=e.stateNode=D_(e.type,e.pendingProps,dt.current),Ke=e,Yn=!0,o=ie,sa(e.type)?(Qf=o,ie=Cn(r.firstChild)):ie=o),xe(t,e,e.pendingProps.children,i),go(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&zt&&((o=r=ie)&&(r=KS(r,e.type,e.pendingProps,Yn),r!==null?(e.stateNode=r,Ke=e,ie=Cn(r.firstChild),Yn=!1,o=!0):o=!1),o||Ya(e)),Li(e),o=e.type,h=e.pendingProps,p=t!==null?t.memoizedProps:null,r=h.children,Pf(o,h)?r=null:p!==null&&Pf(o,p)&&(e.flags|=32),e.memoizedState!==null&&(o=qh(t,e,hS,null,null,i),xl._currentValue=o),go(t,e),xe(t,e,r,i),e.child;case 6:return t===null&&zt&&((t=i=ie)&&(i=XS(i,e.pendingProps,Yn),i!==null?(e.stateNode=i,Ke=e,ie=null,t=!0):t=!1),t||Ya(e)),null;case 13:return Sy(t,e,i);case 4:return Xt(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,i):xe(t,e,r,i),e.child;case 11:return gy(t,e,e.type,e.pendingProps,i);case 7:return xe(t,e,e.pendingProps,i),e.child;case 8:return xe(t,e,e.pendingProps.children,i),e.child;case 12:return xe(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,Qi(e,e.type,r.value),xe(t,e,r.children,i),e.child;case 9:return o=e.type._context,r=e.pendingProps.children,Xa(e),o=ke(o),r=r(o),e.flags|=1,xe(t,e,r,i),e.child;case 14:return py(t,e,e.type,e.pendingProps,i);case 15:return yy(t,e,e.type,e.pendingProps,i);case 19:return Ry(t,e,i);case 31:return r=e.pendingProps,i=e.mode,r={mode:r.mode,children:r.children},t===null?(i=po(r,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=di(t.child,r),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return _y(t,e,i);case 24:return Xa(e),r=ke(Ee),t===null?(o=Oh(),o===null&&(o=Ft,h=Ch(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=i),o=h),e.memoizedState={parent:r,cache:o},Mh(e),Qi(e,Ee,o)):((t.lanes&i)!==0&&(Ih(t,e),fl(e,null,null,i),hl()),o=t.memoizedState,h=e.memoizedState,o.parent!==r?(o={parent:r,cache:r},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Qi(e,Ee,r)):(r=h.cache,Qi(e,Ee,r),r!==o.cache&&Dh(e,[Ee],i,!0))),xe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function Ti(t){t.flags|=4}function Dy(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U_(e)){if(e=vn.current,e!==null&&((Ot&4194048)===Ot?Kn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||e!==Kn))throw ol=Nh,cp;t.flags|=8192}}function yo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?zs():536870912,t.lanes|=e,es|=e)}function vl(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function ES(t,e,i){var r=e.pendingProps;switch(Sh(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Wt(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),yi(Ee),xn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(nl(e)?Ti(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,rp())),Wt(e),null;case 26:return i=e.memoizedState,t===null?(Ti(e),i!==null?(Wt(e),Dy(e,i)):(Wt(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Ti(e),Wt(e),Dy(e,i)):(Wt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ti(e),Wt(e),e.flags&=-16777217),null;case 27:ti(e),i=dt.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(s(166));return Wt(e),null}t=lt.current,nl(e)?ip(e):(t=D_(o,r,i),e.stateNode=t,Ti(e))}return Wt(e),null;case 5:if(ti(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(!r){if(e.stateNode===null)throw Error(s(166));return Wt(e),null}if(t=lt.current,nl(e))ip(e);else{switch(o=Oo(dt.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}t[ye]=e,t[he]=r;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;t:switch(ze(t,i,r),i){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ti(e)}}return Wt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ti(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(s(166));if(t=dt.current,nl(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,o=Ke,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}t[ye]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||E_(t.nodeValue,i)),t||Ya(e)}else t=Oo(t).createTextNode(r),t[ye]=e,e.stateNode=t}return Wt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(s(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[ye]=e}else il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else o=rp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(vi(e),e):(vi(e),null)}if(vi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=r!==null,t=t!==null&&t.memoizedState!==null,i){r=e.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==o&&(r.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),yo(e,e.updateQueue),Wt(e),null;case 4:return xn(),t===null&&zf(e.stateNode.containerInfo),Wt(e),null;case 10:return yi(e.type),Wt(e),null;case 19:if(W(Te),o=e.memoizedState,o===null)return Wt(e),null;if(r=(e.flags&128)!==0,h=o.rendering,h===null)if(r)vl(o,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=ho(t),h!==null){for(e.flags|=128,vl(o,!1),t=h.updateQueue,e.updateQueue=t,yo(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)ep(i,t),i=i.sibling;return F(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&on()>Eo&&(e.flags|=128,r=!0,vl(o,!1),e.lanes=4194304)}else{if(!r)if(t=ho(h),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,yo(e,t),vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!zt)return Wt(e),null}else 2*on()-o.renderingStartTime>Eo&&i!==536870912&&(e.flags|=128,r=!0,vl(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,t=Te.current,F(Te,r?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return vi(e),Lh(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),i=e.updateQueue,i!==null&&yo(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&W(Fa),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),yi(Ee),Wt(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function TS(t,e){switch(Sh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yi(Ee),xn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ti(e),null;case 13:if(vi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(Te),null;case 4:return xn(),null;case 10:return yi(e.type),null;case 22:case 23:return vi(e),Lh(),t!==null&&W(Fa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return yi(Ee),null;case 25:return null;default:return null}}function Cy(t,e){switch(Sh(e),e.tag){case 3:yi(Ee),xn();break;case 26:case 27:case 5:ti(e);break;case 4:xn();break;case 13:vi(e);break;case 19:W(Te);break;case 10:yi(e.type);break;case 22:case 23:vi(e),Lh(),t!==null&&W(Fa);break;case 24:yi(Ee)}}function El(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var o=r.next;i=o;do{if((i.tag&t)===t){r=void 0;var h=i.create,p=i.inst;r=h(),p.destroy=r}i=i.next}while(i!==o)}}catch(E){Kt(e,e.return,E)}}function Ji(t,e,i){try{var r=e.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){var p=r.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,o=e;var b=i,L=E;try{L()}catch(j){Kt(o,b,j)}}}r=r.next}while(r!==h)}}catch(j){Kt(e,e.return,j)}}function Vy(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{pp(e,i)}catch(r){Kt(t,t.return,r)}}}function Oy(t,e,i){i.props=$a(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Kt(t,e,r)}}function Tl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(o){Kt(t,e,o)}}function Xn(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(o){Kt(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Kt(t,e,o)}else i.current=null}function Ny(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(o){Kt(t,t.return,o)}}function ff(t,e,i){try{var r=t.stateNode;kS(r,t.type,i,e),r[he]=e}catch(o){Kt(t,t.return,o)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sa(t.type)||t.tag===4}function df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Vo));else if(r!==4&&(r===27&&sa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(mf(t,e,i),t=t.sibling;t!==null;)mf(t,e,i),t=t.sibling}function _o(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&sa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(_o(t,e,i),t=t.sibling;t!==null;)_o(t,e,i),t=t.sibling}function Iy(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);ze(e,r,i),e[ye]=t,e[he]=i}catch(h){Kt(t,t.return,h)}}var Ai=!1,oe=!1,gf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,De=null;function AS(t,e){if(t=t.containerInfo,qf=zo,t=Qg(t),fh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var o=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var p=0,E=-1,b=-1,L=0,j=0,Q=t,B=null;e:for(;;){for(var q;Q!==i||o!==0&&Q.nodeType!==3||(E=p+o),Q!==h||r!==0&&Q.nodeType!==3||(b=p+r),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===t)break e;if(B===i&&++L===o&&(E=p),B===h&&++j===r&&(b=p),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}i=E===-1||b===-1?null:{start:E,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hf={focusedElem:t,selectionRange:i},zo=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){switch(e=De,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,o=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var ft=$a(i.type,o,i.elementType===i.type);t=r.getSnapshotBeforeUpdate(ft,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(ut){Kt(i,i.return,ut)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)jf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function Uy(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Wi(t,i),r&4&&El(5,i);break;case 1:if(Wi(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){Kt(i,i.return,p)}else{var o=$a(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(i,i.return,p)}}r&64&&Vy(i),r&512&&Tl(i,i.return);break;case 3:if(Wi(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{pp(t,e)}catch(p){Kt(i,i.return,p)}}break;case 27:e===null&&r&4&&Iy(i);case 26:case 5:Wi(t,i),e===null&&r&4&&Ny(i),r&512&&Tl(i,i.return);break;case 12:Wi(t,i);break;case 13:Wi(t,i),r&4&&By(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=NS.bind(null,i),FS(t,i))));break;case 22:if(r=i.memoizedState!==null||Ai,!r){e=e!==null&&e.memoizedState!==null||oe,o=Ai;var h=oe;Ai=r,(oe=e)&&!h?ta(t,i,(i.subtreeFlags&8772)!==0):Wi(t,i),Ai=o,oe=h}break;case 30:break;default:Wi(t,i)}}function zy(t){var e=t.alternate;e!==null&&(t.alternate=null,zy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Pi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $t=null,$e=!1;function Si(t,e,i){for(i=i.child;i!==null;)Ly(t,e,i),i=i.sibling}function Ly(t,e,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ne,i)}catch{}switch(i.tag){case 26:oe||Xn(i,e),Si(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:oe||Xn(i,e);var r=$t,o=$e;sa(i.type)&&($t=i.stateNode,$e=!1),Si(t,e,i),Ol(i.stateNode),$t=r,$e=o;break;case 5:oe||Xn(i,e);case 6:if(r=$t,o=$e,$t=null,Si(t,e,i),$t=r,$e=o,$t!==null)if($e)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(i.stateNode)}catch(h){Kt(i,e,h)}else try{$t.removeChild(i.stateNode)}catch(h){Kt(i,e,h)}break;case 18:$t!==null&&($e?(t=$t,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Bl(t)):R_($t,i.stateNode));break;case 4:r=$t,o=$e,$t=i.stateNode.containerInfo,$e=!0,Si(t,e,i),$t=r,$e=o;break;case 0:case 11:case 14:case 15:oe||Ji(2,i,e),oe||Ji(4,i,e),Si(t,e,i);break;case 1:oe||(Xn(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Oy(i,e,r)),Si(t,e,i);break;case 21:Si(t,e,i);break;case 22:oe=(r=oe)||i.memoizedState!==null,Si(t,e,i),oe=r;break;default:Si(t,e,i)}}function By(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(i){Kt(e,e.return,i)}}function SS(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new xy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new xy),e;default:throw Error(s(435,t.tag))}}function pf(t,e){var i=SS(t);e.forEach(function(r){var o=MS.bind(null,t,r);i.has(r)||(i.add(r),r.then(o,o))})}function an(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var o=i[r],h=t,p=e,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(sa(E.type)){$t=E.stateNode,$e=!1;break t}break;case 5:$t=E.stateNode,$e=!1;break t;case 3:case 4:$t=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if($t===null)throw Error(s(160));Ly(h,p,o),$t=null,$e=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)qy(e,t),e=e.sibling}var Dn=null;function qy(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(e,t),rn(t),r&4&&(Ji(3,t,t.return),El(3,t),Ji(5,t,t.return));break;case 1:an(e,t),rn(t),r&512&&(oe||i===null||Xn(i,i.return)),r&64&&Ai&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var o=Dn;if(an(e,t),rn(t),r&512&&(oe||i===null||Xn(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,o=o.ownerDocument||o;e:switch(r){case"title":h=o.getElementsByTagName("title")[0],(!h||h[wa]||h[ye]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(r),o.head.insertBefore(h,o.querySelector("head > title"))),ze(h,r,i),h[ye]=t,le(h),r=h;break t;case"link":var p=I_("link","href",o).get(r+(i.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(E,1);break e}}h=o.createElement(r),ze(h,r,i),o.head.appendChild(h);break;case"meta":if(p=I_("meta","content",o).get(r+(i.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(E,1);break e}}h=o.createElement(r),ze(h,r,i),o.head.appendChild(h);break;default:throw Error(s(468,r))}h[ye]=t,le(h),r=h}t.stateNode=r}else x_(o,t.type,t.stateNode);else t.stateNode=M_(o,r,t.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?x_(o,t.type,t.stateNode):M_(o,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ff(t,t.memoizedProps,i.memoizedProps)}break;case 27:an(e,t),rn(t),r&512&&(oe||i===null||Xn(i,i.return)),i!==null&&r&4&&ff(t,t.memoizedProps,i.memoizedProps);break;case 5:if(an(e,t),rn(t),r&512&&(oe||i===null||Xn(i,i.return)),t.flags&32){o=t.stateNode;try{hn(o,"")}catch(q){Kt(t,t.return,q)}}r&4&&t.stateNode!=null&&(o=t.memoizedProps,ff(t,o,i!==null?i.memoizedProps:o)),r&1024&&(gf=!0);break;case 6:if(an(e,t),rn(t),r&4){if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(q){Kt(t,t.return,q)}}break;case 3:if(Io=null,o=Dn,Dn=No(e.containerInfo),an(e,t),Dn=o,rn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(q){Kt(t,t.return,q)}gf&&(gf=!1,Hy(t));break;case 4:r=Dn,Dn=No(t.stateNode.containerInfo),an(e,t),rn(t),Dn=r;break;case 12:an(e,t),rn(t);break;case 13:an(e,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Af=on()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,pf(t,r)));break;case 22:o=t.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,L=Ai,j=oe;if(Ai=L||o,oe=j||b,an(e,t),oe=j,Ai=L,rn(t),r&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(i===null||b||Ai||oe||Ja(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){b=i=e;try{if(h=b.stateNode,o)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(e.tag===6){if(i===null){b=e;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,pf(t,i))));break;case 19:an(e,t),rn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,pf(t,r)));break;case 30:break;case 21:break;default:an(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(My(r)){i=r;break}r=r.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var o=i.stateNode,h=df(t);_o(t,h,o);break;case 5:var p=i.stateNode;i.flags&32&&(hn(p,""),i.flags&=-33);var E=df(t);_o(t,E,p);break;case 3:case 4:var b=i.stateNode.containerInfo,L=df(t);mf(t,L,b);break;default:throw Error(s(161))}}catch(j){Kt(t,t.return,j)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Hy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Wi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Uy(t,e.alternate,e),e=e.sibling}function Ja(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ji(4,e,e.return),Ja(e);break;case 1:Xn(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Oy(e,e.return,i),Ja(e);break;case 27:Ol(e.stateNode);case 26:case 5:Xn(e,e.return),Ja(e);break;case 22:e.memoizedState===null&&Ja(e);break;case 30:Ja(e);break;default:Ja(e)}t=t.sibling}}function ta(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,o=t,h=e,p=h.flags;switch(h.tag){case 0:case 11:case 15:ta(o,h,i),El(4,h);break;case 1:if(ta(o,h,i),r=h,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(L){Kt(r,r.return,L)}if(r=h,o=r.updateQueue,o!==null){var E=r.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)gp(b[o],E)}catch(L){Kt(r,r.return,L)}}i&&p&64&&Vy(h),Tl(h,h.return);break;case 27:Iy(h);case 26:case 5:ta(o,h,i),i&&r===null&&p&4&&Ny(h),Tl(h,h.return);break;case 12:ta(o,h,i);break;case 13:ta(o,h,i),i&&p&4&&By(o,h);break;case 22:h.memoizedState===null&&ta(o,h,i),Tl(h,h.return);break;case 30:break;default:ta(o,h,i)}e=e.sibling}}function yf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&sl(i))}function _f(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t))}function Fn(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Py(t,e,i,r),e=e.sibling}function Py(t,e,i,r){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Fn(t,e,i,r),o&2048&&El(9,e);break;case 1:Fn(t,e,i,r);break;case 3:Fn(t,e,i,r),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t)));break;case 12:if(o&2048){Fn(t,e,i,r),t=e.stateNode;try{var h=e.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(e,e.return,b)}}else Fn(t,e,i,r);break;case 13:Fn(t,e,i,r);break;case 23:break;case 22:h=e.stateNode,p=e.alternate,e.memoizedState!==null?h._visibility&2?Fn(t,e,i,r):Al(t,e):h._visibility&2?Fn(t,e,i,r):(h._visibility|=2,Jr(t,e,i,r,(e.subtreeFlags&10256)!==0)),o&2048&&yf(p,e);break;case 24:Fn(t,e,i,r),o&2048&&_f(e.alternate,e);break;default:Fn(t,e,i,r)}}function Jr(t,e,i,r,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,p=e,E=i,b=r,L=p.flags;switch(p.tag){case 0:case 11:case 15:Jr(h,p,E,b,o),El(8,p);break;case 23:break;case 22:var j=p.stateNode;p.memoizedState!==null?j._visibility&2?Jr(h,p,E,b,o):Al(h,p):(j._visibility|=2,Jr(h,p,E,b,o)),o&&L&2048&&yf(p.alternate,p);break;case 24:Jr(h,p,E,b,o),o&&L&2048&&_f(p.alternate,p);break;default:Jr(h,p,E,b,o)}e=e.sibling}}function Al(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,o=r.flags;switch(r.tag){case 22:Al(i,r),o&2048&&yf(r.alternate,r);break;case 24:Al(i,r),o&2048&&_f(r.alternate,r);break;default:Al(i,r)}e=e.sibling}}var Sl=8192;function Wr(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 26:Wr(t),t.flags&Sl&&t.memoizedState!==null&&u1(Dn,t.memoizedState,t.memoizedProps);break;case 5:Wr(t);break;case 3:case 4:var e=Dn;Dn=No(t.stateNode.containerInfo),Wr(t),Dn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Sl,Sl=16777216,Wr(t),Sl=e):Wr(t));break;default:Wr(t)}}function jy(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function bl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];De=r,Qy(r,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,vo(t)):bl(t);break;default:bl(t)}}function vo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];De=r,Qy(r,t)}jy(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ji(8,e,e.return),vo(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,vo(e));break;default:vo(e)}t=t.sibling}}function Qy(t,e){for(;De!==null;){var i=De;switch(i.tag){case 0:case 11:case 15:Ji(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sl(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,De=r;else t:for(i=t;De!==null;){r=De;var o=r.sibling,h=r.return;if(zy(r),r===i){De=null;break t}if(o!==null){o.return=h,De=o;break t}De=h}}}var bS={getCacheForType:function(t){var e=ke(Ee),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},RS=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Ft=null,St=null,Ot=0,kt=0,sn=null,ea=!1,ts=!1,vf=!1,bi=0,ae=0,na=0,Wa=0,Ef=0,En=0,es=0,Rl=null,Je=null,Tf=!1,Af=0,Eo=1/0,To=null,ia=null,Ue=0,aa=null,ns=null,is=0,Sf=0,bf=null,Yy=null,wl=0,Rf=null;function ln(){if((Pt&2)!==0&&Ot!==0)return Ot&-Ot;if(k.T!==null){var t=Gr;return t!==0?t:Mf()}return qi()}function Ky(){En===0&&(En=(Ot&536870912)===0||zt?Us():536870912);var t=vn.current;return t!==null&&(t.flags|=32),En}function un(t,e,i){(t===Ft&&(kt===2||kt===9)||t.cancelPendingCommit!==null)&&(as(t,0),ra(t,Ot,En,!1)),ni(t,i),((Pt&2)===0||t!==Ft)&&(t===Ft&&((Pt&2)===0&&(Wa|=i),ae===4&&ra(t,Ot,En,!1)),Zn(t))}function Xy(t,e,i){if((Pt&6)!==0)throw Error(s(327));var r=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Ra(t,e),o=r?CS(t,e):Cf(t,e,!0),h=r;do{if(o===0){ts&&!r&&ra(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!wS(i)){o=Cf(t,e,!1),h=!1;continue}if(o===2){if(h=e,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var E=t;o=Rl;var b=E.current.memoizedState.isDehydrated;if(b&&(as(E,p).flags|=256),p=Cf(E,p,!1),p!==2){if(vf&&!b){E.errorRecoveryDisabledLanes|=h,Wa|=h,o=4;break t}h=Je,Je=o,h!==null&&(Je===null?Je=h:Je.push.apply(Je,h))}o=p}if(h=!1,o!==2)continue}}if(o===1){as(t,0),ra(t,e,0,!0);break}t:{switch(r=t,h=o,h){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:ra(r,e,En,!ea);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(o=Af+300-on(),10<o)){if(ra(r,e,En,!ea),Tr(r,0,!0)!==0)break t;r.timeoutHandle=S_(Fy.bind(null,r,i,Je,To,Tf,e,En,Wa,es,ea,h,2,-0,0),o);break t}Fy(r,i,Je,To,Tf,e,En,Wa,es,ea,h,0,-0,0)}}break}while(!0);Zn(t)}function Fy(t,e,i,r,o,h,p,E,b,L,j,Q,B,q){if(t.timeoutHandle=-1,Q=e.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:l1},ky(e),Q=o1(),Q!==null)){t.cancelPendingCommit=Q(n_.bind(null,t,e,h,i,r,o,p,E,b,j,1,B,q)),ra(t,h,p,!L);return}n_(t,e,h,i,r,o,p,E,b)}function wS(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var o=i[r],h=o.getSnapshot;o=o.value;try{if(!en(h(),o))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e,i,r){e&=~Ef,e&=~Wa,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var o=e;0<o;){var h=31-Pe(o),p=1<<h;r[h]=-1,o&=~p}i!==0&&Un(t,i,e)}function Ao(){return(Pt&6)===0?(Dl(0),!1):!0}function wf(){if(St!==null){if(kt===0)var t=St.return;else t=St,pi=Ka=null,kh(t),Zr=null,yl=0,t=St;for(;t!==null;)Cy(t.alternate,t),t=t.return;St=null}}function as(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,GS(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),wf(),Ft=t,St=i=di(t.current,null),Ot=e,kt=0,sn=null,ea=!1,ts=Ra(t,e),vf=!1,es=En=Ef=Wa=na=ae=0,Je=Rl=null,Tf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var o=31-Pe(r),h=1<<o;e|=t[o],r&=~h}return bi=e,ju(),i}function Zy(t,e){vt=null,k.H=uo,e===ul||e===Ju?(e=dp(),kt=3):e===cp?(e=dp(),kt=4):kt=e===my?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,sn=e,St===null&&(ae=1,mo(t,gn(e,t.current)))}function $y(){var t=k.H;return k.H=uo,t===null?uo:t}function Jy(){var t=k.A;return k.A=bS,t}function Df(){ae=4,ea||(Ot&4194048)!==Ot&&vn.current!==null||(ts=!0),(na&134217727)===0&&(Wa&134217727)===0||Ft===null||ra(Ft,Ot,En,!1)}function Cf(t,e,i){var r=Pt;Pt|=2;var o=$y(),h=Jy();(Ft!==t||Ot!==e)&&(To=null,as(t,e)),e=!1;var p=ae;t:do try{if(kt!==0&&St!==null){var E=St,b=sn;switch(kt){case 8:wf(),p=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(e=!0);var L=kt;if(kt=0,sn=null,rs(t,E,b,L),i&&ts){p=0;break t}break;default:L=kt,kt=0,sn=null,rs(t,E,b,L)}}DS(),p=ae;break}catch(j){Zy(t,j)}while(!0);return e&&t.shellSuspendCounter++,pi=Ka=null,Pt=r,k.H=o,k.A=h,St===null&&(Ft=null,Ot=0,ju()),p}function DS(){for(;St!==null;)Wy(St)}function CS(t,e){var i=Pt;Pt|=2;var r=$y(),o=Jy();Ft!==t||Ot!==e?(To=null,Eo=on()+500,as(t,e)):ts=Ra(t,e);t:do try{if(kt!==0&&St!==null){e=St;var h=sn;e:switch(kt){case 1:kt=0,sn=null,rs(t,e,h,1);break;case 2:case 9:if(hp(h)){kt=0,sn=null,t_(e);break}e=function(){kt!==2&&kt!==9||Ft!==t||(kt=7),Zn(t)},h.then(e,e);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:hp(h)?(kt=0,sn=null,t_(e)):(kt=0,sn=null,rs(t,e,h,7));break;case 5:var p=null;switch(St.tag){case 26:p=St.memoizedState;case 5:case 27:var E=St;if(!p||U_(p)){kt=0,sn=null;var b=E.sibling;if(b!==null)St=b;else{var L=E.return;L!==null?(St=L,So(L)):St=null}break e}}kt=0,sn=null,rs(t,e,h,5);break;case 6:kt=0,sn=null,rs(t,e,h,6);break;case 8:wf(),ae=6;break t;default:throw Error(s(462))}}VS();break}catch(j){Zy(t,j)}while(!0);return pi=Ka=null,k.H=r,k.A=o,Pt=i,St!==null?0:(Ft=null,Ot=0,ju(),ae)}function VS(){for(;St!==null&&!Ns();)Wy(St)}function Wy(t){var e=wy(t.alternate,t,bi);t.memoizedProps=t.pendingProps,e===null?So(t):St=e}function t_(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Ey(i,e,e.pendingProps,e.type,void 0,Ot);break;case 11:e=Ey(i,e,e.pendingProps,e.type.render,e.ref,Ot);break;case 5:kh(e);default:Cy(i,e),e=St=ep(e,bi),e=wy(i,e,bi)}t.memoizedProps=t.pendingProps,e===null?So(t):St=e}function rs(t,e,i,r){pi=Ka=null,kh(e),Zr=null,yl=0;var o=e.return;try{if(_S(t,o,e,i,Ot)){ae=1,mo(t,gn(i,t.current)),St=null;return}}catch(h){if(o!==null)throw St=o,h;ae=1,mo(t,gn(i,t.current)),St=null;return}e.flags&32768?(zt||r===1?t=!0:ts||(Ot&536870912)!==0?t=!1:(ea=t=!0,(r===2||r===9||r===3||r===6)&&(r=vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),e_(e,t)):So(e)}function So(t){var e=t;do{if((e.flags&32768)!==0){e_(e,ea);return}t=e.return;var i=ES(e.alternate,e,bi);if(i!==null){St=i;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);ae===0&&(ae=5)}function e_(t,e){do{var i=TS(t.alternate,t);if(i!==null){i.flags&=32767,St=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){St=t;return}St=t=i}while(t!==null);ae=6,St=null}function n_(t,e,i,r,o,h,p,E,b){t.cancelPendingCommit=null;do bo();while(Ue!==0);if((Pt&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(h=e.lanes|e.childLanes,h|=yh,Ls(t,i,h,p,E,b),t===Ft&&(St=Ft=null,Ot=0),ns=e,aa=t,is=i,Sf=h,bf=o,Yy=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IS(Ta,function(){return l_(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,o=$.p,$.p=2,p=Pt,Pt|=4;try{AS(t,e,i)}finally{Pt=p,$.p=o,k.T=r}}Ue=1,i_(),a_(),r_()}}function i_(){if(Ue===1){Ue=0;var t=aa,e=ns,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var r=$.p;$.p=2;var o=Pt;Pt|=4;try{qy(e,t);var h=Hf,p=Qg(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(p!==E&&E&&E.ownerDocument&&Gg(E.ownerDocument.documentElement,E)){if(b!==null&&fh(E)){var L=b.start,j=b.end;if(j===void 0&&(j=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),ft=E.textContent.length,ut=Math.min(b.start,ft),Yt=b.end===void 0?ut:Math.min(b.end,ft);!q.extend&&ut>Yt&&(p=Yt,Yt=ut,ut=p);var M=jg(E,ut),C=jg(E,Yt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var U=Q.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),ut>Yt?(q.addRange(U),q.extend(C.node,C.offset)):(U.setEnd(C.node,C.offset),q.addRange(U))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}zo=!!qf,Hf=qf=null}finally{Pt=o,$.p=r,k.T=i}}t.current=e,Ue=2}}function a_(){if(Ue===2){Ue=0;var t=aa,e=ns,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var r=$.p;$.p=2;var o=Pt;Pt|=4;try{Uy(t,e.alternate,e)}finally{Pt=o,$.p=r,k.T=i}}Ue=3}}function r_(){if(Ue===4||Ue===3){Ue=0,_u();var t=aa,e=ns,i=is,r=Yy;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ue=5:(Ue=0,ns=aa=null,s_(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(ia=null),Ar(i),e=e.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ne,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=k.T,o=$.p,$.p=2,k.T=null;try{for(var h=t.onRecoverableError,p=0;p<r.length;p++){var E=r[p];h(E.value,{componentStack:E.stack})}}finally{k.T=e,$.p=o}}(is&3)!==0&&bo(),Zn(t),o=t.pendingLanes,(i&4194090)!==0&&(o&42)!==0?t===Rf?wl++:(wl=0,Rf=t):wl=0,Dl(0)}}function s_(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sl(e)))}function bo(t){return i_(),a_(),r_(),l_()}function l_(){if(Ue!==5)return!1;var t=aa,e=Sf;Sf=0;var i=Ar(is),r=k.T,o=$.p;try{$.p=32>i?32:i,k.T=null,i=bf,bf=null;var h=aa,p=is;if(Ue=0,ns=aa=null,is=0,(Pt&6)!==0)throw Error(s(331));var E=Pt;if(Pt|=4,Gy(h.current),Py(h,h.current,p,i),Pt=E,Dl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ne,h)}catch{}return!0}finally{$.p=o,k.T=r,s_(t,e)}}function u_(t,e,i){e=gn(i,e),e=nf(t.stateNode,e,2),t=Xi(t,e,2),t!==null&&(ni(t,2),Zn(t))}function Kt(t,e,i){if(t.tag===3)u_(t,t,i);else for(;e!==null;){if(e.tag===3){u_(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){t=gn(i,t),i=fy(2),r=Xi(e,i,2),r!==null&&(dy(i,r,e,t),ni(r,2),Zn(r));break}}e=e.return}}function Vf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new RS;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(i)||(vf=!0,o.add(i),t=OS.bind(null,t,e,i),e.then(t,t))}function OS(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Ft===t&&(Ot&i)===i&&(ae===4||ae===3&&(Ot&62914560)===Ot&&300>on()-Af?(Pt&2)===0&&as(t,0):Ef|=i,es===Ot&&(es=0)),Zn(t)}function o_(t,e){e===0&&(e=zs()),t=Hr(t,e),t!==null&&(ni(t,e),Zn(t))}function NS(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),o_(t,i)}function MS(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(e),o_(t,i)}function IS(t,e){return va(t,e)}var Ro=null,ss=null,Of=!1,wo=!1,Nf=!1,tr=0;function Zn(t){t!==ss&&t.next===null&&(ss===null?Ro=ss=t:ss=ss.next=t),wo=!0,Of||(Of=!0,US())}function Dl(t,e){if(!Nf&&wo){Nf=!0;do for(var i=!1,r=Ro;r!==null;){if(t!==0){var o=r.pendingLanes;if(o===0)var h=0;else{var p=r.suspendedLanes,E=r.pingedLanes;h=(1<<31-Pe(42|t)+1)-1,h&=o&~(p&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,d_(r,h))}else h=Ot,h=Tr(r,r===Ft?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Ra(r,h)||(i=!0,d_(r,h));r=r.next}while(i);Nf=!1}}function xS(){c_()}function c_(){wo=Of=!1;var t=0;tr!==0&&(jS()&&(t=tr),tr=0);for(var e=on(),i=null,r=Ro;r!==null;){var o=r.next,h=h_(r,e);h===0?(r.next=null,i===null?Ro=o:i.next=o,o===null&&(ss=i)):(i=r,(t!==0||(h&3)!==0)&&(wo=!0)),r=o}Dl(t)}function h_(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-Pe(h),E=1<<p,b=o[p];b===-1?((E&i)===0||(E&r)!==0)&&(o[p]=xs(E,e)):b<=e&&(t.expiredLanes|=E),h&=~E}if(e=Ft,i=Ot,i=Tr(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(kt===2||kt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ea(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ra(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Ea(r),Ar(i)){case 2:case 8:i=vr;break;case 32:i=Ta;break;case 268435456:i=Er;break;default:i=Ta}return r=f_.bind(null,t),i=va(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Ea(r),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,e){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(bo()&&t.callbackNode!==i)return null;var r=Ot;return r=Tr(t,t===Ft?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Xy(t,r,e),h_(t,on()),t.callbackNode!=null&&t.callbackNode===i?f_.bind(null,t):null)}function d_(t,e){if(bo())return null;Xy(t,e,!0)}function US(){QS(function(){(Pt&6)!==0?va(Ms,xS):c_()})}function Mf(){return tr===0&&(tr=Us()),tr}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function g_(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function zS(t,e,i,r,o){if(e==="submit"&&i&&i.stateNode===o){var h=m_((o[he]||null).action),p=r.submitter;p&&(e=(e=p[he]||null)?m_(e.formAction):p.getAttribute("formAction"),e!==null&&(h=e,p=null));var E=new Vr("action","action",null,r,o);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(tr!==0){var b=p?g_(o,p):new FormData(o);$h(i,{pending:!0,data:b,method:o.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=p?g_(o,p):new FormData(o),$h(i,{pending:!0,data:b,method:o.method,action:h},h,b))},currentTarget:o}]})}}for(var If=0;If<ph.length;If++){var xf=ph[If],LS=xf.toLowerCase(),BS=xf[0].toUpperCase()+xf.slice(1);wn(LS,"on"+BS)}wn(Xg,"onAnimationEnd"),wn(Fg,"onAnimationIteration"),wn(Zg,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(eS,"onTransitionRun"),wn(nS,"onTransitionStart"),wn(iS,"onTransitionCancel"),wn($g,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function p_(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],o=r.event;r=r.listeners;t:{var h=void 0;if(e)for(var p=r.length-1;0<=p;p--){var E=r[p],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==h&&o.isPropagationStopped())break t;h=E,o.currentTarget=L;try{h(o)}catch(j){fo(j)}o.currentTarget=null,h=b}else for(p=0;p<r.length;p++){if(E=r[p],b=E.instance,L=E.currentTarget,E=E.listener,b!==h&&o.isPropagationStopped())break t;h=E,o.currentTarget=L;try{h(o)}catch(j){fo(j)}o.currentTarget=null,h=b}}}}function bt(t,e){var i=e[qs];i===void 0&&(i=e[qs]=new Set);var r=t+"__bubble";i.has(r)||(y_(e,t,2,!1),i.add(r))}function Uf(t,e,i){var r=0;e&&(r|=4),y_(i,t,r,e)}var Do="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[Do]){t[Do]=!0,Hs.forEach(function(i){i!=="selectionchange"&&(qS.has(i)||Uf(i,!1,t),Uf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Do]||(e[Do]=!0,Uf("selectionchange",!1,e))}}function y_(t,e,i,r){switch(P_(e)){case 2:var o=f1;break;case 8:o=d1;break;default:o=Zf}i=o.bind(null,e,i,t),o=void 0,!dn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function Lf(t,e,i,r,o){var h=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var E=r.stateNode.containerInfo;if(E===o)break;if(p===4)for(p=r.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;E!==null;){if(p=ii(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){r=h=p;continue t}E=E.parentNode}}r=r.return}Cu(function(){var L=h,j=fn(i),Q=[];t:{var B=Jg.get(t);if(B!==void 0){var q=Vr,ft=t;switch(t){case"keypress":if(Pn(i)===0)break t;case"keydown":case"keyup":q=Ur;break;case"focusin":ft="focus",q=Mr;break;case"focusout":ft="blur",q=Mr;break;case"beforeblur":case"afterblur":q=Mr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=zu;break;case Xg:case Fg:case Zg:q=Ir;break;case $g:q=Bu;break;case"scroll":case"scrollend":q=Vu;break;case"wheel":q=zr;break;case"copy":case"cut":case"paste":q=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Js;break;case"toggle":case"beforetoggle":q=Hu}var ut=(e&4)!==0,Yt=!ut&&(t==="scroll"||t==="scrollend"),M=ut?B!==null?B+"Capture":null:B;ut=[];for(var C=L,U;C!==null;){var G=C;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||M===null||(G=Ia(C,M),G!=null&&ut.push(Vl(C,G,U))),Yt)break;C=C.return}0<ut.length&&(B=new q(B,ft,null,i,j),Q.push({event:B,listeners:ut}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&i!==li&&(ft=i.relatedTarget||i.fromElement)&&(ii(ft)||ft[cn]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ft=i.relatedTarget||i.toElement,q=L,ft=ft?ii(ft):null,ft!==null&&(Yt=f(ft),ut=ft.tag,ft!==Yt||ut!==5&&ut!==27&&ut!==6)&&(ft=null)):(q=null,ft=L),q!==ft)){if(ut=mn,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ut=Js,G="onPointerLeave",M="onPointerEnter",C="pointer"),Yt=q==null?B:Ln(q),U=ft==null?B:Ln(ft),B=new ut(G,C+"leave",q,i,j),B.target=Yt,B.relatedTarget=U,G=null,ii(j)===L&&(ut=new ut(M,C+"enter",ft,i,j),ut.target=U,ut.relatedTarget=Yt,G=ut),Yt=G,q&&ft)e:{for(ut=q,M=ft,C=0,U=ut;U;U=ls(U))C++;for(U=0,G=M;G;G=ls(G))U++;for(;0<C-U;)ut=ls(ut),C--;for(;0<U-C;)M=ls(M),U--;for(;C--;){if(ut===M||M!==null&&ut===M.alternate)break e;ut=ls(ut),M=ls(M)}ut=null}else ut=null;q!==null&&__(Q,B,q,ut,!1),ft!==null&&Yt!==null&&__(Q,Yt,ft,ut,!0)}}t:{if(B=L?Ln(L):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var it=Lg;else if(ve(B))if(Bg)it=JA;else{it=ZA;var At=FA}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&Qs(L.elementType)&&(it=Lg):it=$A;if(it&&(it=it(t,L))){fi(Q,it,i,j);break t}At&&At(t,B,L),t==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&ji(B,"number",B.value)}switch(At=L?Ln(L):window,t){case"focusin":(ve(At)||At.contentEditable==="true")&&(Lr=At,dh=L,el=null);break;case"focusout":el=dh=Lr=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Yg(Q,i,j);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":Yg(Q,i,j)}var at;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Ct?H(t,i)&&(ht="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(ht="onCompositionStart");ht&&(g&&i.locale!=="ko"&&(Ct||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Ct&&(at=Ks()):(Hn=j,Gi="value"in Hn?Hn.value:Hn.textContent,Ct=!0)),At=Co(L,ht),0<At.length&&(ht=new Zs(ht,t,null,i,j),Q.push({event:ht,listeners:At}),at?ht.data=at:(at=Z(i),at!==null&&(ht.data=at)))),(at=d?_e(t,i):Vt(t,i))&&(ht=Co(L,"onBeforeInput"),0<ht.length&&(At=new Zs("onBeforeInput","beforeinput",null,i,j),Q.push({event:At,listeners:ht}),At.data=at)),zS(Q,t,L,i,j)}p_(Q,e)})}function Vl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Co(t,e){for(var i=e+"Capture",r=[];t!==null;){var o=t,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=Ia(t,i),o!=null&&r.unshift(Vl(t,o,h)),o=Ia(t,e),o!=null&&r.push(Vl(t,o,h))),t.tag===3)return r;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,e,i,r,o){for(var h=e._reactName,p=[];i!==null&&i!==r;){var E=i,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===r)break;E!==5&&E!==26&&E!==27||L===null||(b=L,o?(L=Ia(i,h),L!=null&&p.unshift(Vl(i,L,b))):o||(L=Ia(i,h),L!=null&&p.push(Vl(i,L,b)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var HS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(HS,`
`).replace(PS,"")}function E_(t,e){return e=v_(e),v_(t)===e}function Vo(){}function Qt(t,e,i,r,o,h){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||hn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&hn(t,""+r);break;case"className":Bn(t,"class",r);break;case"tabIndex":Bn(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,i,r);break;case"style":Gs(t,r,h);break;case"data":if(e!=="object"){Bn(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Cr(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Qt(t,e,"name",o.name,o,null),Qt(t,e,"formEncType",o.formEncType,o,null),Qt(t,e,"formMethod",o.formMethod,o,null),Qt(t,e,"formTarget",o.formTarget,o,null)):(Qt(t,e,"encType",o.encType,o,null),Qt(t,e,"method",o.method,o,null),Qt(t,e,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Cr(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Vo);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Cr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":bt("beforetoggle",t),bt("toggle",t),ki(t,"popover",r);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ki(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=sh.get(i)||i,ki(t,i,r))}}function Bf(t,e,i,r,o,h){switch(i){case"style":Gs(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(i=r.__html,i!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof r=="string"?hn(t,r):(typeof r=="number"||typeof r=="bigint")&&hn(t,""+r);break;case"onScroll":r!=null&&bt("scroll",t);break;case"onScrollEnd":r!=null&&bt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Vo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),e=i.slice(2,o?i.length-7:void 0),h=t[he]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,o),typeof r=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,o);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):ki(t,i,r)}}}function ze(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var r=!1,o=!1,h;for(h in i)if(i.hasOwnProperty(h)){var p=i[h];if(p!=null)switch(h){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Qt(t,e,h,p,i,null)}}o&&Qt(t,e,"srcSet",i.srcSet,i,null),r&&Qt(t,e,"src",i.src,i,null);return;case"input":bt("invalid",t);var E=h=p=o=null,b=null,L=null;for(r in i)if(i.hasOwnProperty(r)){var j=i[r];if(j!=null)switch(r){case"name":o=j;break;case"type":p=j;break;case"checked":b=j;break;case"defaultChecked":L=j;break;case"value":h=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,e));break;default:Qt(t,e,r,j,i,null)}}Oa(t,h,E,b,L,p,o,!1),Dr(t);return;case"select":bt("invalid",t),r=p=h=null;for(o in i)if(i.hasOwnProperty(o)&&(E=i[o],E!=null))switch(o){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":r=E;default:Qt(t,e,o,E,i,null)}e=h,i=p,t.multiple=!!r,e!=null?si(t,!!r,e,!1):i!=null&&si(t,!!r,i,!0);return;case"textarea":bt("invalid",t),h=o=r=null;for(p in i)if(i.hasOwnProperty(p)&&(E=i[p],E!=null))switch(p){case"value":r=E;break;case"defaultValue":o=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(t,e,p,E,i,null)}Na(t,r,o,h),Dr(t);return;case"option":for(b in i)if(i.hasOwnProperty(b)&&(r=i[b],r!=null))switch(b){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qt(t,e,b,r,i,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(r=0;r<Cl.length;r++)bt(Cl[r],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in i)if(i.hasOwnProperty(L)&&(r=i[L],r!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Qt(t,e,L,r,i,null)}return;default:if(Qs(e)){for(j in i)i.hasOwnProperty(j)&&(r=i[j],r!==void 0&&Bf(t,e,j,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&Qt(t,e,E,r,i,null))}function kS(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,p=null,E=null,b=null,L=null,j=null;for(q in i){var Q=i[q];if(i.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Q;default:r.hasOwnProperty(q)||Qt(t,e,q,null,r,Q)}}for(var B in r){var q=r[B];if(Q=i[B],r.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":h=q;break;case"name":o=q;break;case"checked":L=q;break;case"defaultChecked":j=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,e));break;default:q!==Q&&Qt(t,e,B,q,r,Q)}}tn(t,p,E,b,L,j,h,o);return;case"select":q=p=E=B=null;for(h in i)if(b=i[h],i.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":q=b;default:r.hasOwnProperty(h)||Qt(t,e,h,null,r,b)}for(o in r)if(h=r[o],b=i[o],r.hasOwnProperty(o)&&(h!=null||b!=null))switch(o){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==b&&Qt(t,e,o,h,r,b)}e=E,i=p,r=q,B!=null?si(t,!!i,B,!1):!!r!=!!i&&(e!=null?si(t,!!i,e,!0):si(t,!!i,i?[]:"",!1));return;case"textarea":q=B=null;for(E in i)if(o=i[E],i.hasOwnProperty(E)&&o!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,e,E,null,r,o)}for(p in r)if(o=r[p],h=i[p],r.hasOwnProperty(p)&&(o!=null||h!=null))switch(p){case"value":B=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==h&&Qt(t,e,p,o,r,h)}jt(t,B,q);return;case"option":for(var ft in i)if(B=i[ft],i.hasOwnProperty(ft)&&B!=null&&!r.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Qt(t,e,ft,null,r,B)}for(b in r)if(B=r[b],q=i[b],r.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(t,e,b,B,r,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in i)B=i[ut],i.hasOwnProperty(ut)&&B!=null&&!r.hasOwnProperty(ut)&&Qt(t,e,ut,null,r,B);for(L in r)if(B=r[L],q=i[L],r.hasOwnProperty(L)&&B!==q&&(B!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,e));break;default:Qt(t,e,L,B,r,q)}return;default:if(Qs(e)){for(var Yt in i)B=i[Yt],i.hasOwnProperty(Yt)&&B!==void 0&&!r.hasOwnProperty(Yt)&&Bf(t,e,Yt,void 0,r,B);for(j in r)B=r[j],q=i[j],!r.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||Bf(t,e,j,B,r,q);return}}for(var M in i)B=i[M],i.hasOwnProperty(M)&&B!=null&&!r.hasOwnProperty(M)&&Qt(t,e,M,null,r,B);for(Q in r)B=r[Q],q=i[Q],!r.hasOwnProperty(Q)||B===q||B==null&&q==null||Qt(t,e,Q,B,r,q)}var qf=null,Hf=null;function Oo(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Pf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kf=null;function jS(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,GS=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(t){return b_.resolve(null).then(t).catch(YS)}:S_;function YS(t){setTimeout(function(){throw t})}function sa(t){return t==="head"}function R_(t,e){var i=e,r=0,o=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<r&&8>r){i=r;var p=t.ownerDocument;if(i&1&&Ol(p.documentElement),i&2&&Ol(p.body),i&4)for(i=p.head,Ol(i),p=i.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[wa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=E}}if(o===0){t.removeChild(h),Bl(e);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:r=i.charCodeAt(0)-48;else r=0;i=h}while(i);Bl(e)}function jf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":jf(i),Pi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function KS(t,e,i,r){for(;t.nodeType===1;){var o=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[wa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function XS(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cn(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function FS(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Qf=null;function w_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function D_(t,e,i){switch(e=Oo(i),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Pi(t)}var Tn=new Map,C_=new Set;function No(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=$.d;$.d={f:ZS,r:$S,D:JS,C:WS,L:t1,m:e1,X:i1,S:n1,M:a1};function ZS(){var t=Ri.f(),e=Ao();return t||e}function $S(t){var e=zn(t);e!==null&&e.tag===5&&e.type==="form"?Xp(e):Ri.r(t)}var us=typeof document>"u"?null:document;function V_(t,e,i){var r=us;if(r&&typeof e=="string"&&e){var o=fe(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),C_.has(o)||(C_.add(o),t={rel:t,crossOrigin:i,href:e},r.querySelector(o)===null&&(e=r.createElement("link"),ze(e,"link",t),le(e),r.head.appendChild(e)))}}function JS(t){Ri.D(t),V_("dns-prefetch",t,null)}function WS(t,e){Ri.C(t,e),V_("preconnect",t,e)}function t1(t,e,i){Ri.L(t,e,i);var r=us;if(r&&t&&e){var o='link[rel="preload"][as="'+fe(e)+'"]';e==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+fe(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+fe(i.imageSizes)+'"]')):o+='[href="'+fe(t)+'"]';var h=o;switch(e){case"style":h=os(t);break;case"script":h=cs(t)}Tn.has(h)||(t=A({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Tn.set(h,t),r.querySelector(o)!==null||e==="style"&&r.querySelector(Nl(h))||e==="script"&&r.querySelector(Ml(h))||(e=r.createElement("link"),ze(e,"link",t),le(e),r.head.appendChild(e)))}}function e1(t,e){Ri.m(t,e);var i=us;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+fe(r)+'"][href="'+fe(t)+'"]',h=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=cs(t)}if(!Tn.has(h)&&(t=A({rel:"modulepreload",href:t},e),Tn.set(h,t),i.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ml(h)))return}r=i.createElement("link"),ze(r,"link",t),le(r),i.head.appendChild(r)}}}function n1(t,e,i){Ri.S(t,e,i);var r=us;if(r&&t){var o=Ge(r).hoistableStyles,h=os(t);e=e||"default";var p=o.get(h);if(!p){var E={loading:0,preload:null};if(p=r.querySelector(Nl(h)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Tn.get(h))&&Yf(t,i);var b=p=r.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(L,j){b.onload=L,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mo(p,e,r)}p={type:"stylesheet",instance:p,count:1,state:E},o.set(h,p)}}}function i1(t,e){Ri.X(t,e);var i=us;if(i&&t){var r=Ge(i).hoistableScripts,o=cs(t),h=r.get(o);h||(h=i.querySelector(Ml(o)),h||(t=A({src:t,async:!0},e),(e=Tn.get(o))&&Kf(t,e),h=i.createElement("script"),le(h),ze(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function a1(t,e){Ri.M(t,e);var i=us;if(i&&t){var r=Ge(i).hoistableScripts,o=cs(t),h=r.get(o);h||(h=i.querySelector(Ml(o)),h||(t=A({src:t,async:!0,type:"module"},e),(e=Tn.get(o))&&Kf(t,e),h=i.createElement("script"),le(h),ze(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(o,h))}}function O_(t,e,i,r){var o=(o=dt.current)?No(o):null;if(!o)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=os(i.href),i=Ge(o).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=os(i.href);var h=Ge(o).hoistableStyles,p=h.get(t);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=o.querySelector(Nl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),Tn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Tn.set(t,i),h||r1(o,t,i,p.state))),e&&r===null)throw Error(s(528,""));return p}if(e&&r!==null)throw Error(s(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=cs(i),i=Ge(o).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function os(t){return'href="'+fe(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function N_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function r1(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),ze(e,"link",i),le(e),t.head.appendChild(e))}function cs(t){return'[src="'+fe(t)+'"]'}function Ml(t){return"script[async]"+t}function M_(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+fe(i.href)+'"]');if(r)return e.instance=r,le(r),r;var o=A({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),le(r),ze(r,"style",o),Mo(r,i.precedence,t),e.instance=r;case"stylesheet":o=os(i.href);var h=t.querySelector(Nl(o));if(h)return e.state.loading|=4,e.instance=h,le(h),h;r=N_(i),(o=Tn.get(o))&&Yf(r,o),h=(t.ownerDocument||t).createElement("link"),le(h);var p=h;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(h,"link",r),e.state.loading|=4,Mo(h,i.precedence,t),e.instance=h;case"script":return h=cs(i.src),(o=t.querySelector(Ml(h)))?(e.instance=o,le(o),o):(r=i,(o=Tn.get(h))&&(r=A({},i),Kf(r,o)),t=t.ownerDocument||t,o=t.createElement("script"),le(o),ze(o,"link",r),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Mo(r,i.precedence,t));return e.instance}function Mo(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,h=o,p=0;p<r.length;p++){var E=r[p];if(E.dataset.precedence===e)h=E;else if(h!==o)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Yf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Kf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Io=null;function I_(t,e,i){if(Io===null){var r=new Map,o=Io=new Map;o.set(i,r)}else o=Io,r=o.get(i),r||(r=new Map,o.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),o=0;o<i.length;o++){var h=i[o];if(!(h[wa]||h[ye]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(e)||"";p=t+p;var E=r.get(p);E?E.push(h):r.set(p,[h])}}return r}function x_(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function s1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function U_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function l1(){}function u1(t,e,i){if(Il===null)throw Error(s(475));var r=Il;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var o=os(i.href),h=t.querySelector(Nl(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=xo.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=h,le(h);return}h=t.ownerDocument||t,i=N_(i),(o=Tn.get(o))&&Yf(i,o),h=h.createElement("link"),le(h);var p=h;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(h,"link",i),e.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=xo.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function o1(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function xo(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uo=null;function Xf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uo=new Map,e.forEach(c1,t),Uo=null,xo.call(t))}function c1(t,e){if(!(e.state.loading&4)){var i=Uo.get(t);if(i)var r=i.get(null);else{i=new Map,Uo.set(t,i);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var p=o[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),r=p)}r&&i.set(null,r)}o=e.instance,p=o.getAttribute("data-precedence"),h=i.get(p)||r,h===r&&i.set(null,o),i.set(p,o),this.count++,r=xo.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),h?h.parentNode.insertBefore(o,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var xl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function h1(t,e,i,r,o,h,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function z_(t,e,i,r,o,h,p,E,b,L,j,Q){return t=new h1(t,e,i,p,E,b,L,Q),e=1,h===!0&&(e|=24),h=nn(3,null,null,e),t.current=h,h.stateNode=t,e=Ch(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:e},Mh(h),t}function L_(t){return t?(t=Pr,t):Pr}function B_(t,e,i,r,o,h){o=L_(o),r.context===null?r.context=o:r.pendingContext=o,r=Ki(e),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=Xi(t,r,e),i!==null&&(un(i,t,e),cl(i,t,e))}function q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Ff(t,e){q_(t,e),(t=t.alternate)&&q_(t,e)}function H_(t){if(t.tag===13){var e=Hr(t,67108864);e!==null&&un(e,t,67108864),Ff(t,67108864)}}var zo=!0;function f1(t,e,i,r){var o=k.T;k.T=null;var h=$.p;try{$.p=2,Zf(t,e,i,r)}finally{$.p=h,k.T=o}}function d1(t,e,i,r){var o=k.T;k.T=null;var h=$.p;try{$.p=8,Zf(t,e,i,r)}finally{$.p=h,k.T=o}}function Zf(t,e,i,r){if(zo){var o=$f(r);if(o===null)Lf(t,e,r,Lo,i),k_(t,r);else if(g1(o,t,e,i,r))r.stopPropagation();else if(k_(t,r),e&4&&-1<m1.indexOf(t)){for(;o!==null;){var h=zn(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Sn(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-Pe(p);E.entanglements[1]|=b,p&=~b}Zn(h),(Pt&6)===0&&(Eo=on()+500,Dl(0))}}break;case 13:E=Hr(h,2),E!==null&&un(E,h,2),Ao(),Ff(h,2)}if(h=$f(r),h===null&&Lf(t,e,r,Lo,i),h===o)break;o=h}o!==null&&r.stopPropagation()}else Lf(t,e,r,null,i)}}function $f(t){return t=fn(t),Jf(t)}var Lo=null;function Jf(t){if(Lo=null,t=ii(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Lo=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(th()){case Ms:return 2;case vr:return 8;case Ta:case eh:return 32;case Er:return 268435456;default:return 32}default:return 32}}var Wf=!1,la=null,ua=null,oa=null,Ul=new Map,zl=new Map,ca=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(t,e){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Ll(t,e,i,r,o,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[o]},e!==null&&(e=zn(e),e!==null&&H_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function g1(t,e,i,r,o){switch(e){case"focusin":return la=Ll(la,t,e,i,r,o),!0;case"dragenter":return ua=Ll(ua,t,e,i,r,o),!0;case"mouseover":return oa=Ll(oa,t,e,i,r,o),!0;case"pointerover":var h=o.pointerId;return Ul.set(h,Ll(Ul.get(h)||null,t,e,i,r,o)),!0;case"gotpointercapture":return h=o.pointerId,zl.set(h,Ll(zl.get(h)||null,t,e,i,r,o)),!0}return!1}function j_(t){var e=ii(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,Tu(t.priority,function(){if(i.tag===13){var r=ln();r=Bi(r);var o=Hr(i,r);o!==null&&un(o,i,r),Ff(i,r)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=$f(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);li=r,i.target.dispatchEvent(r),li=null}else return e=zn(i),e!==null&&H_(e),t.blockedOn=i,!1;e.shift()}return!0}function G_(t,e,i){Bo(t)&&i.delete(e)}function p1(){Wf=!1,la!==null&&Bo(la)&&(la=null),ua!==null&&Bo(ua)&&(ua=null),oa!==null&&Bo(oa)&&(oa=null),Ul.forEach(G_),zl.forEach(G_)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Wf||(Wf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,p1)))}var Ho=null;function Q_(t){Ho!==t&&(Ho=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ho===t&&(Ho=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],o=t[e+2];if(typeof r!="function"){if(Jf(r||i)===null)continue;break}var h=zn(i);h!==null&&(t.splice(e,3),e-=3,$h(h,{pending:!0,data:o,method:i.method,action:r},r,o))}}))}function Bl(t){function e(b){return qo(b,t)}la!==null&&qo(la,t),ua!==null&&qo(ua,t),oa!==null&&qo(oa,t),Ul.forEach(e),zl.forEach(e);for(var i=0;i<ca.length;i++){var r=ca[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ca.length&&(i=ca[0],i.blockedOn===null);)j_(i),i.blockedOn===null&&ca.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var o=i[r],h=i[r+1],p=o[he]||null;if(typeof h=="function")p||Q_(i);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(o=h,p=h[he]||null)E=p.formAction;else if(Jf(o)!==null)continue}else E=p.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),Q_(i)}}}function td(t){this._internalRoot=t}Po.prototype.render=td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var i=e.current,r=ln();B_(i,r,t,e,null,null)},Po.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;B_(t.current,2,null,t,null,null),Ao(),e[cn]=null}};function Po(t){this._internalRoot=t}Po.prototype.unstable_scheduleHydration=function(t){if(t){var e=qi();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ca.length&&e!==0&&e<ca[i].priority;i++);ca.splice(i,0,t),i===0&&j_(t)}};var Y_=n.version;if(Y_!=="19.1.0")throw Error(s(527,Y_,"19.1.0"));$.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(e),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var y1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{ne=ko.inject(y1),Ht=ko}catch{}}return fs.createRoot=function(t,e){if(!c(t))throw Error(s(299));var i=!1,r="",o=uy,h=oy,p=cy,E=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=z_(t,1,!1,null,null,i,r,o,h,p,E,null),t[cn]=e.current,zf(t),new td(e)},fs.hydrateRoot=function(t,e,i){if(!c(t))throw Error(s(299));var r=!1,o="",h=uy,p=oy,E=cy,b=null,L=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks),i.formState!==void 0&&(L=i.formState)),e=z_(t,1,!0,e,i??null,r,o,h,p,E,b,L),e.context=L_(null),i=e.current,r=ln(),r=Bi(r),o=Ki(r),o.callback=null,Xi(i,o,r),i=r,e.current.lanes=i,ni(e,i),Zn(e),t[cn]=e.current,zf(t),new Po(e)},fs.version="19.1.0",fs}var hd;function nv(){if(hd)return Yo.exports;hd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Yo.exports=ev(),Yo.exports}var iv=nv();const av=ed(iv),rv=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=function(l){const n=[];let a=0;for(let s=0;s<l.length;s++){let c=l.charCodeAt(s);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&s+1<l.length&&(l.charCodeAt(s+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++s)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},sv=function(l){const n=[];let a=0,s=0;for(;a<l.length;){const c=l[a++];if(c<128)n[s++]=String.fromCharCode(c);else if(c>191&&c<224){const f=l[a++];n[s++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=l[a++],m=l[a++],y=l[a++],_=((c&7)<<18|(f&63)<<12|(m&63)<<6|y&63)-65536;n[s++]=String.fromCharCode(55296+(_>>10)),n[s++]=String.fromCharCode(56320+(_&1023))}else{const f=l[a++],m=l[a++];n[s++]=String.fromCharCode((c&15)<<12|(f&63)<<6|m&63)}}return n.join("")},dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let c=0;c<l.length;c+=3){const f=l[c],m=c+1<l.length,y=m?l[c+1]:0,_=c+2<l.length,v=_?l[c+2]:0,A=f>>2,z=(f&3)<<4|y>>4;let P=(y&15)<<2|v>>6,X=v&63;_||(X=64,m||(P=64)),s.push(a[A],a[z],a[P],a[X])}return s.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(fd(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):sv(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let c=0;c<l.length;){const f=a[l.charAt(c++)],y=c<l.length?a[l.charAt(c)]:0;++c;const v=c<l.length?a[l.charAt(c)]:64;++c;const z=c<l.length?a[l.charAt(c)]:64;if(++c,f==null||y==null||v==null||z==null)throw new lv;const P=f<<2|y>>4;if(s.push(P),v!==64){const X=y<<4&240|v>>2;if(s.push(X),z!==64){const et=v<<6&192|z;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class lv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uv=function(l){const n=fd(l);return dd.encodeByteArray(n,!0)},Hl=function(l){return uv(l).replace(/\./g,"")},ov=function(l){try{return dd.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=()=>cv().__FIREBASE_DEFAULTS__,fv=()=>{if(typeof process>"u"||typeof process.env>"u")return;const l=process.env.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},dv=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&ov(l[1]);return n&&JSON.parse(n)},Zo=()=>{try{return rv()||hv()||fv()||dv()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},mv=l=>{var n,a;return(a=(n=Zo())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[l]},gv=l=>{const n=mv(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),s]:[n.substring(0,a),s]},md=()=>{var l;return(l=Zo())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=n||"demo-project",c=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[Hl(JSON.stringify(a)),Hl(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vv(){var l;const n=(l=Zo())===null||l===void 0?void 0:l.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ev(){return!vv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tv(){try{return typeof indexedDB=="object"}catch{return!1}}function Av(){return new Promise((l,n)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(s);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(s),l(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{var f;n(((f=c.error)===null||f===void 0?void 0:f.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="FirebaseError";class er extends Error{constructor(n,a,s){super(a),this.code=n,this.customData=s,this.name=Sv,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(n,a,s){this.service=n,this.serviceName=a,this.errors=s}create(n,...a){const s=a[0]||{},c=`${this.service}/${n}`,f=this.errors[n],m=f?bv(f,s):"Error",y=`${this.serviceName}: ${m} (${c}).`;return new er(c,y,s)}}function bv(l,n){return l.replace(Rv,(a,s)=>{const c=n[s];return c!=null?String(c):`<${s}?>`})}const Rv=/\{\$([^}]+)}/g;function Pl(l,n){if(l===n)return!0;const a=Object.keys(l),s=Object.keys(n);for(const c of a){if(!s.includes(c))return!1;const f=l[c],m=n[c];if(pd(f)&&pd(m)){if(!Pl(f,m))return!1}else if(f!==m)return!1}for(const c of s)if(!a.includes(c))return!1;return!0}function pd(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(l){return l&&l._delegate?l._delegate:l}class ds{constructor(n,a,s){this.name=n,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const s=new pv;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&s.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),c=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(c)return null;throw f}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Vv(n))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:c});s.resolve(f)}catch{}}}}clearInstance(n=fa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=fa){return this.instances.has(n)}getOptions(n=fa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[f,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&m.resolve(c)}return c}onInit(n,a){var s;const c=this.normalizeInstanceIdentifier(a),f=(s=this.onInitCallbacks.get(c))!==null&&s!==void 0?s:new Set;f.add(n),this.onInitCallbacks.set(c,f);const m=this.instances.get(c);return m&&n(m,c),()=>{f.delete(n)}}invokeOnInitCallbacks(n,a){const s=this.onInitCallbacks.get(a);if(s)for(const c of s)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Cv(n),options:a}),this.instances.set(n,s),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=fa){return this.component?this.component.multipleInstances?n:fa:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cv(l){return l===fa?void 0:l}function Vv(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new Dv(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Rt||(Rt={}));const Nv={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},Mv=Rt.INFO,Iv={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},xv=(l,n,...a)=>{if(n<l.logLevel)return;const s=new Date().toISOString(),c=Iv[n];if(c)console[c](`[${s}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class yd{constructor(n){this.name=n,this._logLevel=Mv,this._logHandler=xv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Rt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Nv[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...n),this._logHandler(this,Rt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...n),this._logHandler(this,Rt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...n),this._logHandler(this,Rt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...n),this._logHandler(this,Rt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...n),this._logHandler(this,Rt.ERROR,...n)}}const Uv=(l,n)=>n.some(a=>l instanceof a);let _d,vd;function zv(){return _d||(_d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lv(){return vd||(vd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ed=new WeakMap,$o=new WeakMap,Td=new WeakMap,Jo=new WeakMap,Wo=new WeakMap;function Bv(l){const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("success",f),l.removeEventListener("error",m)},f=()=>{a(wi(l.result)),c()},m=()=>{s(l.error),c()};l.addEventListener("success",f),l.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&Ed.set(a,l)}).catch(()=>{}),Wo.set(n,l),n}function qv(l){if($o.has(l))return;const n=new Promise((a,s)=>{const c=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",m),l.removeEventListener("abort",m)},f=()=>{a(),c()},m=()=>{s(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",f),l.addEventListener("error",m),l.addEventListener("abort",m)});$o.set(l,n)}let tc={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return $o.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Td.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return wi(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function Hv(l){tc=l(tc)}function Pv(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const s=l.call(ec(this),n,...a);return Td.set(s,n.sort?n.sort():[n]),wi(s)}:Lv().includes(l)?function(...n){return l.apply(ec(this),n),wi(Ed.get(this))}:function(...n){return wi(l.apply(ec(this),n))}}function kv(l){return typeof l=="function"?Pv(l):(l instanceof IDBTransaction&&qv(l),Uv(l,zv())?new Proxy(l,tc):l)}function wi(l){if(l instanceof IDBRequest)return Bv(l);if(Jo.has(l))return Jo.get(l);const n=kv(l);return n!==l&&(Jo.set(l,n),Wo.set(n,l)),n}const ec=l=>Wo.get(l);function jv(l,n,{blocked:a,upgrade:s,blocking:c,terminated:f}={}){const m=indexedDB.open(l,n),y=wi(m);return s&&m.addEventListener("upgradeneeded",_=>{s(wi(m.result),_.oldVersion,_.newVersion,wi(m.transaction),_)}),a&&m.addEventListener("blocked",_=>a(_.oldVersion,_.newVersion,_)),y.then(_=>{f&&_.addEventListener("close",()=>f()),c&&_.addEventListener("versionchange",v=>c(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const Gv=["get","getKey","getAll","getAllKeys","count"],Qv=["put","add","delete","clear"],nc=new Map;function Ad(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(nc.get(n))return nc.get(n);const a=n.replace(/FromIndex$/,""),s=n!==a,c=Qv.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(c||Gv.includes(a)))return;const f=async function(m,...y){const _=this.transaction(m,c?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(y.shift())),(await Promise.all([v[a](...y),c&&_.done]))[0]};return nc.set(n,f),f}Hv(l=>({...l,get:(n,a,s)=>Ad(n,a)||l.get(n,a,s),has:(n,a)=>!!Ad(n,a)||l.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Kv(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function Kv(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const ic="@firebase/app",Sd="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new yd("@firebase/app"),Xv="@firebase/app-compat",Fv="@firebase/analytics-compat",Zv="@firebase/analytics",$v="@firebase/app-check-compat",Jv="@firebase/app-check",Wv="@firebase/auth",t0="@firebase/auth-compat",e0="@firebase/database",n0="@firebase/data-connect",i0="@firebase/database-compat",a0="@firebase/functions",r0="@firebase/functions-compat",s0="@firebase/installations",l0="@firebase/installations-compat",u0="@firebase/messaging",o0="@firebase/messaging-compat",c0="@firebase/performance",h0="@firebase/performance-compat",f0="@firebase/remote-config",d0="@firebase/remote-config-compat",m0="@firebase/storage",g0="@firebase/storage-compat",p0="@firebase/firestore",y0="@firebase/vertexai",_0="@firebase/firestore-compat",v0="firebase",E0="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]",T0={[ic]:"fire-core",[Xv]:"fire-core-compat",[Zv]:"fire-analytics",[Fv]:"fire-analytics-compat",[Jv]:"fire-app-check",[$v]:"fire-app-check-compat",[Wv]:"fire-auth",[t0]:"fire-auth-compat",[e0]:"fire-rtdb",[n0]:"fire-data-connect",[i0]:"fire-rtdb-compat",[a0]:"fire-fn",[r0]:"fire-fn-compat",[s0]:"fire-iid",[l0]:"fire-iid-compat",[u0]:"fire-fcm",[o0]:"fire-fcm-compat",[c0]:"fire-perf",[h0]:"fire-perf-compat",[f0]:"fire-rc",[d0]:"fire-rc-compat",[m0]:"fire-gcs",[g0]:"fire-gcs-compat",[p0]:"fire-fst",[_0]:"fire-fst-compat",[y0]:"fire-vertex","fire-js":"fire-js",[v0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,A0=new Map,rc=new Map;function bd(l,n){try{l.container.addComponent(n)}catch(a){$n.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function jl(l){const n=l.name;if(rc.has(n))return $n.debug(`There were multiple attempts to register component ${n}.`),!1;rc.set(n,l);for(const a of kl.values())bd(a,l);for(const a of A0.values())bd(a,l);return!0}function S0(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function b0(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new gd("app","Firebase",R0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(n,a,s){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=E0;function Rd(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const s=Object.assign({name:ac,automaticDataCollectionEnabled:!1},n),c=s.name;if(typeof c!="string"||!c)throw Di.create("bad-app-name",{appName:String(c)});if(a||(a=md()),!a)throw Di.create("no-options");const f=kl.get(c);if(f){if(Pl(a,f.options)&&Pl(s,f.config))return f;throw Di.create("duplicate-app",{appName:c})}const m=new Ov(c);for(const _ of rc.values())m.addComponent(_);const y=new w0(a,s,m);return kl.set(c,y),y}function C0(l=ac){const n=kl.get(l);if(!n&&l===ac&&md())return Rd();if(!n)throw Di.create("no-app",{appName:l});return n}function nr(l,n,a){var s;let c=(s=T0[l])!==null&&s!==void 0?s:l;a&&(c+=`-${a}`);const f=c.match(/\s|\//),m=n.match(/\s|\//);if(f||m){const y=[`Unable to register library "${c}" with version "${n}":`];f&&y.push(`library name "${c}" contains illegal characters (whitespace or "/")`),f&&m&&y.push("and"),m&&y.push(`version name "${n}" contains illegal characters (whitespace or "/")`),$n.warn(y.join(" "));return}jl(new ds(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firebase-heartbeat-database",O0=1,ms="firebase-heartbeat-store";let sc=null;function wd(){return sc||(sc=jv(V0,O0,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(ms)}catch(a){console.warn(a)}}}}).catch(l=>{throw Di.create("idb-open",{originalErrorMessage:l.message})})),sc}async function N0(l){try{const a=(await wd()).transaction(ms),s=await a.objectStore(ms).get(Cd(l));return await a.done,s}catch(n){if(n instanceof er)$n.warn(n.message);else{const a=Di.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});$n.warn(a.message)}}}async function Dd(l,n){try{const s=(await wd()).transaction(ms,"readwrite");await s.objectStore(ms).put(n,Cd(l)),await s.done}catch(a){if(a instanceof er)$n.warn(a.message);else{const s=Di.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});$n.warn(s.message)}}}function Cd(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=1024,I0=30;class x0{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new z0(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,a;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Vd();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(m=>m.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>I0){const m=L0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$n.warn(s)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Vd(),{heartbeatsToSend:s,unsentEntries:c}=U0(this._heartbeatsCache.heartbeats),f=Hl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(a){return $n.warn(a),""}}}function Vd(){return new Date().toISOString().substring(0,10)}function U0(l,n=M0){const a=[];let s=l.slice();for(const c of l){const f=a.find(m=>m.agent===c.agent);if(f){if(f.dates.push(c.date),Od(a)>n){f.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),Od(a)>n){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class z0{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tv()?Av().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await N0(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const c=await this.read();return Dd(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const c=await this.read();return Dd(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Od(l){return Hl(JSON.stringify({version:2,heartbeats:l})).length}function L0(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let s=1;s<l.length;s++)l[s].date<a&&(a=l[s].date,n=s);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(l){jl(new ds("platform-logger",n=>new Yv(n),"PRIVATE")),jl(new ds("heartbeat",n=>new x0(n),"PRIVATE")),nr(ic,Sd,l),nr(ic,Sd,"esm2017"),nr("fire-js","")}B0("");var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,Md;(function(){var l;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function n(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,N,I){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[N].apply(V,R)}}function a(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(s,a),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(O,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],N=O.g[2];var I=O.g[3],R=S+(I^w&(N^I))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[1]+3905402710&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[2]+606105819&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(I^w&(N^I))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[5]+1200080426&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[6]+2821735955&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(I^w&(N^I))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[9]+2336552879&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[10]+4294925233&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(I^w&(N^I))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=I+(N^S&(w^N))+V[13]+4254626195&4294967295,I=S+(R<<12&4294967295|R>>>20),R=N+(w^I&(S^w))+V[14]+2792965006&4294967295,N=I+(R<<17&4294967295|R>>>15),R=w+(S^N&(I^S))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^I&(w^N))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[6]+3225465664&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[11]+643717713&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^I&(w^N))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[10]+38016083&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[15]+3634488961&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^I&(w^N))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[14]+3275163606&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[3]+4107603335&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^I&(w^N))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=I+(w^N&(S^w))+V[2]+4243563512&4294967295,I=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(I^S))+V[7]+1735328473&4294967295,N=I+(R<<14&4294967295|R>>>18),R=w+(I^S&(N^I))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^I)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[8]+2272392833&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[11]+1839030562&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^I)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[4]+1272893353&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[7]+4139469664&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^I)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[0]+3936430074&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[3]+3572445317&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^I)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=I+(S^w^N)+V[12]+3873151461&4294967295,I=S+(R<<11&4294967295|R>>>21),R=N+(I^S^w)+V[15]+530742520&4294967295,N=I+(R<<16&4294967295|R>>>16),R=w+(N^I^S)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~I))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[7]+1126891415&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[14]+2878612391&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~I))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[3]+2399980690&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[10]+4293915773&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~I))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[15]+4264355552&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[6]+2734768916&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~I))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=I+(w^(S|~N))+V[11]+3174756917&4294967295,I=S+(R<<10&4294967295|R>>>22),R=N+(S^(I|~w))+V[2]+718787259&4294967295,N=I+(R<<15&4294967295|R>>>17),R=w+(I^(N|~S))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+I&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,V=this.B,N=this.h,I=0;I<S;){if(N==0)for(;I<=w;)c(this,O,I),I+=this.blockSize;if(typeof O=="string"){for(;I<S;)if(V[N++]=O.charCodeAt(I++),N==this.blockSize){c(this,V),N=0;break}}else for(;I<S;)if(V[N++]=O[I++],N==this.blockSize){c(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)O[w++]=this.g[S]>>>V&255;return O};function f(O,S){var w=y;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function m(O,S){this.h=S;for(var w=[],V=!0,N=O.length-1;0<=N;N--){var I=O[N]|0;V&&I==S||(w[N]=I,V=!1)}this.g=w}var y={};function _(O){return-128<=O&&128>O?f(O,function(S){return new m([S|0],0>S?-1:0)}):new m([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return z;if(0>O)return tt(v(-O));for(var S=[],w=1,V=0;O>=w;V++)S[V]=O/w|0,w*=4294967296;return new m(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return tt(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=z,N=0;N<O.length;N+=8){var I=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+I),S);8>I?(I=v(Math.pow(S,I)),V=V.j(I).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var z=_(0),P=_(1),X=_(16777216);l=m.prototype,l.m=function(){if(st(this))return-tt(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*S,S*=4294967296}return O},l.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(et(this))return"0";if(st(this))return"-"+tt(this).toString(O);for(var S=v(Math.pow(O,6)),w=this,V="";;){var N=Lt(w,S).g;w=qt(w,N.j(S));var I=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,et(w))return I+V;for(;6>I.length;)I="0"+I;V=I+V}},l.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function et(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function st(O){return O.h==-1}l.l=function(O){return O=qt(this,O),st(O)?-1:et(O)?0:1};function tt(O){for(var S=O.g.length,w=[],V=0;V<S;V++)w[V]=~O.g[V];return new m(w,~O.h).add(P)}l.abs=function(){return st(this)?tt(this):this},l.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0,N=0;N<=S;N++){var I=V+(this.i(N)&65535)+(O.i(N)&65535),R=(I>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=R>>>16,I&=65535,R&=65535,w[N]=R<<16|I}return new m(w,w[w.length-1]&-2147483648?-1:0)};function qt(O,S){return O.add(tt(S))}l.j=function(O){if(et(this)||et(O))return z;if(st(this))return st(O)?tt(this).j(tt(O)):tt(tt(this).j(O));if(st(O))return tt(this.j(tt(O)));if(0>this.l(X)&&0>O.l(X))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<O.g.length;N++){var I=this.i(V)>>>16,R=this.i(V)&65535,Ne=O.i(N)>>>16,ee=O.i(N)&65535;w[2*V+2*N]+=R*ee,Mt(w,2*V+2*N),w[2*V+2*N+1]+=I*ee,Mt(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Ne,Mt(w,2*V+2*N+1),w[2*V+2*N+2]+=I*Ne,Mt(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function Mt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function _t(O,S){this.g=O,this.h=S}function Lt(O,S){if(et(S))throw Error("division by zero");if(et(O))return new _t(z,z);if(st(O))return S=Lt(tt(O),S),new _t(tt(S.g),tt(S.h));if(st(S))return S=Lt(O,tt(S)),new _t(tt(S.g),S.h);if(30<O.g.length){if(st(O)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var w=P,V=S;0>=V.l(O);)w=gt(w),V=gt(V);var N=xt(w,1),I=xt(V,1);for(V=xt(V,2),w=xt(w,2);!et(V);){var R=I.add(V);0>=R.l(O)&&(N=N.add(w),I=R),V=xt(V,1),w=xt(w,1)}return S=qt(O,N.j(S)),new _t(N,S)}for(N=z;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),I=v(w),R=I.j(S);st(R)||0<R.l(O);)w-=V,I=v(w),R=I.j(S);et(I)&&(I=P),N=N.add(I),O=qt(O,R)}return new _t(N,O)}l.A=function(O){return Lt(this,O).h},l.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&O.i(V);return new m(w,this.h&O.h)},l.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|O.i(V);return new m(w,this.h|O.h)},l.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^O.i(V);return new m(w,this.h^O.h)};function gt(O){for(var S=O.g.length+1,w=[],V=0;V<S;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new m(w,O.h)}function xt(O,S){var w=S>>5;S%=32;for(var V=O.g.length-w,N=[],I=0;I<V;I++)N[I]=0<S?O.i(I+w)>>>S|O.i(I+w+1)<<32-S:O.i(I+w);return new m(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Md=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=v,m.fromString=A,Ci=m}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Id,gs,xd,Ql,lc,Ud,zd,Ld;(function(){var l,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=a(this);function c(u,d){if(d)t:{var g=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in g))break t;g=g[x]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&n(g,u,{configurable:!0,writable:!0,value:d})}}function f(u,d){u instanceof String&&(u+="");var g=0,T=!1,x={next:function(){if(!T&&g<u.length){var H=g++;return{value:d(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}c("Array.prototype.values",function(u){return u||function(){return f(this,function(d,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var m=m||{},y=this||self;function _(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function v(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function z(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),u.apply(d,x)}}return function(){return u.apply(d,arguments)}}function P(u,d,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:z,P.apply(null,arguments)}function X(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function et(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,x,H){for(var Z=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Z[Ct-2]=arguments[Ct];return d.prototype[x].apply(T,Z)}}function st(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function tt(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=u.length||0,H=T.length||0;u.length=x+H;for(let Z=0;Z<H;Z++)u[x+Z]=T[Z]}else u.push(T)}}class qt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Mt(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var gt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function xt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function O(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)u[g]=T[g];for(let H=0;H<w.length;H++)g=w[H],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function I(u){y.setTimeout(()=>{throw u},0)}function R(){var u=Ut;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Ne{constructor(){this.h=this.g=null}add(d,g){const T=ee.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new qt(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,rt=!1,Ut=new Ne,D=()=>{const u=y.Promise.resolve(void 0);$=()=>{u.then(K)}};var K=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){I(g)}var d=ee;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}rt=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function Tt(u,d){if(F.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(gt){t:{try{Lt(d.nodeName);var x=!0;break t}catch{}x=!1}x||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:dt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}et(Tt,F);var dt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function xn(u,d,g,T,x){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=x,this.key=++Xt,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ti(u){this.src=u,this.g={},this.h=0}ti.prototype.add=function(u,d,g,T,x){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var Z=va(u,d,T,x);return-1<Z?(d=u[Z],g||(d.fa=!1)):(d=new xn(d,this.src,H,!!T,x),d.fa=g,u.push(d)),d};function _a(u,d){var g=d.type;if(g in u.g){var T=u.g[g],x=Array.prototype.indexOf.call(T,d,void 0),H;(H=0<=x)&&Array.prototype.splice.call(T,x,1),H&&(Li(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function va(u,d,g,T){for(var x=0;x<u.length;++x){var H=u[x];if(!H.da&&H.listener==d&&H.capture==!!g&&H.ha==T)return x}return-1}var Ea="closure_lm_"+(1e6*Math.random()|0),Ns={};function _u(u,d,g,T,x){if(Array.isArray(d)){for(var H=0;H<d.length;H++)_u(u,d[H],g,T,x);return null}return g=vu(g),u&&u[Se]?u.K(d,g,v(T)?!!T.capture:!1,x):on(u,d,g,!1,T,x)}function on(u,d,g,T,x,H){if(!d)throw Error("Invalid event type");var Z=v(x)?!!x.capture:!!x,Ct=Er(u);if(Ct||(u[Ea]=Ct=new ti(u)),g=Ct.add(d,g,T,Z,H),g.proxy)return g;if(T=th(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)lt||(x=Z),x===void 0&&(x=!1),u.addEventListener(d.toString(),T,x);else if(u.attachEvent)u.attachEvent(Ta(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function th(){function u(g){return d.call(u.src,u.listener,g)}const d=eh;return u}function Ms(u,d,g,T,x){if(Array.isArray(d))for(var H=0;H<d.length;H++)Ms(u,d[H],g,T,x);else T=v(T)?!!T.capture:!!T,g=vu(g),u&&u[Se]?(u=u.i,d=String(d).toString(),d in u.g&&(H=u.g[d],g=va(H,g,T,x),-1<g&&(Li(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete u.g[d],u.h--)))):u&&(u=Er(u))&&(d=u.g[d.toString()],u=-1,d&&(u=va(d,g,T,x)),(g=-1<u?d[u]:null)&&vr(g))}function vr(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Se])_a(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(Ta(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=Er(d))?(_a(g,u),g.h==0&&(g.src=null,d[Ea]=null)):Li(u)}}}function Ta(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function eh(u,d){if(u.da)u=!0;else{d=new Tt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&vr(u),u=g.call(T,d)}return u}function Er(u){return u=u[Ea],u instanceof ti?u:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(d){return u.handleEvent(d)}),u[Is])}function ne(){W.call(this),this.i=new ti(this),this.M=this,this.F=null}et(ne,W),ne.prototype[Se]=!0,ne.prototype.removeEventListener=function(u,d,g,T){Ms(this,u,d,g,T)};function Ht(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new F(d,u);else if(d instanceof F)d.target=d.target||u;else{var x=d;d=new F(T,u),V(d,x)}if(x=!0,g)for(var H=g.length-1;0<=H;H--){var Z=d.g=g[H];x=We(Z,T,!0,d)&&x}if(Z=d.g=u,x=We(Z,T,!0,d)&&x,x=We(Z,T,!1,d)&&x,g)for(H=0;H<g.length;H++)Z=d.g=g[H],x=We(Z,T,!1,d)&&x}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)Li(g[T]);delete u.g[d],u.h--}}this.F=null},ne.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ne.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function We(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,H=0;H<d.length;++H){var Z=d[H];if(Z&&!Z.da&&Z.capture==g){var Ct=Z.listener,_e=Z.ha||Z.src;Z.fa&&_a(u.i,Z),x=Ct.call(_e,T)!==!1&&x}}return x&&!T.defaultPrevented}function Pe(u,d,g){if(typeof u=="function")g&&(u=P(u,g));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function Eu(u){u.g=Pe(()=>{u.g=null,u.i&&(u.i=!1,Eu(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class nh extends W{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(u){W.call(this),this.h=u,this.g={}}et(Aa,W);var Sa=[];function ba(u){xt(u.g,function(d,g){this.g.hasOwnProperty(g)&&vr(d)},u),u.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),ba(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=y.JSON.stringify,Tr=y.JSON.parse,Ra=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function xs(){}xs.prototype.h=null;function Us(u){return u.h||(u.h=u.i())}function zs(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){F.call(this,"d")}et(ni,F);function Ls(){F.call(this,"c")}et(Ls,F);var Un={},Bs=null;function Bi(){return Bs=Bs||new ne}Un.La="serverreachability";function Ar(u){F.call(this,Un.La,u)}et(Ar,F);function qi(u){const d=Bi();Ht(d,new Ar(d))}Un.STAT_EVENT="statevent";function Tu(u,d){F.call(this,Un.STAT_EVENT,u),this.stat=d}et(Tu,F);function Zt(u){const d=Bi();Ht(d,new Tu(d,u))}Un.Ma="timingevent";function ye(u,d){F.call(this,Un.Ma,u),this.size=d}et(ye,F);function he(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function cn(){this.g=!0}cn.prototype.xa=function(){this.g=!1};function qs(u,d,g,T,x,H){u.info(function(){if(u.g)if(H)for(var Z="",Ct=H.split("&"),_e=0;_e<Ct.length;_e++){var Vt=Ct[_e].split("=");if(1<Vt.length){var Re=Vt[0];Vt=Vt[1];var ve=Re.split("_");Z=2<=ve.length&&ve[1]=="type"?Z+(Re+"="+Vt+"&"):Z+(Re+"=redacted&")}}else Z=null;else Z=H;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+d+`
`+g+`
`+Z})}function ih(u,d,g,T,x,H,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+d+`
`+g+`
`+H+" "+Z})}function Hi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+wa(u,g)+(T?" "+T:"")})}function Au(u,d){u.info(function(){return"TIMEOUT: "+d})}cn.prototype.info=function(){};function wa(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(var Z=1;Z<x.length;Z++)x[Z]=""}}}}return Sn(g)}catch{return d}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}et(Ln,xs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Ge(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Hs={},Sr={};function bn(u,d,g){u.L=1,u.v=Na(tn(d)),u.m=g,u.P=!0,ai(u,null)}function ai(u,d){u.F=Date.now(),Da(u),u.A=tn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ys(g.i,"t",T),u.C=0,g=u.j.J,u.h=new le,u.g=Bu(u.j,g?d:null,!u.m),0<u.O&&(u.M=new nh(P(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Sa[0]=x.toString()),x=Sa);for(var H=0;H<x.length;H++){var Z=_u(g,x[H],T||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),qi(),qs(u.i,u.u,u.A,u.l,u.R,u.m)}Ge.prototype.ca=function(u){u=u.target;const d=this.M;d&&mn(u)==3?d.j():this.Y(u)},Ge.prototype.Y=function(u){try{if(u==this.g)t:{const ve=mn(this.g);var d=this.g.Ba();const fi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||ve!=4||d==7||(d==8||0>=fi?qi(3):qi(2)),ki(this);var g=this.g.Z();this.X=g;e:if(Su(this)){var T=Ou(this.g);u="";var x=T.length,H=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Bn(this);var Z="";break e}this.h.i=new y.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(H&&d==x-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,ih(this.i,this.u,this.A,this.l,this.R,ve,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ct,_e=this.g;if((Ct=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mt(Ct)){var Vt=Ct;break e}}Vt=null}if(g=Vt)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,g);else{this.o=!1,this.s=3,Zt(12),Me(this),Bn(this);break t}}if(this.P){g=!0;let Ie;for(;!this.J&&this.C<Z.length;)if(Ie=bu(this,Z),Ie==Sr){ve==4&&(this.s=4,Zt(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Hs){this.s=4,Zt(15),Hi(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Ie,null),Ca(this,Ie);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||Z.length!=0||this.h.h||(this.s=1,Zt(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,Z,"[Invalid Chunked Response]"),Me(this),Bn(this);else if(0<Z.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),qa(Re),Re.M=!0,Zt(11))}}else Hi(this.i,this.l,Z,null),Ca(this,Z);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Uu(this.j,this):(this.o=!1,Da(this)))}else uh(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Me(this),Bn(this)}}}catch{}finally{}};function Su(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bu(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?Sr:(g=Number(d.substring(g,T)),isNaN(g)?Hs:(T+=1,T+g>d.length?Sr:(d=d.slice(T,T+g),u.C=T+g,d)))}Ge.prototype.cancel=function(){this.J=!0,Me(this)};function Da(u){u.S=Date.now()+u.I,Ru(u,u.I)}function Ru(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(P(u.ba,u),d)}function ki(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Ge.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Au(this.i,this.A),this.L!=2&&(qi(),Zt(17)),Me(this),this.s=2,Bn(this)):Ru(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Uu(u.j,u)}function Me(u){ki(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,ba(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Ca(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Ps(g.h,u))){if(!u.K&&Ps(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Ur(g),Ir(g);else break t;$s(g),Zt(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(P(g.Za,g),6e3));if(1>=Rr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hi(g,11)}else if((u.K||g.g==u)&&Ur(g),!Mt(d))for(x=g.Da.g.parse(d),d=0;d<x.length;d++){let Vt=x[d];if(g.T=Vt[0],Vt=Vt[1],g.G==2)if(Vt[0]=="c"){g.K=Vt[1],g.ia=Vt[2];const Re=Vt[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const ve=Vt[4];ve!=null&&(g.Aa=ve,g.j.info("SVER="+g.Aa));const fi=Vt[5];fi!=null&&typeof fi=="number"&&0<fi&&(T=1.5*fi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ie=u.g;if(Ie){const Qn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var H=T.h;H.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wr(H,H.h),H.h=null))}if(T.D){const Ws=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(T.ya=Ws,jt(T.I,T.D,Ws))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var Z=u;if(T.qa=Lu(T,T.J?T.ia:null,T.W),Z.K){Qe(T.h,Z);var Ct=Z,_e=T.L;_e&&(Ct.I=_e),Ct.B&&(ki(Ct),Da(Ct)),T.g=Z}else Iu(T);0<g.i.length&&xr(g)}else Vt[0]!="stop"&&Vt[0]!="close"||hi(g,7);else g.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?hi(g,7):Fs(g):Vt[0]!="noop"&&g.l&&g.l.ta(Vt),g.v=0)}}qi(4)}catch{}}var wu=class{constructor(u,d){this.g=u,this.map=d}};function ri(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rr(u){return u.h?1:u.g?u.g.size:0}function Ps(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function wr(u,d){u.g?u.g.add(d):u.h=d}function Qe(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}ri.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ks(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return st(u.i)}function ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function Dr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function js(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=Dr(u),T=ah(u),x=T.length,H=0;H<x;H++)d.call(void 0,T[H],g&&g[H],u)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rh(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),x=null;if(0<=T){var H=u[g].substring(0,T);x=u[g].substring(T+1)}else H=u[g];d(H,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,Oa(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var d=u.i,g=new li;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),si(this,g),this.m=u.m}else u&&(d=String(u).match(Va))?(this.h=!1,Oa(this,d[1]||"",!0),this.o=hn(d[2]||""),this.g=hn(d[3]||"",!0),ji(this,d[4]),this.l=hn(d[5]||"",!0),si(this,d[6]||"",!0),this.m=hn(d[7]||"")):(this.h=!1,this.i=new li(null,this.h))}fe.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ma(d,Gs,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ma(d,Gs,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ma(g,g.charAt(0)=="/"?sh:Qs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ma(g,Cr)),u.join("")};function tn(u){return new fe(u)}function Oa(u,d,g){u.j=g?hn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function si(u,d,g){d instanceof li?(u.i=d,Cu(u.i,u.h)):(g||(d=Ma(d,lh)),u.i=new li(d,u.h))}function jt(u,d,g){u.i.set(d,g)}function Na(u){return jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function hn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ma(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,Du),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Du(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Qs=/[#\?:]/g,sh=/[#\?]/g,lh=/[#\?@]/g,Cr=/#/g;function li(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&rh(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}l=li.prototype,l.add=function(u,d){fn(this),this.i=null,u=qn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function ui(u,d){fn(u),d=qn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function oi(u,d){return fn(u),d=qn(u,d),u.g.has(d)}l.forEach=function(u,d){fn(this),this.g.forEach(function(g,T){g.forEach(function(x){u.call(d,x,T,this)},this)},this)},l.na=function(){fn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const x=u[T];for(let H=0;H<x.length;H++)g.push(d[T])}return g},l.V=function(u){fn(this);let d=[];if(typeof u=="string")oi(this,u)&&(d=d.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},l.set=function(u,d){return fn(this),this.i=null,u=qn(this,u),oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},l.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Ys(u,d,g){ui(u,d),0<g.length&&(u.i=null,u.g.set(qn(u,d),st(g)),u.h+=g.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const H=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var x=H;Z[T]!==""&&(x+="="+encodeURIComponent(String(Z[T]))),u.push(x)}}return this.i=u.join("&")};function qn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function Cu(u,d){d&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(ui(this,T),Ys(this,x,g))},u)),u.j=d}function Ia(u,d){const g=new cn;if(y.Image){const T=new Image;T.onload=X(dn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=X(dn,g,"TestLoadImage: error",!1,d,T),T.onabort=X(dn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=X(dn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Rn(u,d){const g=new cn,T=new AbortController,x=setTimeout(()=>{T.abort(),dn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(x),H.ok?dn(g,"TestPingServer: ok",!0,d):dn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),dn(g,"TestPingServer: error",!1,d)})}function dn(u,d,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function xa(){this.g=new Ra}function Hn(u,d,g){const T=g||"";try{js(u,function(x,H){let Z=x;v(x)&&(Z=Sn(x)),d.push(T+H+"="+encodeURIComponent(Z))})}catch(x){throw d.push(T+"type="+encodeURIComponent("_badmap")),x}}function Gi(u){this.l=u.Ub||null,this.j=u.eb||!1}et(Gi,xs),Gi.prototype.g=function(){return new ci(this.l,this.j)},Gi.prototype.i=function(u){return function(){return u}}({});function ci(u,d){ne.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}et(ci,ne),l=ci.prototype,l.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,kn(this)},l.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},l.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}l.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Pn(this):kn(this),this.readyState==3&&Ks(this)}},l.Ra=function(u){this.g&&(this.response=this.responseText=u,Pn(this))},l.Qa=function(u){this.g&&(this.response=u,Pn(this))},l.ga=function(){this.g&&Pn(this)};function Pn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}l.setRequestHeader=function(u,d){this.u.append(u,d)},l.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let d="";return xt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function be(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Xs(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):jt(u,d,g))}function Bt(u){ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}et(Bt,ne);var Vr=/^https?$/i,Ua=["POST","PUT"];l=Bt.prototype,l.Ha=function(u){this.J=u},l.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Us(this.o):Us(zn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(H){Vu(this,H);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())g.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),x=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Ua,d,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,Z]of g)this.g.setRequestHeader(H,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Vu(this,H)}};function Vu(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Or(u),jn(u)}function Or(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}l.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),jn(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),Bt.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},l.bb=function(){Nr(this)};function Nr(u){if(u.h&&typeof m<"u"&&(!u.v[1]||mn(u)!=4||u.Z()!=2)){if(u.u&&mn(u)==4)Pe(u.Ea,0,u);else if(Ht(u,"readystatechange"),mn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=Z===0){var x=String(u.D).match(Va)[1]||null;!x&&y.self&&y.self.location&&(x=y.self.location.protocol.slice(0,-1)),T=!Vr.test(x?x.toLowerCase():"")}g=T}if(g)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var H=2<mn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Or(u)}}finally{jn(u)}}}}function jn(u,d){if(u.g){za(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Ht(u,"ready");try{g.onreadystatechange=T}catch{}}}function za(u){u.I&&(y.clearTimeout(u.I),u.I=null)}l.isActive=function(){return!!this.g};function mn(u){return u.g?u.g.readyState:0}l.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),Tr(d)}};function Ou(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(u){const d={};u=(u.g&&2<=mn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Mt(u[T]))continue;var g=N(u[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=d[x]||[];d[x]=H,H.push(g)}O(d,function(T){return T.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Mr(u){this.Aa=0,this.i=[],this.j=new cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,u),this.cb=La("retryDelaySeedMs",1e4,u),this.Wa=La("forwardChannelMaxRetries",2,u),this.wa=La("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(u&&u.concurrentRequestLimit),this.Da=new xa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=Mr.prototype,l.la=8,l.G=1,l.connect=function(u,d,g,T){Zt(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Lu(this,null,this.W),xr(this)};function Fs(u){if(Nu(u),u.G==3){var d=u.U++,g=tn(u.I);if(jt(g,"SID",u.K),jt(g,"RID",d),jt(g,"TYPE","terminate"),Ba(u,g),d=new Ge(u,u.j,d),d.L=2,d.v=Na(tn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=Bu(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Da(d)}zu(u)}function Ir(u){u.g&&(qa(u),u.g.cancel(),u.g=null)}function Nu(u){Ir(u),u.u&&(y.clearTimeout(u.u),u.u=null),Ur(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function xr(u){if(!br(u.h)&&!u.s){u.s=!0;var d=u.Ga;$||D(),rt||($(),rt=!0),Ut.add(d,u),u.B=0}}function oh(u,d){return Rr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(P(u.Ga,u,d),Js(u,u.B)),u.B++,!0)}l.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new Ge(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(x.H=H,H=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=Mu(this,x,d),g=tn(this.I),jt(g,"RID",u),jt(g,"CVER",22),this.D&&jt(g,"X-HTTP-Session-Id",this.D),Ba(this,g),H&&(this.O?d="headers="+encodeURIComponent(String(Xs(H)))+"&"+d:this.m&&be(g,this.m,H)),wr(this.h,x),this.Ua&&jt(g,"TYPE","init"),this.P?(jt(g,"$req",d),jt(g,"SID","null"),x.T=!0,bn(x,g,null)):bn(x,g,d),this.G=2}}else this.G==3&&(u?Zs(this,u):this.i.length==0||br(this.h)||Zs(this))};function Zs(u,d){var g;d?g=d.l:g=u.U++;const T=tn(u.I);jt(T,"SID",u.K),jt(T,"RID",g),jt(T,"AID",u.T),Ba(u,T),u.m&&u.o&&be(T,u.m,u.o),g=new Ge(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Mu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wr(u.h,g),bn(g,T,d)}function Ba(u,d){u.H&&xt(u.H,function(g,T){jt(d,T,g)}),u.l&&js({},function(g,T){jt(d,T,g)})}function Mu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?P(u.l.Na,u.l,u):null;t:{var x=u.i;let H=-1;for(;;){const Z=["count="+g];H==-1?0<g?(H=x[0].g,Z.push("ofs="+H)):H=0:Z.push("ofs="+H);let Ct=!0;for(let _e=0;_e<g;_e++){let Vt=x[_e].g;const Re=x[_e].map;if(Vt-=H,0>Vt)H=Math.max(0,x[_e].g-100),Ct=!1;else try{Hn(Re,Z,"req"+Vt+"_")}catch{T&&T(Re)}}if(Ct){T=Z.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function Iu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;$||D(),rt||($(),rt=!0),Ut.add(d,u),u.v=0}}function $s(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(P(u.Fa,u),Js(u,u.v)),u.v++,!0)}l.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(P(this.ab,this),u)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Ir(this),xu(this))};function qa(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function xu(u){u.g=new Ge(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=tn(u.qa);jt(d,"RID","rpc"),jt(d,"SID",u.K),jt(d,"AID",u.T),jt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&jt(d,"TO",u.ja),jt(d,"TYPE","xmlhttp"),Ba(u,d),u.m&&u.o&&be(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Na(tn(d)),g.m=null,g.P=!0,ai(g,u)}l.Za=function(){this.C!=null&&(this.C=null,Ir(this),$s(this),Zt(19))};function Ur(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function Uu(u,d){var g=null;if(u.g==d){Ur(u),qa(u),u.g=null;var T=2}else if(Ps(u.h,d))g=d.D,Qe(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var x=u.B;T=Bi(),Ht(T,new ye(T,g)),xr(u)}else Iu(u);else if(x=d.s,x==3||x==0&&0<d.X||!(T==1&&oh(u,d)||T==2&&$s(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),x){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Js(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function hi(u,d){if(u.j.info("Error code "+d),d==2){var g=P(u.fb,u),T=u.Xa;const x=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Oa(T,"https"),Na(T),x?Ia(T.toString(),g):Rn(T.toString(),g)}else Zt(2);u.G=0,u.l&&u.l.sa(d),zu(u),Nu(u)}l.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function zu(u){if(u.G=0,u.ka=[],u.l){const d=ks(u.h);(d.length!=0||u.i.length!=0)&&(tt(u.ka,d),tt(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function Lu(u,d,g){var T=g instanceof fe?tn(g):new fe(g);if(T.g!="")d&&(T.g=d+"."+T.g),ji(T,T.s);else{var x=y.location;T=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var H=new fe(null);T&&Oa(H,T),d&&(H.g=d),x&&ji(H,x),g&&(H.l=g),T=H}return g=u.D,d=u.ya,g&&d&&jt(T,g,d),jt(T,"VER",u.la),Ba(u,T),T}function Bu(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Bt(new Gi({eb:g})):new Bt(u.pa),d.Ha(u.J),d}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}l=qu.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function zr(){}zr.prototype.g=function(u,d){return new Ye(u,d)};function Ye(u,d){ne.call(this),this.g=new Mr(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!Mt(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Mt(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Gn(this)}et(Ye,ne),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Fs(this.g)},Ye.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Sn(u),u=g);d.i.push(new wu(d.Ya++,u)),d.G==3&&xr(d)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ye.aa.N.call(this)};function Hu(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}et(Hu,ni);function Pu(){Ls.call(this),this.status=1}et(Pu,Ls);function Gn(u){this.g=u}et(Gn,qu),Gn.prototype.ua=function(){Ht(this.g,"a")},Gn.prototype.ta=function(u){Ht(this.g,new Hu(u))},Gn.prototype.sa=function(u){Ht(this.g,new Pu)},Gn.prototype.ra=function(){Ht(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Ld=function(){return new zr},zd=function(){return Bi()},Ud=Un,lc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Ql=Pi,ii.COMPLETE="complete",xd=ii,zs.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ne.prototype.listen=ne.prototype.K,gs=zs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Id=Bt}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const Bd="@firebase/firestore",qd="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new yd("@firebase/firestore");function ar(){return da.logLevel}function nt(l,...n){if(da.logLevel<=Rt.DEBUG){const a=n.map(uc);da.debug(`Firestore (${ir}): ${l}`,...a)}}function Jn(l,...n){if(da.logLevel<=Rt.ERROR){const a=n.map(uc);da.error(`Firestore (${ir}): ${l}`,...a)}}function rr(l,...n){if(da.logLevel<=Rt.WARN){const a=n.map(uc);da.warn(`Firestore (${ir}): ${l}`,...a)}}function uc(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(l="Unexpected state"){const n=`FIRESTORE (${ir}) INTERNAL ASSERTION FAILED: `+l;throw Jn(n),new Error(n)}function Jt(l,n){l||yt()}function wt(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends er{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class q0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(Be.UNAUTHENTICATED))}shutdown(){}}class H0{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class P0{constructor(n){this.t=n,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){Jt(this.o===void 0);let s=this.i;const c=_=>this.i!==s?(s=this.i,a(_)):Promise.resolve();let f=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ma,n.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const _=f;n.enqueueRetryable(async()=>{await _.promise,await c(this.currentUser)})},y=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ma)}},0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(s=>this.i!==n?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string"),new Hd(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Jt(n===null||typeof n=="string"),new Be(n)}}class k0{constructor(n,a,s){this.l=n,this.h=a,this.P=s,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.T.set("Authorization",n),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class j0{constructor(n,a,s){this.l=n,this.h=a,this.P=s}getToken(){return Promise.resolve(new k0(this.l,this.h,this.P))}start(n,a){n.enqueueRetryable(()=>a(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pd{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G0{constructor(n,a){this.A=a,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,b0(n)&&n.settings.appCheckToken&&(this.V=n.settings.appCheckToken)}start(n,a){Jt(this.o===void 0);const s=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>s(f))};const c=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?c(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Pd(this.V));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(Jt(typeof a.token=="string"),this.R=a.token,new Pd(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let s=0;s<l;s++)a[s]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const c=Q0(40);for(let f=0;f<c.length;++f)s.length<20&&c[f]<a&&(s+=n.charAt(c[f]%62))}return s}}function Et(l,n){return l<n?-1:l>n?1:0}function oc(l,n){let a=0;for(;a<l.length&&a<n.length;){const s=l.codePointAt(a),c=n.codePointAt(a);if(s!==c){if(s<128&&c<128)return Et(s,c);{const f=kd(),m=Y0(f.encode(Gd(l,a)),f.encode(Gd(n,a)));return m!==0?m:Et(s,c)}}a+=s>65535?2:1}return Et(l.length,n.length)}function Gd(l,n){return l.codePointAt(n)>65535?l.substring(n,n+2):l.substring(n,n+1)}function Y0(l,n){for(let a=0;a<l.length&&a<n.length;++a)if(l[a]!==n[a])return Et(l[a],n[a]);return Et(l.length,n.length)}function sr(l,n,a){return l.length===n.length&&l.every((s,c)=>a(s,n[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=-62135596800,Yd=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(n){return Xe.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),s=Math.floor((n-1e3*a)*Yd);return new Xe(a,s)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<Qd)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yd}_compareTo(n){return this.seconds===n.seconds?Et(this.nanoseconds,n.nanoseconds):Et(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const n=this.seconds-Qd;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(n){return new mt(n)}static min(){return new mt(new Xe(0,0))}static max(){return new mt(new Xe(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="__name__";class Vn{constructor(n,a,s){a===void 0?a=0:a>n.length&&yt(),s===void 0?s=n.length-a:s>n.length-a&&yt(),this.segments=n,this.offset=a,this.len=s}get length(){return this.len}isEqual(n){return Vn.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Vn?n.forEach(s=>{a.push(s)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,s=this.limit();a<s;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const s=Math.min(n.length,a.length);for(let c=0;c<s;c++){const f=Vn.compareSegments(n.get(c),a.get(c));if(f!==0)return f}return Et(n.length,a.length)}static compareSegments(n,a){const s=Vn.isNumericId(n),c=Vn.isNumericId(a);return s&&!c?-1:!s&&c?1:s&&c?Vn.extractNumericId(n).compare(Vn.extractNumericId(a)):oc(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Ci.fromString(n.substring(4,n.length-2))}}class te extends Vn{construct(n,a,s){return new te(n,a,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const s of n){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);a.push(...s.split("/").filter(c=>c.length>0))}return new te(a)}static emptyPath(){return new te([])}}const K0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends Vn{construct(n,a,s){return new je(n,a,s)}static isValidIdentifier(n){return K0.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kd}static keyField(){return new je([Kd])}static fromServerFormat(n){const a=[];let s="",c=0;const f=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(s),s=""};let m=!1;for(;c<n.length;){const y=n[c];if(y==="\\"){if(c+1===n.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const _=n[c+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=_,c+=2}else y==="`"?(m=!m,c++):y!=="."||m?(s+=y,c++):(f(),c++)}if(f(),m)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new je(a)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(n){this.path=n}static fromPath(n){return new ct(te.fromString(n))}static fromName(n){return new ct(te.fromString(n).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&te.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return te.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new ct(new te(n.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=-1;function X0(l,n){const a=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,c=mt.fromTimestamp(s===1e9?new Xe(a+1,0):new Xe(a,s));return new Vi(c,ct.empty(),n)}function F0(l){return new Vi(l.readTime,l.key,ps)}class Vi{constructor(n,a,s){this.readTime=n,this.documentKey=a,this.largestBatchId=s}static min(){return new Vi(mt.min(),ct.empty(),ps)}static max(){return new Vi(mt.max(),ct.empty(),ps)}}function Z0(l,n){let a=l.readTime.compareTo(n.readTime);return a!==0?a:(a=ct.comparator(l.documentKey,n.documentKey),a!==0?a:Et(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(l){if(l.code!==J.FAILED_PRECONDITION||l.message!==$0)throw l;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Y((s,c)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(s,c)},this.catchCallback=f=>{this.wrapFailure(a,f).next(s,c)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof Y?a:Y.resolve(a)}catch(a){return Y.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):Y.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):Y.reject(a)}static resolve(n){return new Y((a,s)=>{a(n)})}static reject(n){return new Y((a,s)=>{s(n)})}static waitFor(n){return new Y((a,s)=>{let c=0,f=0,m=!1;n.forEach(y=>{++c,y.next(()=>{++f,m&&f===c&&a()},_=>s(_))}),m=!0,f===c&&a()})}static or(n){let a=Y.resolve(!1);for(const s of n)a=a.next(c=>c?Y.resolve(c):s());return a}static forEach(n,a){const s=[];return n.forEach((c,f)=>{s.push(a.call(this,c,f))}),this.waitFor(s)}static mapArray(n,a){return new Y((s,c)=>{const f=n.length,m=new Array(f);let y=0;for(let _=0;_<f;_++){const v=_;a(n[v]).next(A=>{m[v]=A,++y,y===f&&s(m)},A=>c(A))}})}static doWhile(n,a){return new Y((s,c)=>{const f=()=>{n()===!0?a().next(()=>{f()},c):s()};f()})}}function W0(l){const n=l.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function lr(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=s=>this.oe(s),this._e=s=>a.writeSequenceNumber(s))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}Kl.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-1;function Xl(l){return l==null}function cc(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="";function eE(l){let n="";for(let a=0;a<l.length;a++)n.length>0&&(n=Fd(n)),n=nE(l.get(a),n);return Fd(n)}function nE(l,n){let a=n;const s=l.length;for(let c=0;c<s;c++){const f=l.charAt(c);switch(f){case"\0":a+="";break;case Xd:a+="";break;default:a+=f}}return a}function Fd(l){return l+Xd+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function ys(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function iE(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(n,a){this.comparator=n,this.root=a||Ve.EMPTY}insert(n,a){return new re(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(n){return new re(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const s=this.comparator(n,a.key);if(s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}indexOf(n){let a=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(n,s.key);if(c===0)return a+s.left.size;c<0?s=s.left:(a+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,s)=>(n(a,s),!1))}toString(){const n=[];return this.inorderTraversal((a,s)=>(n.push(`${a}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Fl(this.root,n,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Fl(this.root,n,this.comparator,!0)}}class Fl{constructor(n,a,s,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=a?s(n.key,a):1,a&&c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ve{constructor(n,a,s,c,f){this.key=n,this.value=a,this.color=s??Ve.RED,this.left=c??Ve.EMPTY,this.right=f??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,s,c,f){return new Ve(n??this.key,a??this.value,s??this.color,c??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,s){let c=this;const f=s(n,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(n,a,s),null):f===0?c.copy(null,a,null,null,null):c.copy(null,null,null,null,c.right.insert(n,a,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let s,c=this;if(a(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,a),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),a(n,c.key)===0){if(c.right.isEmpty())return Ve.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,a))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const n=this.left.check();if(n!==this.right.check())throw yt();return n+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1,Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,a,s,c,f){return this}insert(n,a,s){return new Ve(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(n){this.comparator=n,this.data=new re(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,s)=>(n(a),!1))}forEachInRange(n,a){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,n[1])>=0)return;a(c.key)}}forEachWhile(n,a){let s;for(s=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new $d(this.data.getIterator())}getIteratorFrom(n){return new $d(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(s=>{a=a.add(s)}),a}isEqual(n){if(!(n instanceof ge)||this.size!==n.size)return!1;const a=this.data.getIterator(),s=n.data.getIterator();for(;a.hasNext();){const c=a.getNext().key,f=s.getNext().key;if(this.comparator(c,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new ge(this.comparator);return a.data=n,a}}class $d{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(n){this.fields=n,n.sort(je.comparator)}static empty(){return new Oi([])}unionWith(n){let a=new ge(je.comparator);for(const s of this.fields)a=a.add(s);for(const s of n)a=a.add(s);return new Oi(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return sr(this.fields,n.fields,(a,s)=>a.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(n){this.binaryString=n}static fromBase64String(n){const a=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Jd("Invalid base64 string: "+f):f}}(n);return new Oe(a)}static fromUint8Array(n){const a=function(c){let f="";for(let m=0;m<c.length;++m)f+=String.fromCharCode(c[m]);return f}(n);return new Oe(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const s=new Uint8Array(a.length);for(let c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Et(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Oe.EMPTY_BYTE_STRING=new Oe("");const aE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(l){if(Jt(!!l),typeof l=="string"){let n=0;const a=aE.exec(l);if(Jt(!!a),a[1]){let c=a[1];c=(c+"000000000").substr(0,9),n=Number(c)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:se(l.seconds),nanos:se(l.nanos)}}function se(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function Mi(l){return typeof l=="string"?Oe.fromBase64String(l):Oe.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="server_timestamp",tm="__type__",em="__previous_value__",nm="__local_write_time__";function hc(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[tm])===null||a===void 0?void 0:a.stringValue)===Wd}function Zl(l){const n=l.mapValue.fields[em];return hc(n)?Zl(n):n}function _s(l){const n=Ni(l.mapValue.fields[nm].timestampValue);return new Xe(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(n,a,s,c,f,m,y,_,v){this.databaseId=n,this.appId=a,this.persistenceKey=s,this.host=c,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v}}const $l="(default)";class vs{constructor(n,a){this.projectId=n,this.database=a||$l}static empty(){return new vs("","")}get isDefaultDatabase(){return this.database===$l}isEqual(n){return n instanceof vs&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__type__",lE="__max__",Jl={mapValue:{}},uE="__vector__",fc="value";function Ii(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?hc(l)?4:cE(l)?9007199254740991:oE(l)?10:11:yt()}function On(l,n){if(l===n)return!0;const a=Ii(l);if(a!==Ii(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return _s(l).isEqual(_s(n));case 3:return function(c,f){if(typeof c.timestampValue=="string"&&typeof f.timestampValue=="string"&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const m=Ni(c.timestampValue),y=Ni(f.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return function(c,f){return Mi(c.bytesValue).isEqual(Mi(f.bytesValue))}(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return function(c,f){return se(c.geoPointValue.latitude)===se(f.geoPointValue.latitude)&&se(c.geoPointValue.longitude)===se(f.geoPointValue.longitude)}(l,n);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return se(c.integerValue)===se(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const m=se(c.doubleValue),y=se(f.doubleValue);return m===y?cc(m)===cc(y):isNaN(m)&&isNaN(y)}return!1}(l,n);case 9:return sr(l.arrayValue.values||[],n.arrayValue.values||[],On);case 10:case 11:return function(c,f){const m=c.mapValue.fields||{},y=f.mapValue.fields||{};if(Zd(m)!==Zd(y))return!1;for(const _ in m)if(m.hasOwnProperty(_)&&(y[_]===void 0||!On(m[_],y[_])))return!1;return!0}(l,n);default:return yt()}}function Es(l,n){return(l.values||[]).find(a=>On(a,n))!==void 0}function ur(l,n){if(l===n)return 0;const a=Ii(l),s=Ii(n);if(a!==s)return Et(a,s);switch(a){case 0:case 9007199254740991:return 0;case 1:return Et(l.booleanValue,n.booleanValue);case 2:return function(f,m){const y=se(f.integerValue||f.doubleValue),_=se(m.integerValue||m.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(l,n);case 3:return im(l.timestampValue,n.timestampValue);case 4:return im(_s(l),_s(n));case 5:return oc(l.stringValue,n.stringValue);case 6:return function(f,m){const y=Mi(f),_=Mi(m);return y.compareTo(_)}(l.bytesValue,n.bytesValue);case 7:return function(f,m){const y=f.split("/"),_=m.split("/");for(let v=0;v<y.length&&v<_.length;v++){const A=Et(y[v],_[v]);if(A!==0)return A}return Et(y.length,_.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,m){const y=Et(se(f.latitude),se(m.latitude));return y!==0?y:Et(se(f.longitude),se(m.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return am(l.arrayValue,n.arrayValue);case 10:return function(f,m){var y,_,v,A;const z=f.fields||{},P=m.fields||{},X=(y=z[fc])===null||y===void 0?void 0:y.arrayValue,et=(_=P[fc])===null||_===void 0?void 0:_.arrayValue,st=Et(((v=X==null?void 0:X.values)===null||v===void 0?void 0:v.length)||0,((A=et==null?void 0:et.values)===null||A===void 0?void 0:A.length)||0);return st!==0?st:am(X,et)}(l.mapValue,n.mapValue);case 11:return function(f,m){if(f===Jl.mapValue&&m===Jl.mapValue)return 0;if(f===Jl.mapValue)return 1;if(m===Jl.mapValue)return-1;const y=f.fields||{},_=Object.keys(y),v=m.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let z=0;z<_.length&&z<A.length;++z){const P=oc(_[z],A[z]);if(P!==0)return P;const X=ur(y[_[z]],v[A[z]]);if(X!==0)return X}return Et(_.length,A.length)}(l.mapValue,n.mapValue);default:throw yt()}}function im(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return Et(l,n);const a=Ni(l),s=Ni(n),c=Et(a.seconds,s.seconds);return c!==0?c:Et(a.nanos,s.nanos)}function am(l,n){const a=l.values||[],s=n.values||[];for(let c=0;c<a.length&&c<s.length;++c){const f=ur(a[c],s[c]);if(f)return f}return Et(a.length,s.length)}function or(l){return dc(l)}function dc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(a){const s=Ni(a);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(a){return Mi(a).toBase64()}(l.bytesValue):"referenceValue"in l?function(a){return ct.fromName(a).toString()}(l.referenceValue):"geoPointValue"in l?function(a){return`geo(${a.latitude},${a.longitude})`}(l.geoPointValue):"arrayValue"in l?function(a){let s="[",c=!0;for(const f of a.values||[])c?c=!1:s+=",",s+=dc(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(a){const s=Object.keys(a.fields||{}).sort();let c="{",f=!0;for(const m of s)f?f=!1:c+=",",c+=`${m}:${dc(a.fields[m])}`;return c+"}"}(l.mapValue):yt()}function Wl(l){switch(Ii(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Zl(l);return n?16+Wl(n):16;case 5:return 2*l.stringValue.length;case 6:return Mi(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((c,f)=>c+Wl(f),0)}(l.arrayValue);case 10:case 11:return function(s){let c=0;return ys(s.fields,(f,m)=>{c+=f.length+Wl(m)}),c}(l.mapValue);default:throw yt()}}function mc(l){return!!l&&"integerValue"in l}function gc(l){return!!l&&"arrayValue"in l}function rm(l){return!!l&&"nullValue"in l}function sm(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function pc(l){return!!l&&"mapValue"in l}function oE(l){var n,a;return((a=(((n=l==null?void 0:l.mapValue)===null||n===void 0?void 0:n.fields)||{})[sE])===null||a===void 0?void 0:a.stringValue)===uE}function Ts(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return ys(l.mapValue.fields,(a,s)=>n.mapValue.fields[a]=Ts(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Ts(l.arrayValue.values[a]);return n}return Object.assign({},l)}function cE(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===lE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(n){this.value=n}static empty(){return new Nn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let s=0;s<n.length-1;++s)if(a=(a.mapValue.fields||{})[n.get(s)],!pc(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ts(a)}setAll(n){let a=je.emptyPath(),s={},c=[];n.forEach((m,y)=>{if(!a.isImmediateParentOf(y)){const _=this.getFieldsMap(a);this.applyChanges(_,s,c),s={},c=[],a=y.popLast()}m?s[y.lastSegment()]=Ts(m):c.push(y.lastSegment())});const f=this.getFieldsMap(a);this.applyChanges(f,s,c)}delete(n){const a=this.field(n.popLast());pc(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return On(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let s=0;s<n.length;++s){let c=a.mapValue.fields[n.get(s)];pc(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},a.mapValue.fields[n.get(s)]=c),a=c}return a.mapValue.fields}applyChanges(n,a,s){ys(a,(c,f)=>n[c]=f);for(const c of s)delete n[c]}clone(){return new Nn(Ts(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(n,a,s,c,f,m,y){this.key=n,this.documentType=a,this.version=s,this.readTime=c,this.createTime=f,this.data=m,this.documentState=y}static newInvalidDocument(n){return new qe(n,0,mt.min(),mt.min(),mt.min(),Nn.empty(),0)}static newFoundDocument(n,a,s,c){return new qe(n,1,a,mt.min(),s,c,0)}static newNoDocument(n,a){return new qe(n,2,a,mt.min(),mt.min(),Nn.empty(),0)}static newUnknownDocument(n,a){return new qe(n,3,a,mt.min(),mt.min(),Nn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof qe&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(n,a){this.position=n,this.inclusive=a}}function lm(l,n,a){let s=0;for(let c=0;c<l.position.length;c++){const f=n[c],m=l.position[c];if(f.field.isKeyField()?s=ct.comparator(ct.fromName(m.referenceValue),a.key):s=ur(m,a.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function um(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!On(l.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(n,a="asc"){this.field=n,this.dir=a}}function hE(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{}class pe extends om{constructor(n,a,s){super(),this.field=n,this.op=a,this.value=s}static create(n,a,s){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,s):new dE(n,a,s):a==="array-contains"?new pE(n,s):a==="in"?new yE(n,s):a==="not-in"?new _E(n,s):a==="array-contains-any"?new vE(n,s):new pe(n,a,s)}static createKeyFieldInFilter(n,a,s){return a==="in"?new mE(n,s):new gE(n,s)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&this.matchesComparison(ur(a,this.value)):a!==null&&Ii(this.value)===Ii(a)&&this.matchesComparison(ur(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends om{constructor(n,a){super(),this.filters=n,this.op=a,this.ce=null}static create(n,a){return new Mn(n,a)}matches(n){return cm(this)?this.filters.find(a=>!a.matches(n))===void 0:this.filters.find(a=>a.matches(n))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((n,a)=>n.concat(a.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cm(l){return l.op==="and"}function hm(l){return fE(l)&&cm(l)}function fE(l){for(const n of l.filters)if(n instanceof Mn)return!1;return!0}function yc(l){if(l instanceof pe)return l.field.canonicalString()+l.op.toString()+or(l.value);if(hm(l))return l.filters.map(n=>yc(n)).join(",");{const n=l.filters.map(a=>yc(a)).join(",");return`${l.op}(${n})`}}function fm(l,n){return l instanceof pe?function(s,c){return c instanceof pe&&s.op===c.op&&s.field.isEqual(c.field)&&On(s.value,c.value)}(l,n):l instanceof Mn?function(s,c){return c instanceof Mn&&s.op===c.op&&s.filters.length===c.filters.length?s.filters.reduce((f,m,y)=>f&&fm(m,c.filters[y]),!0):!1}(l,n):void yt()}function dm(l){return l instanceof pe?function(a){return`${a.field.canonicalString()} ${a.op} ${or(a.value)}`}(l):l instanceof Mn?function(a){return a.op.toString()+" {"+a.getFilters().map(dm).join(" ,")+"}"}(l):"Filter"}class dE extends pe{constructor(n,a,s){super(n,a,s),this.key=ct.fromName(s.referenceValue)}matches(n){const a=ct.comparator(n.key,this.key);return this.matchesComparison(a)}}class mE extends pe{constructor(n,a){super(n,"in",a),this.keys=mm("in",a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class gE extends pe{constructor(n,a){super(n,"not-in",a),this.keys=mm("not-in",a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function mm(l,n){var a;return(((a=n.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(s=>ct.fromName(s.referenceValue))}class pE extends pe{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return gc(a)&&Es(a.arrayValue,this.value)}}class yE extends pe{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Es(this.value.arrayValue,a)}}class _E extends pe{constructor(n,a){super(n,"not-in",a)}matches(n){if(Es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&!Es(this.value.arrayValue,a)}}class vE extends pe{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!gc(a)||!a.arrayValue.values)&&a.arrayValue.values.some(s=>Es(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(n,a=null,s=[],c=[],f=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=s,this.filters=c,this.limit=f,this.startAt=m,this.endAt=y,this.le=null}}function gm(l,n=null,a=[],s=[],c=null,f=null,m=null){return new EE(l,n,a,s,c,f,m)}function _c(l){const n=wt(l);if(n.le===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(s=>yc(s)).join(","),a+="|ob:",a+=n.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),Xl(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(s=>or(s)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(s=>or(s)).join(",")),n.le=a}return n.le}function vc(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!hE(l.orderBy[a],n.orderBy[a]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!fm(l.filters[a],n.filters[a]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!um(l.startAt,n.startAt)&&um(l.endAt,n.endAt)}function Ec(l){return ct.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(n,a=null,s=[],c=[],f=null,m="F",y=null,_=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=s,this.filters=c,this.limit=f,this.limitType=m,this.startAt=y,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TE(l,n,a,s,c,f,m,y){return new nu(l,n,a,s,c,f,m,y)}function Tc(l){return new nu(l)}function pm(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function AE(l){return l.collectionGroup!==null}function As(l){const n=wt(l);if(n.he===null){n.he=[];const a=new Set;for(const f of n.explicitOrderBy)n.he.push(f),a.add(f.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new ge(je.comparator);return m.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(y=y.add(v.field))})}),y})(n).forEach(f=>{a.has(f.canonicalString())||f.isKeyField()||n.he.push(new eu(f,s))}),a.has(je.keyField().canonicalString())||n.he.push(new eu(je.keyField(),s))}return n.he}function In(l){const n=wt(l);return n.Pe||(n.Pe=SE(n,As(l))),n.Pe}function SE(l,n){if(l.limitType==="F")return gm(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(c=>{const f=c.dir==="desc"?"asc":"desc";return new eu(c.field,f)});const a=l.endAt?new tu(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new tu(l.startAt.position,l.startAt.inclusive):null;return gm(l.path,l.collectionGroup,n,l.filters,l.limit,a,s)}}function Ac(l,n,a){return new nu(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}function iu(l,n){return vc(In(l),In(n))&&l.limitType===n.limitType}function ym(l){return`${_c(In(l))}|lt:${l.limitType}`}function cr(l){return`Query(target=${function(a){let s=a.path.canonicalString();return a.collectionGroup!==null&&(s+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(s+=`, filters: [${a.filters.map(c=>dm(c)).join(", ")}]`),Xl(a.limit)||(s+=", limit: "+a.limit),a.orderBy.length>0&&(s+=`, orderBy: [${a.orderBy.map(c=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(c)).join(", ")}]`),a.startAt&&(s+=", startAt: ",s+=a.startAt.inclusive?"b:":"a:",s+=a.startAt.position.map(c=>or(c)).join(",")),a.endAt&&(s+=", endAt: ",s+=a.endAt.inclusive?"a:":"b:",s+=a.endAt.position.map(c=>or(c)).join(",")),`Target(${s})`}(In(l))}; limitType=${l.limitType})`}function au(l,n){return n.isFoundDocument()&&function(s,c){const f=c.key.path;return s.collectionGroup!==null?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ct.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,n)&&function(s,c){for(const f of As(s))if(!f.field.isKeyField()&&c.data.field(f.field)===null)return!1;return!0}(l,n)&&function(s,c){for(const f of s.filters)if(!f.matches(c))return!1;return!0}(l,n)&&function(s,c){return!(s.startAt&&!function(m,y,_){const v=lm(m,y,_);return m.inclusive?v<=0:v<0}(s.startAt,As(s),c)||s.endAt&&!function(m,y,_){const v=lm(m,y,_);return m.inclusive?v>=0:v>0}(s.endAt,As(s),c))}(l,n)}function bE(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function _m(l){return(n,a)=>{let s=!1;for(const c of As(l)){const f=RE(c,n,a);if(f!==0)return f;s=s||c.field.isKeyField()}return 0}}function RE(l,n,a){const s=l.field.isKeyField()?ct.comparator(n.key,a.key):function(f,m,y){const _=m.data.field(f),v=y.data.field(f);return _!==null&&v!==null?ur(_,v):yt()}(l.field,n,a);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),s=this.inner[a];if(s!==void 0){for(const[c,f]of s)if(this.equalsFn(c,n))return f}}has(n){return this.get(n)!==void 0}set(n,a){const s=this.mapKeyFn(n),c=this.inner[s];if(c===void 0)return this.inner[s]=[[n,a]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,a]);c.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),s=this.inner[a];if(s===void 0)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],n))return s.length===1?delete this.inner[a]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(n){ys(this.inner,(a,s)=>{for(const[c,f]of s)n(c,f)})}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new re(ct.comparator);function xi(){return wE}const vm=new re(ct.comparator);function Ss(...l){let n=vm;for(const a of l)n=n.insert(a.key,a);return n}function DE(l){let n=vm;return l.forEach((a,s)=>n=n.insert(a,s.overlayedDocument)),n}function pa(){return bs()}function Em(){return bs()}function bs(){return new ga(l=>l.toString(),(l,n)=>l.isEqual(n))}const CE=new ge(ct.comparator);function Nt(...l){let n=CE;for(const a of l)n=n.add(a);return n}const VE=new ge(Et);function OE(){return VE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(n)?"-0":n}}function ME(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this._=void 0}}function IE(l,n,a){return l instanceof Sc?function(c,f){const m={fields:{[tm]:{stringValue:Wd},[nm]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&hc(f)&&(f=Zl(f)),f&&(m.fields[em]=f),{mapValue:m}}(a,n):l instanceof su?Tm(l,n):l instanceof lu?Am(l,n):function(c,f){const m=UE(c,f),y=Sm(m)+Sm(c.Ie);return mc(m)&&mc(c.Ie)?ME(y):NE(c.serializer,y)}(l,n)}function xE(l,n,a){return l instanceof su?Tm(l,n):l instanceof lu?Am(l,n):a}function UE(l,n){return l instanceof bc?function(s){return mc(s)||function(f){return!!f&&"doubleValue"in f}(s)}(n)?n:{integerValue:0}:null}class Sc extends ru{}class su extends ru{constructor(n){super(),this.elements=n}}function Tm(l,n){const a=bm(n);for(const s of l.elements)a.some(c=>On(c,s))||a.push(s);return{arrayValue:{values:a}}}class lu extends ru{constructor(n){super(),this.elements=n}}function Am(l,n){let a=bm(n);for(const s of l.elements)a=a.filter(c=>!On(c,s));return{arrayValue:{values:a}}}class bc extends ru{constructor(n,a){super(),this.serializer=n,this.Ie=a}}function Sm(l){return se(l.integerValue||l.doubleValue)}function bm(l){return gc(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function zE(l,n){return l.field.isEqual(n.field)&&function(s,c){return s instanceof su&&c instanceof su||s instanceof lu&&c instanceof lu?sr(s.elements,c.elements,On):s instanceof bc&&c instanceof bc?On(s.Ie,c.Ie):s instanceof Sc&&c instanceof Sc}(l.transform,n.transform)}class ya{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new ya}static exists(n){return new ya(void 0,n)}static updateTime(n){return new ya(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function uu(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class Rc{}function Rm(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new BE(l.key,ya.none()):new wc(l.key,l.data,ya.none());{const a=l.data,s=Nn.empty();let c=new ge(je.comparator);for(let f of n.fields)if(!c.has(f)){let m=a.field(f);m===null&&f.length>1&&(f=f.popLast(),m=a.field(f)),m===null?s.delete(f):s.set(f,m),c=c.add(f)}return new ou(l.key,s,new Oi(c.toArray()),ya.none())}}function LE(l,n,a){l instanceof wc?function(c,f,m){const y=c.value.clone(),_=Cm(c.fieldTransforms,f,m.transformResults);y.setAll(_),f.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(l,n,a):l instanceof ou?function(c,f,m){if(!uu(c.precondition,f))return void f.convertToUnknownDocument(m.version);const y=Cm(c.fieldTransforms,f,m.transformResults),_=f.data;_.setAll(Dm(c)),_.setAll(y),f.convertToFoundDocument(m.version,_).setHasCommittedMutations()}(l,n,a):function(c,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()}(0,n,a)}function Rs(l,n,a,s){return l instanceof wc?function(f,m,y,_){if(!uu(f.precondition,m))return y;const v=f.value.clone(),A=Vm(f.fieldTransforms,_,m);return v.setAll(A),m.convertToFoundDocument(m.version,v).setHasLocalMutations(),null}(l,n,a,s):l instanceof ou?function(f,m,y,_){if(!uu(f.precondition,m))return y;const v=Vm(f.fieldTransforms,_,m),A=m.data;return A.setAll(Dm(f)),A.setAll(v),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(z=>z.field))}(l,n,a,s):function(f,m,y){return uu(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(l,n,a)}function wm(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!function(s,c){return s===void 0&&c===void 0||!(!s||!c)&&sr(s,c,(f,m)=>zE(f,m))}(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class wc extends Rc{constructor(n,a,s,c=[]){super(),this.key=n,this.value=a,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ou extends Rc{constructor(n,a,s,c,f=[]){super(),this.key=n,this.data=a,this.fieldMask=s,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Dm(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const s=l.data.field(a);n.set(a,s)}}),n}function Cm(l,n,a){const s=new Map;Jt(l.length===a.length);for(let c=0;c<a.length;c++){const f=l[c],m=f.transform,y=n.data.field(f.field);s.set(f.field,xE(m,y,a[c]))}return s}function Vm(l,n,a){const s=new Map;for(const c of l){const f=c.transform,m=a.data.field(c.field);s.set(c.field,IE(f,m,n))}return s}class BE extends Rc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(n,a,s,c){this.batchId=n,this.localWriteTime=a,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(n,a){const s=a.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(n.key)&&LE(f,n,s[c])}}applyToLocalView(n,a){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(a=Rs(s,n,a,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(a=Rs(s,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const s=Em();return this.mutations.forEach(c=>{const f=n.get(c.key),m=f.overlayedDocument;let y=this.applyToLocalView(m,f.mutatedFields);y=a.has(c.key)?null:y;const _=Rm(m,y);_!==null&&s.set(c.key,_),m.isValidDocument()||m.convertToNoDocument(mt.min())}),s}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),Nt())}isEqual(n){return this.batchId===n.batchId&&sr(this.mutations,n.mutations,(a,s)=>wm(a,s))&&sr(this.baseMutations,n.baseMutations,(a,s)=>wm(a,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce,Dt;function Om(l){if(l===void 0)return Jn("GRPC error has no .code"),J.UNKNOWN;switch(l){case ce.OK:return J.OK;case ce.CANCELLED:return J.CANCELLED;case ce.UNKNOWN:return J.UNKNOWN;case ce.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ce.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ce.INTERNAL:return J.INTERNAL;case ce.UNAVAILABLE:return J.UNAVAILABLE;case ce.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ce.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ce.NOT_FOUND:return J.NOT_FOUND;case ce.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ce.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ce.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ce.ABORTED:return J.ABORTED;case ce.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ce.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ce.DATA_LOSS:return J.DATA_LOSS;default:return yt()}}(Dt=ce||(ce={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Ci([4294967295,4294967295],0);function Nm(l){const n=kd().encode(l),a=new Md;return a.update(n),new Uint8Array(a.digest())}function Mm(l){const n=new DataView(l.buffer),a=n.getUint32(0,!0),s=n.getUint32(4,!0),c=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new Ci([a,s],0),new Ci([c,f],0)]}class Dc{constructor(n,a,s){if(this.bitmap=n,this.padding=a,this.hashCount=s,a<0||a>=8)throw new ws(`Invalid padding: ${a}`);if(s<0)throw new ws(`Invalid hash count: ${s}`);if(n.length>0&&this.hashCount===0)throw new ws(`Invalid hash count: ${s}`);if(n.length===0&&a!==0)throw new ws(`Invalid padding when bitmap length is 0: ${a}`);this.Ee=8*n.length-a,this.de=Ci.fromNumber(this.Ee)}Ae(n,a,s){let c=n.add(a.multiply(Ci.fromNumber(s)));return c.compare(kE)===1&&(c=new Ci([c.getBits(0),c.getBits(1)],0)),c.modulo(this.de).toNumber()}Re(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.Ee===0)return!1;const a=Nm(n),[s,c]=Mm(a);for(let f=0;f<this.hashCount;f++){const m=this.Ae(s,c,f);if(!this.Re(m))return!1}return!0}static create(n,a,s){const c=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),m=new Dc(f,c,a);return s.forEach(y=>m.insert(y)),m}insert(n){if(this.Ee===0)return;const a=Nm(n),[s,c]=Mm(a);for(let f=0;f<this.hashCount;f++){const m=this.Ae(s,c,f);this.Ve(m)}}Ve(n){const a=Math.floor(n/8),s=n%8;this.bitmap[a]|=1<<s}}class ws extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(n,a,s,c,f){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,a,s){const c=new Map;return c.set(n,Ds.createSynthesizedTargetChangeForCurrentChange(n,a,s)),new cu(mt.min(),c,new re(Et),xi(),Nt())}}class Ds{constructor(n,a,s,c,f){this.resumeToken=n,this.current=a,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,a,s){return new Ds(s,a,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(n,a,s,c){this.me=n,this.removedTargetIds=a,this.key=s,this.fe=c}}class Im{constructor(n,a){this.targetId=n,this.ge=a}}class xm{constructor(n,a,s=Oe.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=a,this.resumeToken=s,this.cause=c}}class Um{constructor(){this.pe=0,this.ye=zm(),this.we=Oe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(n){n.approximateByteSize()>0&&(this.be=!0,this.we=n)}Fe(){let n=Nt(),a=Nt(),s=Nt();return this.ye.forEach((c,f)=>{switch(f){case 0:n=n.add(c);break;case 2:a=a.add(c);break;case 1:s=s.add(c);break;default:yt()}}),new Ds(this.we,this.Se,n,a,s)}Me(){this.be=!1,this.ye=zm()}xe(n,a){this.be=!0,this.ye=this.ye.insert(n,a)}Oe(n){this.be=!0,this.ye=this.ye.remove(n)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jE{constructor(n){this.ke=n,this.qe=new Map,this.Qe=xi(),this.$e=fu(),this.Ue=fu(),this.Ke=new re(Et)}We(n){for(const a of n.me)n.fe&&n.fe.isFoundDocument()?this.Ge(a,n.fe):this.ze(a,n.key,n.fe);for(const a of n.removedTargetIds)this.ze(a,n.key,n.fe)}je(n){this.forEachTarget(n,a=>{const s=this.He(a);switch(n.state){case 0:this.Je(a)&&s.Ce(n.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(n.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(a);break;case 3:this.Je(a)&&(s.Le(),s.Ce(n.resumeToken));break;case 4:this.Je(a)&&(this.Ye(a),s.Ce(n.resumeToken));break;default:yt()}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.qe.forEach((s,c)=>{this.Je(c)&&a(c)})}Ze(n){const a=n.targetId,s=n.ge.count,c=this.Xe(a);if(c){const f=c.target;if(Ec(f))if(s===0){const m=new ct(f.path);this.ze(a,m,qe.newNoDocument(m,mt.min()))}else Jt(s===1);else{const m=this.et(a);if(m!==s){const y=this.tt(n),_=y?this.nt(y,n,m):1;if(_!==0){this.Ye(a);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(a,v)}}}}}tt(n){const a=n.ge.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:f=0}=a;let m,y;try{m=Mi(s).toUint8Array()}catch(_){if(_ instanceof Jd)return rr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Dc(m,c,f)}catch(_){return rr(_ instanceof ws?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.Ee===0?null:y}nt(n,a,s){return a.ge.count===s-this.st(n,a.targetId)?0:2}st(n,a){const s=this.ke.getRemoteKeysForTarget(a);let c=0;return s.forEach(f=>{const m=this.ke.it(),y=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;n.mightContain(y)||(this.ze(a,f,null),c++)}),c}ot(n){const a=new Map;this.qe.forEach((f,m)=>{const y=this.Xe(m);if(y){if(f.current&&Ec(y.target)){const _=new ct(y.target.path);this._t(_).has(m)||this.ut(m,_)||this.ze(m,_,qe.newNoDocument(_,n))}f.ve&&(a.set(m,f.Fe()),f.Me())}});let s=Nt();this.Ue.forEach((f,m)=>{let y=!0;m.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(s=s.add(f))}),this.Qe.forEach((f,m)=>m.setReadTime(n));const c=new cu(n,a,this.Ke,this.Qe,s);return this.Qe=xi(),this.$e=fu(),this.Ue=fu(),this.Ke=new re(Et),c}Ge(n,a){if(!this.Je(n))return;const s=this.ut(n,a.key)?2:0;this.He(n).xe(a.key,s),this.Qe=this.Qe.insert(a.key,a),this.$e=this.$e.insert(a.key,this._t(a.key).add(n)),this.Ue=this.Ue.insert(a.key,this.ct(a.key).add(n))}ze(n,a,s){if(!this.Je(n))return;const c=this.He(n);this.ut(n,a)?c.xe(a,1):c.Oe(a),this.Ue=this.Ue.insert(a,this.ct(a).delete(n)),this.Ue=this.Ue.insert(a,this.ct(a).add(n)),s&&(this.Qe=this.Qe.insert(a,s))}removeTarget(n){this.qe.delete(n)}et(n){const a=this.He(n).Fe();return this.ke.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Ne(n){this.He(n).Ne()}He(n){let a=this.qe.get(n);return a||(a=new Um,this.qe.set(n,a)),a}ct(n){let a=this.Ue.get(n);return a||(a=new ge(Et),this.Ue=this.Ue.insert(n,a)),a}_t(n){let a=this.$e.get(n);return a||(a=new ge(Et),this.$e=this.$e.insert(n,a)),a}Je(n){const a=this.Xe(n)!==null;return a||nt("WatchChangeAggregator","Detected inactive target",n),a}Xe(n){const a=this.qe.get(n);return a&&a.De?null:this.ke.lt(n)}Ye(n){this.qe.set(n,new Um),this.ke.getRemoteKeysForTarget(n).forEach(a=>{this.ze(n,a,null)})}ut(n,a){return this.ke.getRemoteKeysForTarget(n).has(a)}}function fu(){return new re(ct.comparator)}function zm(){return new re(ct.comparator)}const GE={asc:"ASCENDING",desc:"DESCENDING"},QE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YE={and:"AND",or:"OR"};class KE{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function Cc(l,n){return l.useProto3Json||Xl(n)?n:{value:n}}function XE(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function FE(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function hr(l){return Jt(!!l),mt.fromTimestamp(function(a){const s=Ni(a);return new Xe(s.seconds,s.nanos)}(l))}function ZE(l,n){return Vc(l,n).canonicalString()}function Vc(l,n){const a=function(c){return new te(["projects",c.projectId,"databases",c.database])}(l).child("documents");return n===void 0?a:a.child(n)}function Lm(l){const n=te.fromString(l);return Jt(jm(n)),n}function Oc(l,n){const a=Lm(n);if(a.get(1)!==l.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new ct(Hm(a))}function Bm(l,n){return ZE(l.databaseId,n)}function $E(l){const n=Lm(l);return n.length===4?te.emptyPath():Hm(n)}function qm(l){return new te(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Hm(l){return Jt(l.length>4&&l.get(4)==="documents"),l.popFirst(5)}function JE(l,n){let a;if("targetChange"in n){n.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt()}(n.targetChange.targetChangeType||"NO_CHANGE"),c=n.targetChange.targetIds||[],f=function(v,A){return v.useProto3Json?(Jt(A===void 0||typeof A=="string"),Oe.fromBase64String(A||"")):(Jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Oe.fromUint8Array(A||new Uint8Array))}(l,n.targetChange.resumeToken),m=n.targetChange.cause,y=m&&function(v){const A=v.code===void 0?J.UNKNOWN:Om(v.code);return new ot(A,v.message||"")}(m);a=new xm(s,c,f,y||null)}else if("documentChange"in n){n.documentChange;const s=n.documentChange;s.document,s.document.name,s.document.updateTime;const c=Oc(l,s.document.name),f=hr(s.document.updateTime),m=s.document.createTime?hr(s.document.createTime):mt.min(),y=new Nn({mapValue:{fields:s.document.fields}}),_=qe.newFoundDocument(c,f,m,y),v=s.targetIds||[],A=s.removedTargetIds||[];a=new hu(v,A,_.key,_)}else if("documentDelete"in n){n.documentDelete;const s=n.documentDelete;s.document;const c=Oc(l,s.document),f=s.readTime?hr(s.readTime):mt.min(),m=qe.newNoDocument(c,f),y=s.removedTargetIds||[];a=new hu([],y,m.key,m)}else if("documentRemove"in n){n.documentRemove;const s=n.documentRemove;s.document;const c=Oc(l,s.document),f=s.removedTargetIds||[];a=new hu([],f,c,null)}else{if(!("filter"in n))return yt();{n.filter;const s=n.filter;s.targetId;const{count:c=0,unchangedNames:f}=s,m=new PE(c,f),y=s.targetId;a=new Im(y,m)}}return a}function WE(l,n){return{documents:[Bm(l,n.path)]}}function tT(l,n){const a={structuredQuery:{}},s=n.path;let c;n.collectionGroup!==null?(c=s,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=s.popLast(),a.structuredQuery.from=[{collectionId:s.lastSegment()}]),a.parent=Bm(l,c);const f=function(v){if(v.length!==0)return km(Mn.create(v,"and"))}(n.filters);f&&(a.structuredQuery.where=f);const m=function(v){if(v.length!==0)return v.map(A=>function(P){return{field:fr(P.field),direction:iT(P.dir)}}(A))}(n.orderBy);m&&(a.structuredQuery.orderBy=m);const y=Cc(l,n.limit);return y!==null&&(a.structuredQuery.limit=y),n.startAt&&(a.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(n.startAt)),n.endAt&&(a.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(n.endAt)),{ht:a,parent:c}}function eT(l){let n=$E(l.parent);const a=l.structuredQuery,s=a.from?a.from.length:0;let c=null;if(s>0){Jt(s===1);const A=a.from[0];A.allDescendants?c=A.collectionId:n=n.child(A.collectionId)}let f=[];a.where&&(f=function(z){const P=Pm(z);return P instanceof Mn&&hm(P)?P.getFilters():[P]}(a.where));let m=[];a.orderBy&&(m=function(z){return z.map(P=>function(et){return new eu(dr(et.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction))}(P))}(a.orderBy));let y=null;a.limit&&(y=function(z){let P;return P=typeof z=="object"?z.value:z,Xl(P)?null:P}(a.limit));let _=null;a.startAt&&(_=function(z){const P=!!z.before,X=z.values||[];return new tu(X,P)}(a.startAt));let v=null;return a.endAt&&(v=function(z){const P=!z.before,X=z.values||[];return new tu(X,P)}(a.endAt)),TE(n,c,m,f,y,"F",_,v)}function nT(l,n){const a=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(n.purpose);return a==null?null:{"goog-listen-tags":a}}function Pm(l){return l.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const s=dr(a.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=dr(a.unaryFilter.field);return pe.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=dr(a.unaryFilter.field);return pe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=dr(a.unaryFilter.field);return pe.create(m,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(l):l.fieldFilter!==void 0?function(a){return pe.create(dr(a.fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(a.fieldFilter.op),a.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(a){return Mn.create(a.compositeFilter.filters.map(s=>Pm(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return yt()}}(a.compositeFilter.op))}(l):yt()}function iT(l){return GE[l]}function aT(l){return QE[l]}function rT(l){return YE[l]}function fr(l){return{fieldPath:l.canonicalString()}}function dr(l){return je.fromServerFormat(l.fieldPath)}function km(l){return l instanceof pe?function(a){if(a.op==="=="){if(sm(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NAN"}};if(rm(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(sm(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NOT_NAN"}};if(rm(a.value))return{unaryFilter:{field:fr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fr(a.field),op:aT(a.op),value:a.value}}}(l):l instanceof Mn?function(a){const s=a.getFilters().map(c=>km(c));return s.length===1?s[0]:{compositeFilter:{op:rT(a.op),filters:s}}}(l):yt()}function jm(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(n,a,s,c,f=mt.min(),m=mt.min(),y=Oe.EMPTY_BYTE_STRING,_=null){this.target=n,this.targetId=a,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(n){return new Ui(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(n){this.Tt=n}}function lT(l){const n=eT({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Ac(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.Tn=new oT}addToCollectionParentIndex(n,a){return this.Tn.add(a),Y.resolve()}getCollectionParents(n,a){return Y.resolve(this.Tn.getEntries(a))}addFieldIndex(n,a){return Y.resolve()}deleteFieldIndex(n,a){return Y.resolve()}deleteAllFieldIndexes(n){return Y.resolve()}createTargetIndexes(n,a){return Y.resolve()}getDocumentsMatchingTarget(n,a){return Y.resolve(null)}getIndexType(n,a){return Y.resolve(0)}getFieldIndexes(n,a){return Y.resolve([])}getNextCollectionGroupToUpdate(n){return Y.resolve(null)}getMinOffset(n,a){return Y.resolve(Vi.min())}getMinOffsetFromCollectionGroup(n,a){return Y.resolve(Vi.min())}updateCollectionGroup(n,a,s){return Y.resolve()}updateIndexEntries(n,a){return Y.resolve()}}class oT{constructor(){this.index={}}add(n){const a=n.lastSegment(),s=n.popLast(),c=this.index[a]||new ge(te.comparator),f=!c.has(s);return this.index[a]=c.add(s),f}has(n){const a=n.lastSegment(),s=n.popLast(),c=this.index[a];return c&&c.has(s)}getEntries(n){return(this.index[n]||new ge(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qm=41943040;class Fe{static withCacheSize(n){return new Fe(n,Fe.DEFAULT_COLLECTION_PERCENTILE,Fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe.DEFAULT_COLLECTION_PERCENTILE=10,Fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fe.DEFAULT=new Fe(Qm,Fe.DEFAULT_COLLECTION_PERCENTILE,Fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fe.DISABLED=new Fe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(n){this.$n=n}next(){return this.$n+=2,this.$n}static Un(){return new mr(0)}static Kn(){return new mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LruGarbageCollector",cT=1048576;function Km([l,n],[a,s]){const c=Et(l,a);return c===0?Et(n,s):c}class hT{constructor(n){this.Hn=n,this.buffer=new ge(Km),this.Jn=0}Yn(){return++this.Jn}Zn(n){const a=[n,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(a);else{const s=this.buffer.last();Km(a,s)<0&&(this.buffer=this.buffer.delete(s).add(a))}}get maxValue(){return this.buffer.last()[0]}}class fT{constructor(n,a,s){this.garbageCollector=n,this.asyncQueue=a,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(n){nt(Ym,`Garbage collection scheduled in ${n}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){lr(a)?nt(Ym,"Ignoring IndexedDB error during garbage collection: ",a):await Yl(a)}await this.er(3e5)})}}class dT{constructor(n,a){this.tr=n,this.params=a}calculateTargetCount(n,a){return this.tr.nr(n).next(s=>Math.floor(a/100*s))}nthSequenceNumber(n,a){if(a===0)return Y.resolve(Kl.ae);const s=new hT(a);return this.tr.forEachTarget(n,c=>s.Zn(c.sequenceNumber)).next(()=>this.tr.rr(n,c=>s.Zn(c))).next(()=>s.maxValue)}removeTargets(n,a,s){return this.tr.removeTargets(n,a,s)}removeOrphanedDocuments(n,a){return this.tr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Gm)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gm):this.ir(n,a))}getCacheSize(n){return this.tr.getCacheSize(n)}ir(n,a){let s,c,f,m,y,_,v;const A=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(z=>(z>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${z}`),c=this.params.maximumSequenceNumbersToCollect):c=z,m=Date.now(),this.nthSequenceNumber(n,c))).next(z=>(s=z,y=Date.now(),this.removeTargets(n,s,a))).next(z=>(f=z,_=Date.now(),this.removeOrphanedDocuments(n,s))).next(z=>(v=Date.now(),ar()<=Rt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${c} in `+(y-m)+`ms
	Removed ${f} targets in `+(_-y)+`ms
	Removed ${z} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:z})))}}function mT(l,n){return new dT(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.changes=new ga(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,qe.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const s=this.changes.get(a);return s!==void 0?Y.resolve(s):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(n,a,s,c){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=s,this.indexManager=c}getDocument(n,a){let s=null;return this.documentOverlayCache.getOverlay(n,a).next(c=>(s=c,this.remoteDocumentCache.getEntry(n,a))).next(c=>(s!==null&&Rs(s.mutation,c,Oi.empty(),Xe.now()),c))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next(s=>this.getLocalViewOfDocuments(n,s,Nt()).next(()=>s))}getLocalViewOfDocuments(n,a,s=Nt()){const c=pa();return this.populateOverlays(n,c,a).next(()=>this.computeViews(n,a,c,s).next(f=>{let m=Ss();return f.forEach((y,_)=>{m=m.insert(y,_.overlayedDocument)}),m}))}getOverlayedDocuments(n,a){const s=pa();return this.populateOverlays(n,s,a).next(()=>this.computeViews(n,a,s,Nt()))}populateOverlays(n,a,s){const c=[];return s.forEach(f=>{a.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(n,c).next(f=>{f.forEach((m,y)=>{a.set(m,y)})})}computeViews(n,a,s,c){let f=xi();const m=bs(),y=function(){return bs()}();return a.forEach((_,v)=>{const A=s.get(v.key);c.has(v.key)&&(A===void 0||A.mutation instanceof ou)?f=f.insert(v.key,v):A!==void 0?(m.set(v.key,A.mutation.getFieldMask()),Rs(A.mutation,v,A.mutation.getFieldMask(),Xe.now())):m.set(v.key,Oi.empty())}),this.recalculateAndSaveOverlays(n,f).next(_=>(_.forEach((v,A)=>m.set(v,A)),a.forEach((v,A)=>{var z;return y.set(v,new pT(A,(z=m.get(v))!==null&&z!==void 0?z:null))}),y))}recalculateAndSaveOverlays(n,a){const s=bs();let c=new re((m,y)=>m-y),f=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next(m=>{for(const y of m)y.keys().forEach(_=>{const v=a.get(_);if(v===null)return;let A=s.get(_)||Oi.empty();A=y.applyToLocalView(v,A),s.set(_,A);const z=(c.get(y.batchId)||Nt()).add(_);c=c.insert(y.batchId,z)})}).next(()=>{const m=[],y=c.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,A=_.value,z=Em();A.forEach(P=>{if(!f.has(P)){const X=Rm(a.get(P),s.get(P));X!==null&&z.set(P,X),f=f.add(P)}}),m.push(this.documentOverlayCache.saveOverlays(n,v,z))}return Y.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,a,s,c){return function(m){return ct.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):AE(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,s,c):this.getDocumentsMatchingCollectionQuery(n,a,s,c)}getNextDocuments(n,a,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,s,c).next(f=>{const m=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,s.largestBatchId,c-f.size):Y.resolve(pa());let y=ps,_=f;return m.next(v=>Y.forEach(v,(A,z)=>(y<z.largestBatchId&&(y=z.largestBatchId),f.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(n,A).next(P=>{_=_.insert(A,P)}))).next(()=>this.populateOverlays(n,v,f)).next(()=>this.computeViews(n,_,v,Nt())).next(A=>({batchId:y,changes:DE(A)})))})}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new ct(a)).next(s=>{let c=Ss();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(n,a,s,c){const f=a.collectionGroup;let m=Ss();return this.indexManager.getCollectionParents(n,f).next(y=>Y.forEach(y,_=>{const v=function(z,P){return new nu(P,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt)}(a,_.child(f));return this.getDocumentsMatchingCollectionQuery(n,v,s,c).next(A=>{A.forEach((z,P)=>{m=m.insert(z,P)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,a,s,c){let f;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,s,f,c))).next(m=>{f.forEach((_,v)=>{const A=v.getKey();m.get(A)===null&&(m=m.insert(A,qe.newInvalidDocument(A)))});let y=Ss();return m.forEach((_,v)=>{const A=f.get(_);A!==void 0&&Rs(A.mutation,v,Oi.empty(),Xe.now()),au(a,v)&&(y=y.insert(_,v))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(n){this.serializer=n,this.dr=new Map,this.Ar=new Map}getBundleMetadata(n,a){return Y.resolve(this.dr.get(a))}saveBundleMetadata(n,a){return this.dr.set(a.id,function(c){return{id:c.id,version:c.version,createTime:hr(c.createTime)}}(a)),Y.resolve()}getNamedQuery(n,a){return Y.resolve(this.Ar.get(a))}saveNamedQuery(n,a){return this.Ar.set(a.name,function(c){return{name:c.name,query:lT(c.bundledQuery),readTime:hr(c.readTime)}}(a)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.overlays=new re(ct.comparator),this.Rr=new Map}getOverlay(n,a){return Y.resolve(this.overlays.get(a))}getOverlays(n,a){const s=pa();return Y.forEach(a,c=>this.getOverlay(n,c).next(f=>{f!==null&&s.set(c,f)})).next(()=>s)}saveOverlays(n,a,s){return s.forEach((c,f)=>{this.Et(n,a,f)}),Y.resolve()}removeOverlaysForBatchId(n,a,s){const c=this.Rr.get(s);return c!==void 0&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(s)),Y.resolve()}getOverlaysForCollection(n,a,s){const c=pa(),f=a.length+1,m=new ct(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!a.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&c.set(_.getKey(),_)}return Y.resolve(c)}getOverlaysForCollectionGroup(n,a,s,c){let f=new re((v,A)=>v-A);const m=this.overlays.getIterator();for(;m.hasNext();){const v=m.getNext().value;if(v.getKey().getCollectionGroup()===a&&v.largestBatchId>s){let A=f.get(v.largestBatchId);A===null&&(A=pa(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const y=pa(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>y.set(v,A)),!(y.size()>=c)););return Y.resolve(y)}Et(n,a,s){const c=this.overlays.get(s.key);if(c!==null){const m=this.Rr.get(c.largestBatchId).delete(s.key);this.Rr.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new HE(a,s));let f=this.Rr.get(a);f===void 0&&(f=Nt(),this.Rr.set(a,f)),this.Rr.set(a,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.sessionToken=Oe.EMPTY_BYTE_STRING}getSessionToken(n){return Y.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.Vr=new ge(Ae.mr),this.gr=new ge(Ae.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(n,a){const s=new Ae(n,a);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(n,a){n.forEach(s=>this.addReference(s,a))}removeReference(n,a){this.wr(new Ae(n,a))}Sr(n,a){n.forEach(s=>this.removeReference(s,a))}br(n){const a=new ct(new te([])),s=new Ae(a,n),c=new Ae(a,n+1),f=[];return this.gr.forEachInRange([s,c],m=>{this.wr(m),f.push(m.key)}),f}Dr(){this.Vr.forEach(n=>this.wr(n))}wr(n){this.Vr=this.Vr.delete(n),this.gr=this.gr.delete(n)}vr(n){const a=new ct(new te([])),s=new Ae(a,n),c=new Ae(a,n+1);let f=Nt();return this.gr.forEachInRange([s,c],m=>{f=f.add(m.key)}),f}containsKey(n){const a=new Ae(n,0),s=this.Vr.firstAfterOrEqual(a);return s!==null&&n.isEqual(s.key)}}class Ae{constructor(n,a){this.key=n,this.Cr=a}static mr(n,a){return ct.comparator(n.key,a.key)||Et(n.Cr,a.Cr)}static pr(n,a){return Et(n.Cr,a.Cr)||ct.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.Fr=1,this.Mr=new ge(Ae.mr)}checkEmpty(n){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,s,c){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new qE(f,a,s,c);this.mutationQueue.push(m);for(const y of c)this.Mr=this.Mr.add(new Ae(y.key,f)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return Y.resolve(m)}lookupMutationBatch(n,a){return Y.resolve(this.Or(a))}getNextMutationBatchAfterBatchId(n,a){const s=a+1,c=this.Nr(s),f=c<0?0:c;return Y.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?tE:this.Fr-1)}getAllMutationBatches(n){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const s=new Ae(a,0),c=new Ae(a,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([s,c],m=>{const y=this.Or(m.Cr);f.push(y)}),Y.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,a){let s=new ge(Et);return a.forEach(c=>{const f=new Ae(c,0),m=new Ae(c,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,m],y=>{s=s.add(y.Cr)})}),Y.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(n,a){const s=a.path,c=s.length+1;let f=s;ct.isDocumentKey(f)||(f=f.child(""));const m=new Ae(new ct(f),0);let y=new ge(Et);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===c&&(y=y.add(_.Cr)),!0)},m),Y.resolve(this.Br(y))}Br(n){const a=[];return n.forEach(s=>{const c=this.Or(s);c!==null&&a.push(c)}),a}removeMutationBatch(n,a){Jt(this.Lr(a.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Y.forEach(a.mutations,c=>{const f=new Ae(c.key,a.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.Mr=s})}qn(n){}containsKey(n,a){const s=new Ae(a,0),c=this.Mr.firstAfterOrEqual(s);return Y.resolve(a.isEqual(c&&c.key))}performConsistencyCheck(n){return this.mutationQueue.length,Y.resolve()}Lr(n,a){return this.Nr(n)}Nr(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Or(n){const a=this.Nr(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(n){this.kr=n,this.docs=function(){return new re(ct.comparator)}(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const s=a.key,c=this.docs.get(s),f=c?c.size:0,m=this.kr(a);return this.docs=this.docs.insert(s,{document:a.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const s=this.docs.get(a);return Y.resolve(s?s.document.mutableCopy():qe.newInvalidDocument(a))}getEntries(n,a){let s=xi();return a.forEach(c=>{const f=this.docs.get(c);s=s.insert(c,f?f.document.mutableCopy():qe.newInvalidDocument(c))}),Y.resolve(s)}getDocumentsMatchingQuery(n,a,s,c){let f=xi();const m=a.path,y=new ct(m.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!m.isPrefixOf(v.path))break;v.path.length>m.length+1||Z0(F0(A),s)<=0||(c.has(A.key)||au(a,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Y.resolve(f)}getAllFromCollectionGroup(n,a,s,c){yt()}qr(n,a){return Y.forEach(this.docs,s=>a(s))}newChangeBuffer(n){return new ST(this)}getSize(n){return Y.resolve(this.size)}}class ST extends gT{constructor(n){super(),this.Ir=n}applyChanges(n){const a=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?a.push(this.Ir.addEntry(n,c)):this.Ir.removeEntry(s)}),Y.waitFor(a)}getFromCache(n,a){return this.Ir.getEntry(n,a)}getAllFromCache(n,a){return this.Ir.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(n){this.persistence=n,this.Qr=new ga(a=>_c(a),vc),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Nc,this.targetCount=0,this.Kr=mr.Un()}forEachTarget(n,a){return this.Qr.forEach((s,c)=>a(c)),Y.resolve()}getLastRemoteSnapshotVersion(n){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Y.resolve(this.$r)}allocateTargetId(n){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(n,a,s){return s&&(this.lastRemoteSnapshotVersion=s),a>this.$r&&(this.$r=a),Y.resolve()}zn(n){this.Qr.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.Kr=new mr(a),this.highestTargetId=a),n.sequenceNumber>this.$r&&(this.$r=n.sequenceNumber)}addTargetData(n,a){return this.zn(a),this.targetCount+=1,Y.resolve()}updateTargetData(n,a){return this.zn(a),Y.resolve()}removeTargetData(n,a){return this.Qr.delete(a.target),this.Ur.br(a.targetId),this.targetCount-=1,Y.resolve()}removeTargets(n,a,s){let c=0;const f=[];return this.Qr.forEach((m,y)=>{y.sequenceNumber<=a&&s.get(y.targetId)===null&&(this.Qr.delete(m),f.push(this.removeMatchingKeysForTargetId(n,y.targetId)),c++)}),Y.waitFor(f).next(()=>c)}getTargetCount(n){return Y.resolve(this.targetCount)}getTargetData(n,a){const s=this.Qr.get(a)||null;return Y.resolve(s)}addMatchingKeys(n,a,s){return this.Ur.yr(a,s),Y.resolve()}removeMatchingKeys(n,a,s){this.Ur.Sr(a,s);const c=this.persistence.referenceDelegate,f=[];return c&&a.forEach(m=>{f.push(c.markPotentiallyOrphaned(n,m))}),Y.waitFor(f)}removeMatchingKeysForTargetId(n,a){return this.Ur.br(a),Y.resolve()}getMatchingKeysForTargetId(n,a){const s=this.Ur.vr(a);return Y.resolve(s)}containsKey(n,a){return Y.resolve(this.Ur.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(n,a){this.Wr={},this.overlays={},this.Gr=new Kl(0),this.zr=!1,this.zr=!0,this.jr=new ET,this.referenceDelegate=n(this),this.Hr=new bT(this),this.indexManager=new uT,this.remoteDocumentCache=function(c){return new AT(c)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new sT(a),this.Yr=new _T(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new vT,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let s=this.Wr[n.toKey()];return s||(s=new TT(a,this.referenceDelegate),this.Wr[n.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(n,a,s){nt("MemoryPersistence","Starting transaction:",n);const c=new RT(this.Gr.next());return this.referenceDelegate.Zr(),s(c).next(f=>this.referenceDelegate.Xr(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}ei(n,a){return Y.or(Object.values(this.Wr).map(s=>()=>s.containsKey(n,a)))}}class RT extends J0{constructor(n){super(),this.currentSequenceNumber=n}}class Mc{constructor(n){this.persistence=n,this.ti=new Nc,this.ni=null}static ri(n){return new Mc(n)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(n,a,s){return this.ti.addReference(s,a),this.ii.delete(s.toString()),Y.resolve()}removeReference(n,a,s){return this.ti.removeReference(s,a),this.ii.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(n,a){return this.ii.add(a.toString()),Y.resolve()}removeTarget(n,a){this.ti.br(a.targetId).forEach(c=>this.ii.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,a.targetId).next(c=>{c.forEach(f=>this.ii.add(f.toString()))}).next(()=>s.removeTargetData(n,a))}Zr(){this.ni=new Set}Xr(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,s=>{const c=ct.fromPath(s);return this.si(n,c).next(f=>{f||a.removeEntry(c,mt.min())})}).next(()=>(this.ni=null,a.apply(n)))}updateLimboDocument(n,a){return this.si(n,a).next(s=>{s?this.ii.delete(a.toString()):this.ii.add(a.toString())})}Jr(n){return 0}si(n,a){return Y.or([()=>Y.resolve(this.ti.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.ei(n,a)])}}class du{constructor(n,a){this.persistence=n,this.oi=new ga(s=>eE(s.path),(s,c)=>s.isEqual(c)),this.garbageCollector=mT(this,a)}static ri(n,a){return new du(n,a)}Zr(){}Xr(n){return Y.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}nr(n){const a=this.sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>a.next(c=>s+c))}sr(n){let a=0;return this.rr(n,s=>{a++}).next(()=>a)}rr(n,a){return Y.forEach(this.oi,(s,c)=>this.ar(n,s,c).next(f=>f?Y.resolve():a(c)))}removeTargets(n,a,s){return this.persistence.getTargetCache().removeTargets(n,a,s)}removeOrphanedDocuments(n,a){let s=0;const c=this.persistence.getRemoteDocumentCache(),f=c.newChangeBuffer();return c.qr(n,m=>this.ar(n,m,a).next(y=>{y||(s++,f.removeEntry(m,mt.min()))})).next(()=>f.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,a){return this.oi.set(a,n.currentSequenceNumber),Y.resolve()}removeTarget(n,a){const s=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,a,s){return this.oi.set(s,n.currentSequenceNumber),Y.resolve()}removeReference(n,a,s){return this.oi.set(s,n.currentSequenceNumber),Y.resolve()}updateLimboDocument(n,a){return this.oi.set(a,n.currentSequenceNumber),Y.resolve()}Jr(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Wl(n.data.value)),a}ar(n,a,s){return Y.or([()=>this.persistence.ei(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const c=this.oi.get(a);return Y.resolve(c!==void 0&&c>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(n,a,s,c){this.targetId=n,this.fromCache=a,this.Hi=s,this.Ji=c}static Yi(n,a){let s=Nt(),c=Nt();for(const f of a.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Ic(n,a.fromCache,s,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ev()?8:W0(_v())>0?6:4}()}initialize(n,a){this.ns=n,this.indexManager=a,this.Zi=!0}getDocumentsMatchingQuery(n,a,s,c){const f={result:null};return this.rs(n,a).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.ss(n,a,c,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new wT;return this._s(n,a,m).next(y=>{if(f.result=y,this.Xi)return this.us(n,a,m,y.size)})}).next(()=>f.result)}us(n,a,s,c){return s.documentReadCount<this.es?(ar()<=Rt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",cr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(ar()<=Rt.DEBUG&&nt("QueryEngine","Query:",cr(a),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.ts*c?(ar()<=Rt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",cr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,In(a))):Y.resolve())}rs(n,a){if(pm(a))return Y.resolve(null);let s=In(a);return this.indexManager.getIndexType(n,s).next(c=>c===0?null:(a.limit!==null&&c===1&&(a=Ac(a,null,"F"),s=In(a)),this.indexManager.getDocumentsMatchingTarget(n,s).next(f=>{const m=Nt(...f);return this.ns.getDocuments(n,m).next(y=>this.indexManager.getMinOffset(n,s).next(_=>{const v=this.cs(a,y);return this.ls(a,v,m,_.readTime)?this.rs(n,Ac(a,null,"F")):this.hs(n,v,a,_)}))})))}ss(n,a,s,c){return pm(a)||c.isEqual(mt.min())?Y.resolve(null):this.ns.getDocuments(n,s).next(f=>{const m=this.cs(a,f);return this.ls(a,m,s,c)?Y.resolve(null):(ar()<=Rt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),cr(a)),this.hs(n,m,a,X0(c,ps)).next(y=>y))})}cs(n,a){let s=new ge(_m(n));return a.forEach((c,f)=>{au(n,f)&&(s=s.add(f))}),s}ls(n,a,s,c){if(n.limit===null)return!1;if(s.size!==a.size)return!0;const f=n.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}_s(n,a,s){return ar()<=Rt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",cr(a)),this.ns.getDocumentsMatchingQuery(n,a,Vi.min(),s)}hs(n,a,s,c){return this.ns.getDocumentsMatchingQuery(n,s,c).next(f=>(a.forEach(m=>{f=f.insert(m.key,m)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="LocalStore",CT=3e8;class VT{constructor(n,a,s,c){this.persistence=n,this.Ps=a,this.serializer=c,this.Ts=new re(Et),this.Is=new ga(f=>_c(f),vc),this.Es=new Map,this.ds=n.getRemoteDocumentCache(),this.Hr=n.getTargetCache(),this.Yr=n.getBundleCache(),this.As(s)}As(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new yT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.Ts))}}function OT(l,n,a,s){return new VT(l,n,a,s)}async function Fm(l,n){const a=wt(l);return await a.persistence.runTransaction("Handle user change","readonly",s=>{let c;return a.mutationQueue.getAllMutationBatches(s).next(f=>(c=f,a.As(n),a.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],y=[];let _=Nt();for(const v of c){m.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){y.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return a.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:m,addedBatchIds:y}))})})}function Zm(l){const n=wt(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.Hr.getLastRemoteSnapshotVersion(a))}function NT(l,n){const a=wt(l),s=n.snapshotVersion;let c=a.Ts;return a.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=a.ds.newChangeBuffer({trackRemovals:!0});c=a.Ts;const y=[];n.targetChanges.forEach((A,z)=>{const P=c.get(z);if(!P)return;y.push(a.Hr.removeMatchingKeys(f,A.removedDocuments,z).next(()=>a.Hr.addMatchingKeys(f,A.addedDocuments,z)));let X=P.withSequenceNumber(f.currentSequenceNumber);n.targetMismatches.get(z)!==null?X=X.withResumeToken(Oe.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,s)),c=c.insert(z,X),function(st,tt,qt){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=CT?!0:qt.addedDocuments.size+qt.modifiedDocuments.size+qt.removedDocuments.size>0}(P,X,A)&&y.push(a.Hr.updateTargetData(f,X))});let _=xi(),v=Nt();if(n.documentUpdates.forEach(A=>{n.resolvedLimboDocuments.has(A)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(f,A))}),y.push(MT(f,m,n.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!s.isEqual(mt.min())){const A=a.Hr.getLastRemoteSnapshotVersion(f).next(z=>a.Hr.setTargetsMetadata(f,f.currentSequenceNumber,s));y.push(A)}return Y.waitFor(y).next(()=>m.apply(f)).next(()=>a.localDocuments.getLocalViewOfDocuments(f,_,v)).next(()=>_)}).then(f=>(a.Ts=c,f))}function MT(l,n,a){let s=Nt(),c=Nt();return a.forEach(f=>s=s.add(f)),n.getEntries(l,s).next(f=>{let m=xi();return a.forEach((y,_)=>{const v=f.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(c=c.add(y)),_.isNoDocument()&&_.version.isEqual(mt.min())?(n.removeEntry(y,_.readTime),m=m.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(n.addEntry(_),m=m.insert(y,_)):nt(xc,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)}),{Vs:m,fs:c}})}function IT(l,n){const a=wt(l);return a.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return a.Hr.getTargetData(s,n).next(f=>f?(c=f,Y.resolve(c)):a.Hr.allocateTargetId(s).next(m=>(c=new Ui(n,m,"TargetPurposeListen",s.currentSequenceNumber),a.Hr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=a.Ts.get(s.targetId);return(c===null||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(a.Ts=a.Ts.insert(s.targetId,s),a.Is.set(n,s.targetId)),s})}async function Uc(l,n,a){const s=wt(l),c=s.Ts.get(n),f=a?"readwrite":"readwrite-primary";try{a||await s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,c))}catch(m){if(!lr(m))throw m;nt(xc,`Failed to update sequence numbers for target ${n}: ${m}`)}s.Ts=s.Ts.remove(n),s.Is.delete(c.target)}function $m(l,n,a){const s=wt(l);let c=mt.min(),f=Nt();return s.persistence.runTransaction("Execute query","readwrite",m=>function(_,v,A){const z=wt(_),P=z.Is.get(A);return P!==void 0?Y.resolve(z.Ts.get(P)):z.Hr.getTargetData(v,A)}(s,m,In(n)).next(y=>{if(y)return c=y.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(m,y.targetId).next(_=>{f=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(m,n,a?c:mt.min(),a?f:Nt())).next(y=>(xT(s,bE(n),y),{documents:y,gs:f})))}function xT(l,n,a){let s=l.Es.get(n)||mt.min();a.forEach((c,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.Es.set(n,s)}class Jm{constructor(){this.activeTargetIds=OE()}Ds(n){this.activeTargetIds=this.activeTargetIds.add(n)}vs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}bs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class UT{constructor(){this.ho=new Jm,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,s){}addLocalQueryTarget(n,a=!0){return a&&this.ho.Ds(n),this.Po[n]||"not-current"}updateQueryState(n,a,s){this.Po[n]=a}removeLocalQueryTarget(n){this.ho.vs(n)}isLocalQueryTarget(n){return this.ho.activeTargetIds.has(n)}clearQueryState(n){delete this.Po[n]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(n){return this.ho.activeTargetIds.has(n)}start(){return this.ho=new Jm,Promise.resolve()}handleUserChange(n,a,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{To(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="ConnectivityMonitor";class tg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(n){this.Vo.push(n)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Wm,"Network connectivity changed: AVAILABLE");for(const n of this.Vo)n(0)}Ro(){nt(Wm,"Network connectivity changed: UNAVAILABLE");for(const n of this.Vo)n(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function zc(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="RestConnection",LT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BT{get fo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.po=a+"://"+n.host,this.yo=`projects/${s}/databases/${c}`,this.wo=this.databaseId.database===$l?`project_id=${s}`:`project_id=${s}&database_id=${c}`}So(n,a,s,c,f){const m=zc(),y=this.bo(n,a.toUriEncodedString());nt(Lc,`Sending RPC '${n}' ${m}:`,y,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,c,f),this.vo(n,y,_,s).then(v=>(nt(Lc,`Received RPC '${n}' ${m}: `,v),v),v=>{throw rr(Lc,`RPC '${n}' ${m} failed with error: `,v,"url: ",y,"request:",s),v})}Co(n,a,s,c,f,m){return this.So(n,a,s,c,f)}Do(n,a,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ir}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((c,f)=>n[f]=c),s&&s.headers.forEach((c,f)=>n[f]=c)}bo(n,a){const s=LT[n];return`${this.po}/v1/${a}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(n){this.Fo=n.Fo,this.Mo=n.Mo}xo(n){this.Oo=n}No(n){this.Bo=n}Lo(n){this.ko=n}onMessage(n){this.qo=n}close(){this.Mo()}send(n){this.Fo(n)}Qo(){this.Oo()}$o(){this.Bo()}Uo(n){this.ko(n)}Ko(n){this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class HT extends BT{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}vo(n,a,s,c){const f=zc();return new Promise((m,y)=>{const _=new Id;_.setWithCredentials(!0),_.listenOnce(xd.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ql.NO_ERROR:const A=_.getResponseJson();nt(He,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(A)),m(A);break;case Ql.TIMEOUT:nt(He,`RPC '${n}' ${f} timed out`),y(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const z=_.getStatus();if(nt(He,`RPC '${n}' ${f} failed with status:`,z,"response text:",_.getResponseText()),z>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const X=P==null?void 0:P.error;if(X&&X.status&&X.message){const et=function(tt){const qt=tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(qt)>=0?qt:J.UNKNOWN}(X.status);y(new ot(et,X.message))}else y(new ot(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ot(J.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{nt(He,`RPC '${n}' ${f} completed.`)}});const v=JSON.stringify(c);nt(He,`RPC '${n}' ${f} sending request:`,c),_.send(a,"POST",v,s,15)})}Wo(n,a,s){const c=zc(),f=[this.po,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=Ld(),y=zd(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,a,s),_.encodeInitMessageHeaders=!0;const A=f.join("");nt(He,`Creating RPC '${n}' stream ${c}: ${A}`,_);const z=m.createWebChannel(A,_);let P=!1,X=!1;const et=new qT({Fo:tt=>{X?nt(He,`Not sending because RPC '${n}' stream ${c} is closed:`,tt):(P||(nt(He,`Opening RPC '${n}' stream ${c} transport.`),z.open(),P=!0),nt(He,`RPC '${n}' stream ${c} sending:`,tt),z.send(tt))},Mo:()=>z.close()}),st=(tt,qt,Mt)=>{tt.listen(qt,_t=>{try{Mt(_t)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return st(z,gs.EventType.OPEN,()=>{X||(nt(He,`RPC '${n}' stream ${c} transport opened.`),et.Qo())}),st(z,gs.EventType.CLOSE,()=>{X||(X=!0,nt(He,`RPC '${n}' stream ${c} transport closed`),et.Uo())}),st(z,gs.EventType.ERROR,tt=>{X||(X=!0,rr(He,`RPC '${n}' stream ${c} transport errored:`,tt),et.Uo(new ot(J.UNAVAILABLE,"The operation could not be completed")))}),st(z,gs.EventType.MESSAGE,tt=>{var qt;if(!X){const Mt=tt.data[0];Jt(!!Mt);const _t=Mt,Lt=(_t==null?void 0:_t.error)||((qt=_t[0])===null||qt===void 0?void 0:qt.error);if(Lt){nt(He,`RPC '${n}' stream ${c} received error:`,Lt);const gt=Lt.status;let xt=function(w){const V=ce[w];if(V!==void 0)return Om(V)}(gt),O=Lt.message;xt===void 0&&(xt=J.INTERNAL,O="Unknown error status: "+gt+" with message "+Lt.message),X=!0,et.Uo(new ot(xt,O)),z.close()}else nt(He,`RPC '${n}' stream ${c} received:`,Mt),et.Ko(Mt)}}),st(y,Ud.STAT_EVENT,tt=>{tt.stat===lc.PROXY?nt(He,`RPC '${n}' stream ${c} detected buffering proxy`):tt.stat===lc.NOPROXY&&nt(He,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{et.$o()},0),et}}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(l){return new KE(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(n,a,s=1e3,c=1.5,f=6e4){this.Ti=n,this.timerId=a,this.Go=s,this.zo=c,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(n){this.cancel();const a=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),c=Math.max(0,a-s);c>0&&nt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ho} ms, delay with jitter: ${a} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,c,()=>(this.Yo=Date.now(),n())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="PersistentStream";class PT{constructor(n,a,s,c,f,m,y,_){this.Ti=n,this.n_=s,this.r_=c,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ng(n,a)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(n){this.E_(),this.stream.send(n)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(n,a){this.E_(),this.d_(),this.a_.cancel(),this.i_++,n!==4?this.a_.reset():a&&a.code===J.RESOURCE_EXHAUSTED?(Jn(a.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):a&&a.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.Lo(a)}A_(){}auth(){this.state=1;const n=this.R_(this.i_),a=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.i_===a&&this.V_(s,c)},s=>{n(()=>{const c=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(c)})})}V_(n,a){const s=this.R_(this.i_);this.stream=this.f_(n,a),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(c=>{s(()=>this.m_(c))}),this.stream.onMessage(c=>{s(()=>++this.__==1?this.g_(c):this.onNext(c))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(n){return nt(ig,`close with error: ${n}`),this.stream=null,this.close(4,n)}R_(n){return a=>{this.Ti.enqueueAndForget(()=>this.i_===n?a():(nt(ig,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kT extends PT{constructor(n,a,s,c,f,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,s,c,m),this.serializer=f}f_(n,a){return this.connection.Wo("Listen",n,a)}g_(n){return this.onNext(n)}onNext(n){this.a_.reset();const a=JE(this.serializer,n),s=function(f){if(!("targetChange"in f))return mt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?mt.min():m.readTime?hr(m.readTime):mt.min()}(n);return this.listener.p_(a,s)}y_(n){const a={};a.database=qm(this.serializer),a.addTarget=function(f,m){let y;const _=m.target;if(y=Ec(_)?{documents:WE(f,_)}:{query:tT(f,_).ht},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=FE(f,m.resumeToken);const v=Cc(f,m.expectedCount);v!==null&&(y.expectedCount=v)}else if(m.snapshotVersion.compareTo(mt.min())>0){y.readTime=XE(f,m.snapshotVersion.toTimestamp());const v=Cc(f,m.expectedCount);v!==null&&(y.expectedCount=v)}return y}(this.serializer,n);const s=nT(this.serializer,n);s&&(a.labels=s),this.I_(a)}w_(n){const a={};a.database=qm(this.serializer),a.removeTarget=n,this.I_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class GT extends jT{constructor(n,a,s,c){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=s,this.serializer=c,this.F_=!1}M_(){if(this.F_)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(n,a,s,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.So(n,Vc(a,s),c,f,m)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(J.UNKNOWN,f.toString())})}Co(n,a,s,c,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Co(n,Vc(a,s),c,m,y,f)).catch(m=>{throw m.name==="FirebaseError"?(m.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ot(J.UNKNOWN,m.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QT{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(n){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.L_("Offline")))}set(n){this.Q_(),this.x_=0,n==="Online"&&(this.N_=!1),this.L_(n)}L_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}k_(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Jn(a),this.N_=!1):nt("OnlineStateTracker",a)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class YT{constructor(n,a,s,c,f){this.localStore=n,this.datastore=a,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(m=>{s.enqueueAndForget(async()=>{Vs(this)&&(nt(gr,"Restarting streams for network reachability change."),await async function(_){const v=wt(_);v.W_.add(4),await Cs(v),v.j_.set("Unknown"),v.W_.delete(4),await gu(v)}(this))})}),this.j_=new QT(s,c)}}async function gu(l){if(Vs(l))for(const n of l.G_)await n(!0)}async function Cs(l){for(const n of l.G_)await n(!1)}function ag(l,n){const a=wt(l);a.K_.has(n.targetId)||(a.K_.set(n.targetId,n),kc(a)?Pc(a):pr(a).c_()&&Hc(a,n))}function qc(l,n){const a=wt(l),s=pr(a);a.K_.delete(n),s.c_()&&rg(a,n),a.K_.size===0&&(s.c_()?s.P_():Vs(a)&&a.j_.set("Unknown"))}function Hc(l,n){if(l.H_.Ne(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(mt.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}pr(l).y_(n)}function rg(l,n){l.H_.Ne(n),pr(l).w_(n)}function Pc(l){l.H_=new jE({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),lt:n=>l.K_.get(n)||null,it:()=>l.datastore.serializer.databaseId}),pr(l).start(),l.j_.B_()}function kc(l){return Vs(l)&&!pr(l).u_()&&l.K_.size>0}function Vs(l){return wt(l).W_.size===0}function sg(l){l.H_=void 0}async function KT(l){l.j_.set("Online")}async function XT(l){l.K_.forEach((n,a)=>{Hc(l,n)})}async function FT(l,n){sg(l),kc(l)?(l.j_.q_(n),Pc(l)):l.j_.set("Unknown")}async function ZT(l,n,a){if(l.j_.set("Online"),n instanceof xm&&n.state===2&&n.cause)try{await async function(c,f){const m=f.cause;for(const y of f.targetIds)c.K_.has(y)&&(await c.remoteSyncer.rejectListen(y,m),c.K_.delete(y),c.H_.removeTarget(y))}(l,n)}catch(s){nt(gr,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),await lg(l,s)}else if(n instanceof hu?l.H_.We(n):n instanceof Im?l.H_.Ze(n):l.H_.je(n),!a.isEqual(mt.min()))try{const s=await Zm(l.localStore);a.compareTo(s)>=0&&await function(f,m){const y=f.H_.ot(m);return y.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.K_.get(v);A&&f.K_.set(v,A.withResumeToken(_.resumeToken,m))}}),y.targetMismatches.forEach((_,v)=>{const A=f.K_.get(_);if(!A)return;f.K_.set(_,A.withResumeToken(Oe.EMPTY_BYTE_STRING,A.snapshotVersion)),rg(f,_);const z=new Ui(A.target,_,v,A.sequenceNumber);Hc(f,z)}),f.remoteSyncer.applyRemoteEvent(y)}(l,a)}catch(s){nt(gr,"Failed to raise snapshot:",s),await lg(l,s)}}async function lg(l,n,a){if(!lr(n))throw n;l.W_.add(1),await Cs(l),l.j_.set("Offline"),a||(a=()=>Zm(l.localStore)),l.asyncQueue.enqueueRetryable(async()=>{nt(gr,"Retrying IndexedDB access"),await a(),l.W_.delete(1),await gu(l)})}async function ug(l,n){const a=wt(l);a.asyncQueue.verifyOperationInProgress(),nt(gr,"RemoteStore received new credentials");const s=Vs(a);a.W_.add(3),await Cs(a),s&&a.j_.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.W_.delete(3),await gu(a)}async function $T(l,n){const a=wt(l);n?(a.W_.delete(2),await gu(a)):n||(a.W_.add(2),await Cs(a),a.j_.set("Unknown"))}function pr(l){return l.J_||(l.J_=function(a,s,c){const f=wt(a);return f.M_(),new kT(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{xo:KT.bind(null,l),No:XT.bind(null,l),Lo:FT.bind(null,l),p_:ZT.bind(null,l)}),l.G_.push(async n=>{n?(l.J_.h_(),kc(l)?Pc(l):l.j_.set("Unknown")):(await l.J_.stop(),sg(l))})),l.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(n,a,s,c,f){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=s,this.op=c,this.removalCallback=f,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,a,s,c,f){const m=Date.now()+s,y=new jc(n,a,m,c,f);return y.start(s),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(l,n){if(Jn("AsyncQueue",`${n}: ${l}`),lr(l))return new ot(J.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{static emptySet(n){return new yr(n.comparator)}constructor(n){this.comparator=n?(a,s)=>n(a,s)||ct.comparator(a.key,s.key):(a,s)=>ct.comparator(a.key,s.key),this.keyedMap=Ss(),this.sortedSet=new re(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,s)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof yr)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;a.hasNext();){const c=a.getNext().key,f=s.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const s=new yr;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=a,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Z_=new re(ct.comparator)}track(n){const a=n.doc.key,s=this.Z_.get(a);s?n.type!==0&&s.type===3?this.Z_=this.Z_.insert(a,n):n.type===3&&s.type!==1?this.Z_=this.Z_.insert(a,{type:s.type,doc:n.doc}):n.type===2&&s.type===2?this.Z_=this.Z_.insert(a,{type:2,doc:n.doc}):n.type===2&&s.type===0?this.Z_=this.Z_.insert(a,{type:0,doc:n.doc}):n.type===1&&s.type===0?this.Z_=this.Z_.remove(a):n.type===1&&s.type===2?this.Z_=this.Z_.insert(a,{type:1,doc:s.doc}):n.type===0&&s.type===1?this.Z_=this.Z_.insert(a,{type:2,doc:n.doc}):yt():this.Z_=this.Z_.insert(a,n)}X_(){const n=[];return this.Z_.inorderTraversal((a,s)=>{n.push(s)}),n}}class _r{constructor(n,a,s,c,f,m,y,_,v){this.query=n,this.docs=a,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(n,a,s,c,f){const m=[];return a.forEach(y=>{m.push({type:0,doc:y})}),new _r(n,a,yr.emptySet(a),m,s,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&iu(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,s=n.docChanges;if(a.length!==s.length)return!1;for(let c=0;c<a.length;c++)if(a[c].type!==s[c].type||!a[c].doc.isEqual(s[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(n=>n.ra())}}class WT{constructor(){this.queries=hg(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(a,s){const c=wt(a),f=c.queries;c.queries=hg(),f.forEach((m,y)=>{for(const _ of y.ta)_.onError(s)})})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function hg(){return new ga(l=>ym(l),iu)}async function tA(l,n){const a=wt(l);let s=3;const c=n.query;let f=a.queries.get(c);f?!f.na()&&n.ra()&&(s=2):(f=new JT,s=n.ra()?0:1);try{switch(s){case 0:f.ea=await a.onListen(c,!0);break;case 1:f.ea=await a.onListen(c,!1);break;case 2:await a.onFirstRemoteStoreListen(c)}}catch(m){const y=og(m,`Initialization of query '${cr(n.query)}' failed`);return void n.onError(y)}a.queries.set(c,f),f.ta.push(n),n.sa(a.onlineState),f.ea&&n.oa(f.ea)&&Gc(a)}async function eA(l,n){const a=wt(l),s=n.query;let c=3;const f=a.queries.get(s);if(f){const m=f.ta.indexOf(n);m>=0&&(f.ta.splice(m,1),f.ta.length===0?c=n.ra()?0:1:!f.na()&&n.ra()&&(c=2))}switch(c){case 0:return a.queries.delete(s),a.onUnlisten(s,!0);case 1:return a.queries.delete(s),a.onUnlisten(s,!1);case 2:return a.onLastRemoteStoreUnlisten(s);default:return}}function nA(l,n){const a=wt(l);let s=!1;for(const c of n){const f=c.query,m=a.queries.get(f);if(m){for(const y of m.ta)y.oa(c)&&(s=!0);m.ea=c}}s&&Gc(a)}function iA(l,n,a){const s=wt(l),c=s.queries.get(n);if(c)for(const f of c.ta)f.onError(a);s.queries.delete(n)}function Gc(l){l.ia.forEach(n=>{n.next()})}var Qc,fg;(fg=Qc||(Qc={}))._a="default",fg.Cache="cache";class aA{constructor(n,a,s){this.query=n,this.aa=a,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(n){if(!this.options.includeMetadataChanges){const s=[];for(const c of n.docChanges)c.type!==3&&s.push(c);n=new _r(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.ua?this.la(n)&&(this.aa.next(n),a=!0):this.ha(n,this.onlineState)&&(this.Pa(n),a=!0),this.ca=n,a}onError(n){this.aa.error(n)}sa(n){this.onlineState=n;let a=!1;return this.ca&&!this.ua&&this.ha(this.ca,n)&&(this.Pa(this.ca),a=!0),a}ha(n,a){if(!n.fromCache||!this.ra())return!0;const s=a!=="Offline";return(!this.options.Ta||!s)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}la(n){if(n.docChanges.length>0)return!0;const a=this.ca&&this.ca.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}Pa(n){n=_r.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.ua=!0,this.aa.next(n)}ra(){return this.options.source!==Qc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(n){this.key=n}}class mg{constructor(n){this.key=n}}class rA{constructor(n,a){this.query=n,this.fa=a,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=_m(n),this.wa=new yr(this.ya)}get Sa(){return this.fa}ba(n,a){const s=a?a.Da:new cg,c=a?a.wa:this.wa;let f=a?a.mutatedKeys:this.mutatedKeys,m=c,y=!1;const _=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,v=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((A,z)=>{const P=c.get(A),X=au(this.query,z)?z:null,et=!!P&&this.mutatedKeys.has(P.key),st=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let tt=!1;P&&X?P.data.isEqual(X.data)?et!==st&&(s.track({type:3,doc:X}),tt=!0):this.va(P,X)||(s.track({type:2,doc:X}),tt=!0,(_&&this.ya(X,_)>0||v&&this.ya(X,v)<0)&&(y=!0)):!P&&X?(s.track({type:0,doc:X}),tt=!0):P&&!X&&(s.track({type:1,doc:P}),tt=!0,(_||v)&&(y=!0)),tt&&(X?(m=m.add(X),f=st?f.add(A):f.delete(A)):(m=m.delete(A),f=f.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{wa:m,Da:s,ls:y,mutatedKeys:f}}va(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,s,c){const f=this.wa;this.wa=n.wa,this.mutatedKeys=n.mutatedKeys;const m=n.Da.X_();m.sort((A,z)=>function(X,et){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return st(X)-st(et)}(A.type,z.type)||this.ya(A.doc,z.doc)),this.Ca(s),c=c!=null&&c;const y=a&&!c?this.Fa():[],_=this.pa.size===0&&this.current&&!c?1:0,v=_!==this.ga;return this.ga=_,m.length!==0||v?{snapshot:new _r(this.query,n.wa,f,m,n.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(n){return!this.fa.has(n)&&!!this.wa.has(n)&&!this.wa.get(n).hasLocalMutations}Ca(n){n&&(n.addedDocuments.forEach(a=>this.fa=this.fa.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.fa=this.fa.delete(a)),this.current=n.current)}Fa(){if(!this.current)return[];const n=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const a=[];return n.forEach(s=>{this.pa.has(s)||a.push(new mg(s))}),this.pa.forEach(s=>{n.has(s)||a.push(new dg(s))}),a}Oa(n){this.fa=n.gs,this.pa=Nt();const a=this.ba(n.documents);return this.applyChanges(a,!0)}Na(){return _r.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yc="SyncEngine";class sA{constructor(n,a,s){this.query=n,this.targetId=a,this.view=s}}class lA{constructor(n){this.key=n,this.Ba=!1}}class uA{constructor(n,a,s,c,f,m){this.localStore=n,this.remoteStore=a,this.eventManager=s,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.La={},this.ka=new ga(y=>ym(y),iu),this.qa=new Map,this.Qa=new Set,this.$a=new re(ct.comparator),this.Ua=new Map,this.Ka=new Nc,this.Wa={},this.Ga=new Map,this.za=mr.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oA(l,n,a=!0){const s=Tg(l);let c;const f=s.ka.get(n);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Na()):c=await gg(s,n,a,!0),c}async function cA(l,n){const a=Tg(l);await gg(a,n,!0,!1)}async function gg(l,n,a,s){const c=await IT(l.localStore,In(n)),f=c.targetId,m=l.sharedClientState.addLocalQueryTarget(f,a);let y;return s&&(y=await hA(l,n,f,m==="current",c.resumeToken)),l.isPrimaryClient&&a&&ag(l.remoteStore,c),y}async function hA(l,n,a,s,c){l.Ha=(z,P,X)=>async function(st,tt,qt,Mt){let _t=tt.view.ba(qt);_t.ls&&(_t=await $m(st.localStore,tt.query,!1).then(({documents:O})=>tt.view.ba(O,_t)));const Lt=Mt&&Mt.targetChanges.get(tt.targetId),gt=Mt&&Mt.targetMismatches.get(tt.targetId)!=null,xt=tt.view.applyChanges(_t,st.isPrimaryClient,Lt,gt);return vg(st,tt.targetId,xt.Ma),xt.snapshot}(l,z,P,X);const f=await $m(l.localStore,n,!0),m=new rA(n,f.gs),y=m.ba(f.documents),_=Ds.createSynthesizedTargetChangeForCurrentChange(a,s&&l.onlineState!=="Offline",c),v=m.applyChanges(y,l.isPrimaryClient,_);vg(l,a,v.Ma);const A=new sA(n,a,m);return l.ka.set(n,A),l.qa.has(a)?l.qa.get(a).push(n):l.qa.set(a,[n]),v.snapshot}async function fA(l,n,a){const s=wt(l),c=s.ka.get(n),f=s.qa.get(c.targetId);if(f.length>1)return s.qa.set(c.targetId,f.filter(m=>!iu(m,n))),void s.ka.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||await Uc(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),a&&qc(s.remoteStore,c.targetId),Kc(s,c.targetId)}).catch(Yl)):(Kc(s,c.targetId),await Uc(s.localStore,c.targetId,!0))}async function dA(l,n){const a=wt(l),s=a.ka.get(n),c=a.qa.get(s.targetId);a.isPrimaryClient&&c.length===1&&(a.sharedClientState.removeLocalQueryTarget(s.targetId),qc(a.remoteStore,s.targetId))}async function pg(l,n){const a=wt(l);try{const s=await NT(a.localStore,n);n.targetChanges.forEach((c,f)=>{const m=a.Ua.get(f);m&&(Jt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Ba=!0:c.modifiedDocuments.size>0?Jt(m.Ba):c.removedDocuments.size>0&&(Jt(m.Ba),m.Ba=!1))}),await Eg(a,s,n)}catch(s){await Yl(s)}}function yg(l,n,a){const s=wt(l);if(s.isPrimaryClient&&a===0||!s.isPrimaryClient&&a===1){const c=[];s.ka.forEach((f,m)=>{const y=m.view.sa(n);y.snapshot&&c.push(y.snapshot)}),function(m,y){const _=wt(m);_.onlineState=y;let v=!1;_.queries.forEach((A,z)=>{for(const P of z.ta)P.sa(y)&&(v=!0)}),v&&Gc(_)}(s.eventManager,n),c.length&&s.La.p_(c),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}async function mA(l,n,a){const s=wt(l);s.sharedClientState.updateQueryState(n,"rejected",a);const c=s.Ua.get(n),f=c&&c.key;if(f){let m=new re(ct.comparator);m=m.insert(f,qe.newNoDocument(f,mt.min()));const y=Nt().add(f),_=new cu(mt.min(),new Map,new re(Et),m,y);await pg(s,_),s.$a=s.$a.remove(f),s.Ua.delete(n),Xc(s)}else await Uc(s.localStore,n,!1).then(()=>Kc(s,n,a)).catch(Yl)}function Kc(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.qa.get(n))l.ka.delete(s),a&&l.La.Ja(s,a);l.qa.delete(n),l.isPrimaryClient&&l.Ka.br(n).forEach(s=>{l.Ka.containsKey(s)||_g(l,s)})}function _g(l,n){l.Qa.delete(n.path.canonicalString());const a=l.$a.get(n);a!==null&&(qc(l.remoteStore,a),l.$a=l.$a.remove(n),l.Ua.delete(a),Xc(l))}function vg(l,n,a){for(const s of a)s instanceof dg?(l.Ka.addReference(s.key,n),gA(l,s)):s instanceof mg?(nt(Yc,"Document no longer in limbo: "+s.key),l.Ka.removeReference(s.key,n),l.Ka.containsKey(s.key)||_g(l,s.key)):yt()}function gA(l,n){const a=n.key,s=a.path.canonicalString();l.$a.get(a)||l.Qa.has(s)||(nt(Yc,"New document in limbo: "+a),l.Qa.add(s),Xc(l))}function Xc(l){for(;l.Qa.size>0&&l.$a.size<l.maxConcurrentLimboResolutions;){const n=l.Qa.values().next().value;l.Qa.delete(n);const a=new ct(te.fromString(n)),s=l.za.next();l.Ua.set(s,new lA(a)),l.$a=l.$a.insert(a,s),ag(l.remoteStore,new Ui(In(Tc(a.path)),s,"TargetPurposeLimboResolution",Kl.ae))}}async function Eg(l,n,a){const s=wt(l),c=[],f=[],m=[];s.ka.isEmpty()||(s.ka.forEach((y,_)=>{m.push(s.Ha(_,n,a).then(v=>{var A;if((v||a)&&s.isPrimaryClient){const z=v?!v.fromCache:(A=a==null?void 0:a.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,z?"current":"not-current")}if(v){c.push(v);const z=Ic.Yi(_.targetId,v);f.push(z)}}))}),await Promise.all(m),s.La.p_(c),await async function(_,v){const A=wt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",z=>Y.forEach(v,P=>Y.forEach(P.Hi,X=>A.persistence.referenceDelegate.addReference(z,P.targetId,X)).next(()=>Y.forEach(P.Ji,X=>A.persistence.referenceDelegate.removeReference(z,P.targetId,X)))))}catch(z){if(!lr(z))throw z;nt(xc,"Failed to update sequence numbers: "+z)}for(const z of v){const P=z.targetId;if(!z.fromCache){const X=A.Ts.get(P),et=X.snapshotVersion,st=X.withLastLimboFreeSnapshotVersion(et);A.Ts=A.Ts.insert(P,st)}}}(s.localStore,f))}async function pA(l,n){const a=wt(l);if(!a.currentUser.isEqual(n)){nt(Yc,"User change. New user:",n.toKey());const s=await Fm(a.localStore,n);a.currentUser=n,function(f,m){f.Ga.forEach(y=>{y.forEach(_=>{_.reject(new ot(J.CANCELLED,m))})}),f.Ga.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),await Eg(a,s.Rs)}}function yA(l,n){const a=wt(l),s=a.Ua.get(n);if(s&&s.Ba)return Nt().add(s.key);{let c=Nt();const f=a.qa.get(n);if(!f)return c;for(const m of f){const y=a.ka.get(m);c=c.unionWith(y.view.Sa)}return c}}function Tg(l){const n=wt(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=pg.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=yA.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=mA.bind(null,n),n.La.p_=nA.bind(null,n.eventManager),n.La.Ja=iA.bind(null,n.eventManager),n}class pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=eg(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),await this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)}tu(n,a){return null}nu(n,a){return null}eu(n){return OT(this.persistence,new DT,n.initialUser,this.serializer)}Xa(n){return new Xm(Mc.ri,this.serializer)}Za(n){return new UT}async terminate(){var n,a;(n=this.gcScheduler)===null||n===void 0||n.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pu.provider={build:()=>new pu};class _A extends pu{constructor(n){super(),this.cacheSizeBytes=n}tu(n,a){Jt(this.persistence.referenceDelegate instanceof du);const s=this.persistence.referenceDelegate.garbageCollector;return new fT(s,n.asyncQueue,a)}Xa(n){const a=this.cacheSizeBytes!==void 0?Fe.withCacheSize(this.cacheSizeBytes):Fe.DEFAULT;return new Xm(s=>du.ri(s,a),this.serializer)}}class Fc{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pA.bind(null,this.syncEngine),await $T(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new WT}()}createDatastore(n){const a=eg(n.databaseInfo.databaseId),s=function(f){return new HT(f)}(n.databaseInfo);return function(f,m,y,_){return new GT(f,m,y,_)}(n.authCredentials,n.appCheckCredentials,s,a)}createRemoteStore(n){return function(s,c,f,m,y){return new YT(s,c,f,m,y)}(this.localStore,this.datastore,n.asyncQueue,a=>yg(this.syncEngine,a,0),function(){return tg.D()?new tg:new zT}())}createSyncEngine(n,a){return function(c,f,m,y,_,v,A){const z=new uA(c,f,m,y,_,v);return A&&(z.ja=!0),z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await async function(c){const f=wt(c);nt(gr,"RemoteStore shutting down."),f.W_.add(5),await Cs(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}Fc.provider={build:()=>new Fc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.iu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.iu(this.observer.error,n):Jn("Uncaught Error in snapshot listener:",n.toString()))}su(){this.muted=!0}iu(n,a){setTimeout(()=>{this.muted||n(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class EA{constructor(n,a,s,c,f){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=s,this.databaseInfo=c,this.user=Be.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async m=>{nt(zi,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(s,m=>(nt(zi,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const s=og(a,"Failed to shutdown persistence");n.reject(s)}}),n.promise}}async function Zc(l,n){l.asyncQueue.verifyOperationInProgress(),nt(zi,"Initializing OfflineComponentProvider");const a=l.configuration;await n.initialize(a);let s=a.initialUser;l.setCredentialChangeListener(async c=>{s.isEqual(c)||(await Fm(n.localStore,c),s=c)}),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}async function Ag(l,n){l.asyncQueue.verifyOperationInProgress();const a=await TA(l);nt(zi,"Initializing OnlineComponentProvider"),await n.initialize(a,l.configuration),l.setCredentialChangeListener(s=>ug(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,c)=>ug(n.remoteStore,c)),l._onlineComponents=n}async function TA(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){nt(zi,"Using user provided OfflineComponentProvider");try{await Zc(l,l._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!function(c){return c.name==="FirebaseError"?c.code===J.FAILED_PRECONDITION||c.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(a))throw a;rr("Error using user provided cache. Falling back to memory cache: "+a),await Zc(l,new pu)}}else nt(zi,"Using default OfflineComponentProvider"),await Zc(l,new _A(void 0));return l._offlineComponents}async function AA(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(nt(zi,"Using user provided OnlineComponentProvider"),await Ag(l,l._uninitializedComponentsProvider._online)):(nt(zi,"Using default OnlineComponentProvider"),await Ag(l,new Fc))),l._onlineComponents}async function SA(l){const n=await AA(l),a=n.eventManager;return a.onListen=oA.bind(null,n.syncEngine),a.onUnlisten=fA.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=cA.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=dA.bind(null,n.syncEngine),a}function bA(l,n,a={}){const s=new ma;return l.asyncQueue.enqueueAndForget(async()=>function(f,m,y,_,v){const A=new vA({next:P=>{A.su(),m.enqueueAndForget(()=>eA(f,z));const X=P.docs.has(y);!X&&P.fromCache?v.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&P.fromCache&&_&&_.source==="server"?v.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(P)},error:P=>v.reject(P)}),z=new aA(Tc(y.path),A,{includeMetadataChanges:!0,Ta:!0});return tA(f,z)}(await SA(l),l.asyncQueue,n,a,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(l,n,a){if(!a)throw new ot(J.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function wA(l,n,a,s){if(n===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function Rg(l){if(!ct.isDocumentKey(l))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function DA(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=function(s){return s.constructor?s.constructor.name:null}(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":yt()}function $c(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=DA(l);throw new ot(J.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="firestore.googleapis.com",Dg=!0;class Cg{constructor(n){var a,s;if(n.host===void 0){if(n.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wg,this.ssl=Dg}else this.host=n.host,this.ssl=(a=n.ssl)!==null&&a!==void 0?a:Dg;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=Qm;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<cT)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}wA("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sg((s=n.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(s,c){return s.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Jc{constructor(n,a,s,c){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new q0;switch(s.type){case"firstParty":return new j0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const s=bg.get(a);s&&(nt("ComponentProvider","Removing Datastore"),bg.delete(a),s.terminate())}(this),Promise.resolve()}}function CA(l,n,a,s={}){var c;const f=(l=$c(l,Jc))._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:l._getEmulatorOptions()}),y=`${n}:${a}`;f.host!==wg&&f.host!==y&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:y,ssl:!1,emulatorOptions:s});if(!Pl(_,m)&&(l._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Be.MOCK_USER;else{v=yv(s.mockUserToken,(c=l._app)===null||c===void 0?void 0:c.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Be(z)}l._authCredentials=new H0(new Hd(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(n,a,s){this.converter=a,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Wc(this.firestore,n,this._query)}}class Wn{constructor(n,a,s){this.converter=a,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Wn(this.firestore,n,this._key)}}class Os extends Wc{constructor(n,a,s){super(n,a,Tc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Wn(this.firestore,null,new ct(n))}withConverter(n){return new Os(this.firestore,n,this._path)}}function VA(l,n,...a){if(l=wv(l),arguments.length===1&&(n=jd.newId()),RA("doc","path",n),l instanceof Jc){const s=te.fromString(n,...a);return Rg(s),new Wn(l,null,new ct(s))}{if(!(l instanceof Wn||l instanceof Os))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(te.fromString(n,...a));return Rg(s),new Wn(l.firestore,l instanceof Os?l.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="AsyncQueue";class Og{constructor(n=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ng(this,"async_queue_retry"),this.Su=()=>{const s=Bc();s&&nt(Vg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=n;const a=Bc();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Du(),this.vu(n)}enterRestrictedMode(n){if(!this.mu){this.mu=!0,this.yu=n||!1;const a=Bc();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.Su)}}enqueue(n){if(this.Du(),this.mu)return new Promise(()=>{});const a=new ma;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Vu.push(n),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(n){if(!lr(n))throw n;nt(Vg,"Operation failed with retryable error: "+n)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(n){const a=this.bu.then(()=>(this.pu=!0,n().catch(s=>{this.gu=s,this.pu=!1;const c=function(m){let y=m.message||"";return m.stack&&(y=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),y}(s);throw Jn("INTERNAL UNHANDLED ERROR: ",c),s}).then(s=>(this.pu=!1,s))));return this.bu=a,a}enqueueAfterDelay(n,a,s){this.Du(),this.wu.indexOf(n)>-1&&(a=0);const c=jc.createAndSchedule(this,n,a,s,f=>this.Fu(f));return this.fu.push(c),c}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let n;do n=this.bu,await n;while(n!==this.bu)}xu(n){for(const a of this.fu)if(a.timerId===n)return!0;return!1}Ou(n){return this.Mu().then(()=>{this.fu.sort((a,s)=>a.targetTimeMs-s.targetTimeMs);for(const a of this.fu)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Mu()})}Nu(n){this.wu.push(n)}Fu(n){const a=this.fu.indexOf(n);this.fu.splice(a,1)}}class Ng extends Jc{constructor(n,a,s,c){super(n,a,s,c),this.type="firestore",this._queue=new Og,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Og(n),this._firestoreClient=void 0,await n}}}function OA(l,n){const a=typeof l=="object"?l:C0(),s=typeof l=="string"?l:$l,c=S0(a,"firestore").getImmediate({identifier:s});if(!c._initialized){const f=gv("firestore");f&&CA(c,...f)}return c}function NA(l){if(l._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||MA(l),l._firestoreClient}function MA(l){var n,a,s;const c=l._freezeSettings(),f=function(y,_,v,A){return new rE(y,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Sg(A.experimentalLongPollingOptions),A.useFetchStreams)}(l._databaseId,((n=l._app)===null||n===void 0?void 0:n.options.appId)||"",l._persistenceKey,c);l._componentsProvider||!((a=c.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((s=c.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(l._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),l._firestoreClient=new EA(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new yu(Oe.fromBase64String(n))}catch(a){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new yu(Oe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Et(this._lat,n._lat)||Et(this._long,n._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(n){this._values=(n||[]).map(a=>a)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,c){if(s.length!==c.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==c[f])return!1;return!0}(this._values,n._values)}}const UA=new RegExp("[~\\*/\\[\\]]");function zA(l,n,a){if(n.search(UA)>=0)throw Ig(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new Mg(...n.split("."))._internalPath}catch{throw Ig(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function Ig(l,n,a,s,c){let f=`Function ${n}() called with invalid data`;f+=". ";let m="";return new ot(J.INVALID_ARGUMENT,f+l+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(n,a,s,c,f){this._firestore=n,this._userDataWriter=a,this._key=s,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(Ug("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class LA extends xg{data(){return super.data()}}function Ug(l,n){return typeof n=="string"?zA(l,n):n instanceof Mg?n._internalPath:n._delegate._internalPath}class BA{convertValue(n,a="none"){switch(Ii(n)){case 0:return null;case 1:return n.booleanValue;case 2:return se(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(Mi(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw yt()}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const s={};return ys(n,(c,f)=>{s[c]=this.convertValue(f,a)}),s}convertVectorValue(n){var a,s,c;const f=(c=(s=(a=n.fields)===null||a===void 0?void 0:a[fc].arrayValue)===null||s===void 0?void 0:s.values)===null||c===void 0?void 0:c.map(m=>se(m.doubleValue));return new xA(f)}convertGeoPoint(n){return new IA(se(n.latitude),se(n.longitude))}convertArray(n,a){return(n.values||[]).map(s=>this.convertValue(s,a))}convertServerTimestamp(n,a){switch(a){case"previous":const s=Zl(n);return s==null?null:this.convertValue(s,a);case"estimate":return this.convertTimestamp(_s(n));default:return null}}convertTimestamp(n){const a=Ni(n);return new Xe(a.seconds,a.nanos)}convertDocumentKey(n,a){const s=te.fromString(n);Jt(jm(s));const c=new vs(s.get(1),s.get(3)),f=new ct(s.popFirst(5));return c.isEqual(a)||Jn(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class zg extends xg{constructor(n,a,s,c,f,m){super(n,a,s,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new HA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const s=this._document.data.field(Ug("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}}class HA extends zg{data(n={}){return super.data(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(l){l=$c(l,Wn);const n=$c(l.firestore,Ng);return bA(NA(n),l._key).then(a=>jA(n,l,a))}class kA extends BA{constructor(n){super(),this.firestore=n}convertBytes(n){return new yu(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new Wn(this.firestore,null,a)}}function jA(l,n,a){const s=a.docs.get(n._key),c=new kA(l);return new zg(l,c,n._key,s,new qA(a.hasPendingWrites,a.fromCache),n.converter)}(function(n,a=!0){(function(c){ir=c})(D0),jl(new ds("firestore",(s,{instanceIdentifier:c,options:f})=>{const m=s.getProvider("app").getImmediate(),y=new Ng(new P0(s.getProvider("auth-internal")),new G0(m,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vs(v.options.projectId,A)}(m,c),m);return f=Object.assign({useFetchStreams:a},f),y._setSettings(f),y},"PUBLIC").setMultipleInstances(!0)),nr(Bd,qd,n),nr(Bd,qd,"esm2017")})();var GA="firebase",QA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(GA,QA,"app");const YA=Rd({apiKey:"AIzaSyB-0TL358O140wB7PeuA_NIEBvQaoFHM9A",authDomain:"whatsapp-chatbot-33551.firebaseapp.com",projectId:"whatsapp-chatbot-33551",storageBucket:"whatsapp-chatbot-33551.firebasestorage.app",messagingSenderId:"340832961461",appId:"1:340832961461:web:27141c87178c87cdff8ffc",measurementId:"G-53HFLMV94E"}),KA=OA(YA);function XA({chatbotId:l,initialGreeting:n="Hello! How can I help you?",backgroundColor:a="#000000",chatbotSize:s="medium",logoUrl:c="",initialQuestions:f=[]}){const[m,y]=ql.useState(!1),[_,v]=ql.useState({initialGreeting:n,backgroundColor:a,chatbotSize:s,logoUrl:c,initialQuestions:f});return ql.useEffect(()=>{l&&(async()=>{try{const z=VA(KA,"chatbots",l),P=await PA(z);if(P.exists()){const X=P.data();v({initialGreeting:X.initialGreeting||n,backgroundColor:X.backgroundColor||a,chatbotSize:X.chatbotSize||s,logoUrl:X.logoUrl||c,initialQuestions:X.initialQuestions||f})}}catch(z){console.error("Error fetching chatbot settings:",z)}})()},[l]),An.jsxs("div",{className:`embedded-chatbot ${_.chatbotSize} ${m?"open":""}`,children:[An.jsx("button",{className:"chatbot-toggle",onClick:()=>y(!m),style:{backgroundColor:_.backgroundColor},children:An.jsx("img",{src:_.logoUrl||"/default-bot-icon.png",alt:"Chatbot"})}),m&&An.jsxs("div",{className:"chatbot-window",style:{backgroundColor:_.backgroundColor},children:[An.jsxs("div",{className:"chatbot-header",children:[An.jsx("span",{children:_.initialGreeting}),An.jsx("button",{onClick:()=>y(!1),children:"×"})]}),An.jsx("div",{className:"chatbot-body",children:_.initialQuestions.map((A,z)=>An.jsx("button",{className:"question-button",children:A},z))})]})]})}window.mountChatbot=(l,n)=>{const a=document.getElementById(l);a&&av.createRoot(a).render(An.jsx(Z_.StrictMode,{children:An.jsx(XA,{...n})}))}})();
